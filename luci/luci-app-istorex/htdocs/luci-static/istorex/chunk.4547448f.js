var m=(v,c,d)=>new Promise((l,e)=>{var u=o=>{try{r(d.next(o))}catch(s){e(s)}},i=o=>{try{r(d.throw(o))}catch(s){e(s)}},r=o=>o.done?l(o.value):Promise.resolve(o.value).then(u,i);r((d=d.apply(v,c)).next())});import{d as N,r as b,x as F,M as P,o as p,c as D,f as n,w as _,y as S,F as w,j as I,h as g,t as x,g as B,i as y,T as k}from"./index.js?v=9df63d42";const E=n("div",{class:"label-name"},[n("span",null,"DNS\u9009\u9879")],-1),C={class:"label-value"},A=n("option",{value:"auto"},"\u4F7F\u7528\u8FD0\u8425\u5546\u63D0\u4F9B\u7684DNS",-1),T=n("option",{value:"manual"},"\u81EA\u5B9A\u4E49DNS",-1),V=[A,T],M=n("div",{class:"label-name"},[n("span",null,"DNS\u670D\u52A1\u5668\u5730\u5740")],-1),G={class:"label-value"},U=n("div",{class:"label-name"}," \u5907\u7528DNS\u670D\u52A1\u5668\u5730\u5740 ",-1),q={class:"label-value"},j={class:"label-btns"},L=["disabled"],O={key:1,class:"label-msg"},J=N({__name:"index",setup(v){return m(this,null,function*(){let c,d;const l=b(""),e=F({interfaceName:"",dnsProto:"auto",manualDnsIp:[]}),u=F({dns1:"",dns2:""}),i=b(!1),r=()=>m(this,null,function*(){i.value=!0;try{const s=yield y.Guide.DnsConfig.GET();if(s!=null&&s.data){const{result:t}=s.data;if(t){e.dnsProto=t.dnsProto,e.manualDnsIp=t.manualDnsIp||[];for(let a=0;a<e.manualDnsIp.length;a++){a==0?u.dns1=e.manualDnsIp[a]:a==1&&(u.dns2=e.manualDnsIp[a]);break}}}}catch(s){l.value=s}i.value=!1});[c,d]=P(()=>r()),yield c,d();const o=()=>m(this,null,function*(){let s={};switch(e.dnsProto){case"auto":break;case"manual":s.manualDnsIp=[],e.manualDnsIp!=null&&e.manualDnsIp.length>0?s.manualDnsIp=e.manualDnsIp:(s.manualDnsIp.push(u.dns1),u.dns2&&s.manualDnsIp.push(u.dns2));break}s.dnsProto=e.dnsProto,s.interfaceName=e.interfaceName;const t=k.Loading("\u914D\u7F6E\u4E2D...");try{const a=yield y.Guide.DnsConfig.POST(s);if(a!=null&&a.data){const{success:f,error:h}=a==null?void 0:a.data;h&&(l.value=h),(f==null||f==0)&&(l.value="\u914D\u7F6E\u6210\u529F")}}catch(a){l.value=a}t.Close()});return(s,t)=>(p(),D("form",{class:"form-container",onSubmit:B(o,["prevent"])},[E,n("div",C,[_(n("select",{"onUpdate:modelValue":t[0]||(t[0]=a=>e.dnsProto=a)},V,512),[[S,e.dnsProto]])]),e.dnsProto=="manual"?(p(),D(w,{key:0},[M,n("div",G,[_(n("input",{type:"text",placeholder:"\u8BF7\u8F93\u5165 dns \u5730\u5740","onUpdate:modelValue":t[1]||(t[1]=a=>u.dns1=a),required:""},null,512),[[I,u.dns1,void 0,{trim:!0}]])]),U,n("div",q,[_(n("input",{type:"text",placeholder:"\u8BF7\u8F93\u5165\u5907\u7528 dns \u5730\u5740","onUpdate:modelValue":t[2]||(t[2]=a=>u.dns2=a)},null,512),[[I,u.dns2,void 0,{trim:!0}]])])],64)):g("",!0),n("div",j,[n("button",{class:"sumbit",disabled:i.value},"\u4FDD\u5B58",8,L)]),l.value?(p(),D("div",O,[n("span",null,x(l.value),1)])):g("",!0)],32))})}});export{J as default};
