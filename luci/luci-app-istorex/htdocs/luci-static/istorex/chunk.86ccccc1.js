var qe=Object.defineProperty,He=Object.defineProperties;var Oe=Object.getOwnPropertyDescriptors;var he=Object.getOwnPropertySymbols;var Ue=Object.prototype.hasOwnProperty,Re=Object.prototype.propertyIsEnumerable;var Fe=(e,u,s)=>u in e?qe(e,u,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[u]=s,vt=(e,u)=>{for(var s in u||(u={}))Ue.call(u,s)&&Fe(e,s,u[s]);if(he)for(var s of he(u))Re.call(u,s)&&Fe(e,s,u[s]);return e},ht=(e,u)=>He(e,Oe(u));var L=(e,u,s)=>new Promise((o,c)=>{var _=d=>{try{r(s.next(d))}catch(a){c(a)}},v=d=>{try{r(s.throw(d))}catch(a){c(a)}},r=d=>d.done?o(d.value):Promise.resolve(d.value).then(_,v);r((s=s.apply(e,u)).next())});import{d as P,r as g,G as jt,o as n,c as l,f as t,w as z,a7 as ke,F as q,e as J,u as $,h as b,H as x,A as T,t as p,a0 as Lt,_ as I,Q as Ge,L as K,i as M,T as w,a4 as We,p as H,q as O,a6 as et,a5 as $t,l as nt,m as Bt,z as N,a as R,v as Be,j as Y,g as ct,aa as ot,ab as Ze,y as Et,s as Z,O as Ht,a2 as we,x as mt,I as qt,R as Xt,E as Ae,V as it,ac as xe,ad as je,ae as me,X as Xe,a1 as Qe,N as lt,U as Ye,C as Se,a3 as Je,J as Ke}from"./index.js?v=9df63d42";import{i as Ft}from"./chunk.65c296e1.js";import{u as tu,i as eu,b as uu,c as su,d as nu,e as ou,f as au,g as iu,G as Rt,F as lu,a as cu}from"./chunk.5f6ffa63.js";var du="/luci-static/istorex/logo.png?v=d233e332",ru="/luci-static/istorex/task.svg?v=f6a42032",_u="/luci-static/istorex/safari.svg?v=1bf8526f",pu="/luci-static/istorex/setup.svg?v=69c7a200",vu="/luci-static/istorex/logout.svg?v=e9e539f8",hu="/luci-static/istorex/icon_language_auto.png?v=45447541",Fu="/luci-static/istorex/icon_language_cantonese.png?v=77010a8d",mu="/luci-static/istorex/icon_language_cn.png?v=9b80c184",fu="/luci-static/istorex/icon_language_en.png?v=ea39cc2b";const Ct=e=>(H("data-v-38bec0db"),e=e(),O(),e),Eu={class:"header"},Cu=Ct(()=>t("img",{src:du,alt:"logo"},null,-1)),gu={class:"menu"},bu={class:"language"},$u={class:"actions"},yu=["onClick"],Du=["src"],ku=["src"],Bu=["src"],wu=["src"],Au={class:"task"},xu={key:0,class:"dropdown-container"},Su={class:"title"},Iu=Ct(()=>t("span",null,"\u5B89\u88C5\u4EFB\u52A1",-1)),Vu=Ct(()=>t("div",{class:"auto"},null,-1)),Pu={class:"dropdown-container_menus"},Mu={class:"dropdown-menu_item"},Tu=Ct(()=>t("div",{class:"auto"},null,-1)),Lu={class:"status"},zu={key:0},Nu={key:1},qu={class:"btn"},Hu=Ct(()=>t("span",null," \u5B89\u88C5\u4E2D ",-1)),Ou={class:"wizard"},Uu={key:0,class:"dropdown-container",style:{width:"140px"}},Ru=Ct(()=>t("h2",{class:"title"},"\u5207\u6362\u5411\u5BFC\u6A21\u5F0F",-1)),Gu=Ct(()=>t("a",{href:"/cgi-bin/luci/admin/quickstart/"},[t("img",{width:"28",height:"28",title:"\u5207\u6362\u81F3\u666E\u901A\u7248\u672C",src:pu,alt:"setup"})],-1)),Wu=Ct(()=>t("a",{href:"/cgi-bin/luci/admin/logout"},[t("img",{width:"28",height:"28",title:"\u6CE8\u9500",src:vu,alt:"logout"})],-1)),Zu=P({__name:"index",setup(e){const u=Ge(),s=g(!1),o=g(K.defaultLanguage),c=()=>{s.value=!s.value},_=y=>C.value.indexOf(y)!=-1,v=y=>D.value.indexOf(y)!=-1,r=y=>{let A="";y===0&&(A="auto"),y===1&&(A="zh-CN"),y===2&&(A="zh-TW"),y===3&&(A="en"),o.value=A},d=g(!1),a=g(!1),i=g(!1),F=g([]),C=g([]),D=g([]),m=()=>L(this,null,function*(){try{const y=yield M.Quickstart.SetupResult.GET();if(y.data){const{result:A,error:W}=y.data;y.data.success==0&&A&&(F.value=A.packages||[],C.value=A.success||[],D.value=A.failed||[])}}catch(y){console.log(y)}});let f=!1;setTimeout(()=>L(this,null,function*(){yield m(),localStorage.getItem("nas_guide_init")&&(f=!0,d.value=!0)}),1e3);const E=()=>L(this,null,function*(){i.value||(yield B("router"))}),h=()=>L(this,null,function*(){i.value||(yield B("next-nas"))}),B=y=>L(this,null,function*(){i.value=!0;try{const A=yield M.Istorex.Updata.POST({model:y});if(w.Success("\u64CD\u4F5C\u6210\u529F"),A.data){const{success:W,error:V}=A.data;if(V)throw V;W===0&&u.push({path:`/${y}`})}}catch(A){w.Error(`${A}`)}finally{i.value=!1}}),S=()=>{d.value=!1,f&&localStorage.removeItem("nas_guide_init")},k=()=>{We.autoSetup.Open()};return(y,A)=>{const W=jt("icon-loading");return n(),l("div",Eu,[Cu,t("div",gu,[t("span",bu,[z(t("div",$u,[t("div",{class:"menu_background",onClick:c}),t("ul",null,[(n(),l(q,null,J(["Auto","\u7B80\u4F53\u4E2D\u6587","\u7E41\u4F53\u4E2D\u6587","\u82F1\u6587"],(V,U)=>t("li",{onClick:st=>r(U)},p(V),9,yu)),64))])],512),[[ke,s.value]]),o.value==="auto"?(n(),l("img",{key:0,width:"28",height:"28",src:$(hu),onClick:c},null,8,Du)):b("",!0),o.value==="zh-CN"?(n(),l("img",{key:1,width:"28",height:"28",src:$(mu),onClick:c},null,8,ku)):b("",!0),o.value==="zh-TW"?(n(),l("img",{key:2,width:"28",height:"28",src:$(Fu),onClick:c},null,8,Bu)):b("",!0),o.value==="en"?(n(),l("img",{key:3,width:"28",height:"28",src:$(fu),onClick:c},null,8,wu)):b("",!0)]),t("div",Au,[t("img",{onClick:A[0]||(A[0]=V=>d.value=!d.value),width:"28",height:"28",title:"\u5B89\u88C5\u4EFB\u52A1\u8FDB\u5EA6",src:ru,alt:"logo"}),d.value?(n(),l("div",{key:0,class:"dropdown-bg",onClick:S})):b("",!0),x(Lt,null,{default:T(()=>[d.value?(n(),l("div",xu,[t("h2",Su,[Iu,t("span",null,"("+p(C.value.length+D.value.length+"/"+F.value.length)+")",1),Vu,t("a",{onClick:k},"\u67E5\u770B\u65E5\u5FD7")]),t("div",Pu,[(n(!0),l(q,null,J(F.value,V=>(n(),l("div",Mu,[t("span",null,p(V),1),Tu,t("div",Lu,[_(V)?(n(),l("span",zu," \u6210\u529F ")):v(V)?(n(),l("span",Nu," \u5931\u8D25 ")):(n(),l(q,{key:2},[t("div",qu,[x(W)]),Hu],64))])]))),256))])])):b("",!0)]),_:1})]),t("div",Ou,[t("img",{onClick:A[1]||(A[1]=V=>a.value=!a.value),width:"28",height:"28",title:"\u5411\u5BFC\u6A21\u5F0F",src:_u,alt:"safari"}),a.value?(n(),l("div",{key:0,class:"dropdown-bg",onClick:A[2]||(A[2]=V=>a.value=!1)})):b("",!0),x(Lt,{name:"fade"},{default:T(()=>[a.value?(n(),l("div",Uu,[Ru,t("div",{class:"dropdown-menu_item",style:{"margin-bottom":"8px"},onClick:E}," \u8DEF\u7531\u6A21\u5F0F "),t("div",{class:"dropdown-menu_item",onClick:h},"NAS\u6A21\u5F0F")])):b("",!0)]),_:1})]),Gu,Wu])])}}});var ju=I(Zu,[["__scopeId","data-v-38bec0db"]]);const Xu={class:"SearchBar"},Qu=["placeholder"],Yu=P({__name:"index",setup(e){const{$gettext:u}=K;return(s,o)=>(n(),l("div",Xu,[t("input",{placeholder:$(u)("\u5E94\u7528\u641C\u7D22")},null,8,Qu)]))}});var Ju=I(Yu,[["__scopeId","data-v-76c79779"]]);const Ku={class:"widget"},ts={key:0,class:"title"},es=P({__name:"index",props:{title:{},height:{},maxHeight:{},contentStyle:{}},setup(e){const u=e;return(s,o)=>(n(),l("div",Ku,[t("div",{style:et(`height: ${u.height};max-height:${u.maxHeight}`)},[u.title?(n(),l("span",ts,p(u.title),1)):b("",!0),t("div",{style:et(u.contentStyle)},[$t(s.$slots,"default",{},void 0,!0)],4)],4)]))}});var ft=I(es,[["__scopeId","data-v-261e10c6"]]);const us={},ss={t:"1640746738262",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"1216",width:"128",height:"128"},ns=t("path",{d:"M511.232 438.8352L112.9984 40.6016A51.2 51.2 0 0 0 40.6016 112.9984L438.784 511.232 40.6016 909.4656a51.2 51.2 0 1 0 72.3968 72.448l398.2336-398.2848 398.2336 398.2848a51.2 51.2 0 1 0 72.448-72.448l-398.2848-398.2336 398.2848-398.2336A51.2 51.2 0 0 0 909.4656 40.6016L511.232 438.784z","p-id":"1217"},null,-1),os=[ns];function as(e,u){return n(),l("svg",ss,os)}var is=I(us,[["render",as]]);const ls=e=>(H("data-v-664f08dd"),e=e(),O(),e),cs={id:"actioner"},ds={key:0,class:"action-container"},rs={class:"action-container_header"},_s=ls(()=>t("div",null,null,-1)),ps={class:"title"},vs={class:"action-container_body"},hs=P({__name:"index",props:{Close:{type:Function},type:{type:Number},title:String},setup(e){const u=e,s=g(!1);nt(()=>{s.value=!0,document.body.setAttribute("lock-scroll","true")}),Bt(()=>{document.body.removeAttribute("lock-scroll")});const o=()=>{u.Close&&(s.value=!1,setTimeout(()=>{u.Close&&u.Close()},300))};return(c,_)=>(n(),l("div",cs,[t("div",{class:"bg",onClick:o}),e.type!=null?$t(c.$slots,"default",{key:0},void 0,!0):(n(),l(q,{key:1},[s.value?(n(),l("div",ds,[t("div",rs,[_s,t("div",ps,p(e.title),1),t("button",{class:"close",title:"\u5173\u95ED",onClick:o},[x(is)])]),t("div",vs,[$t(c.$slots,"default",{},void 0,!0)])])):b("",!0)],64))]))}});var Fs=I(hs,[["__scopeId","data-v-664f08dd"]]);const at=P({__name:"modal",props:{Close:{type:Function},type:{type:Number},title:String},setup(e){return(u,s)=>(n(),N(Fs,{Close:e.Close,type:e.type,title:e.title},{default:T(()=>[$t(u.$slots,"default")]),_:3},8,["Close","type","title"]))}}),ms={},fs={t:"1649907260906",viewBox:"-8 248 1042 530",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2793","xmlns:xlink":"http://www.w3.org/1999/xlink"},Es=t("path",{d:"M764.904497 251.418146 259.086289 251.418146c-143.076626 0-259.065314 115.989711-259.065314 259.065314 0 143.077649 115.988688 259.063267 259.065314 259.063267l505.818207 0c143.074579 0 259.063267-115.985618 259.063267-259.063267C1023.967764 367.407857 907.980099 251.418146 764.904497 251.418146zM764.904497 747.164974c-130.507356 0-236.682537-106.175181-236.682537-236.682537S634.397141 273.798876 764.904497 273.798876s236.683561 106.176205 236.683561 236.683561S895.411853 747.164974 764.904497 747.164974z","p-id":"2794",fill:"#52C41A"},null,-1),Cs=[Es];function gs(e,u){return n(),l("svg",fs,Cs)}var bs=I(ms,[["render",gs]]);const $s={},ys={t:"1649907515643",viewBox:"-8 248 1042 530",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2971","xmlns:xlink":"http://www.w3.org/1999/xlink"},Ds=t("path",{d:"M764.867148 249.793136 259.0735 249.793136c-143.070486 0-259.052011 115.984594-259.052011 259.052011 0 143.07151 115.982548 259.050987 259.052011 259.050987l505.793648 0c143.067416 0 259.050987-115.979478 259.050987-259.050987C1023.917112 365.778754 907.933541 249.793136 764.867148 249.793136zM259.0735 745.516428c-130.501216 0-236.671281-106.172111-236.671281-236.671281 0-130.501216 106.170065-236.671281 236.671281-236.671281S495.744781 378.344954 495.744781 508.84617C495.744781 639.34534 389.574716 745.516428 259.0735 745.516428z","p-id":"2972",fill:"#999"},null,-1),ks=[Ds];function Bs(e,u){return n(),l("svg",ys,ks)}var ws=I($s,[["render",Bs]]);const As={class:"checkbox_switch_on"},xs={class:"checkbox_switch_off"},Ss=P({__name:"index",props:{modelValue:{type:Boolean,required:!0},height:{type:String,default:"100%"}},emits:["update:modelValue"],setup(e,{emit:u}){const s=e,o=u,c=R({get:()=>s.modelValue.valueOf(),set:_=>o("update:modelValue",_)});return(_,v)=>(n(),l("label",{class:"checkbox_switch",style:et({height:e.height})},[z(t("input",{type:"checkbox","onUpdate:modelValue":v[0]||(v[0]=r=>c.value=r)},null,512),[[Be,c.value]]),t("span",As,[x(bs)]),t("span",xs,[x(ws)]),$t(_.$slots,"default",{},void 0,!0)],4))}});var Is=I(Ss,[["__scopeId","data-v-1b6cddbc"]]);const tt=e=>(H("data-v-76799e09"),e=e(),O(),e),Vs=tt(()=>t("div",{class:"actioner-dns_header"},[t("span",null,"\u5185\u7F51\u914D\u7F6E")],-1)),Ps={class:"actioner-dns_body"},Ms={class:"label-item"},Ts=tt(()=>t("div",{class:"label-item_key"},[t("span",null,"IPv4\u5730\u5740")],-1)),Ls={class:"label-item_value"},zs={class:"label-item"},Ns=tt(()=>t("div",{class:"label-item_key"},[t("span",null,"IPv4\u5B50\u7F51\u63A9\u7801")],-1)),qs={class:"label-item_value"},Hs={key:0,class:"chose_dhcp"},Os={key:0,class:"dhcp_info"},Us={key:1,class:"dhcp_info"},Rs={class:"label-item"},Gs=tt(()=>t("div",{class:"label-item_key"},[t("span",null,"IP\u6C60\u8D77\u59CB\u5730\u5740")],-1)),Ws={class:"label-item_value"},Zs={class:"label-item"},js=tt(()=>t("div",{class:"label-item_key"},[t("span",null,"IP\u6C60\u7ED3\u675F\u5730\u5740")],-1)),Xs={class:"label-item_value"},Qs={class:"actioner-dns_footer"},Ys=["disabled"],Js={key:1,class:"actioner-dns"},Ks=tt(()=>t("div",{class:"actioner-dns_header"},[t("span",null,"\u66F4\u6362\u914D\u7F6E")],-1)),tn={class:"actioner-dns_body"},en={key:0,class:"setting_status"},un=tt(()=>t("div",{class:"success_icon"},[t("svg",{t:"1642063181211",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"5062",width:"128",height:"128"},[t("path",{d:"M512 85.333333c235.648 0 426.666667 191.018667 426.666667 426.666667s-191.018667 426.666667-426.666667 426.666667S85.333333 747.648 85.333333 512 276.352 85.333333 512 85.333333z m-74.965333 550.4L346.453333 545.152a42.666667 42.666667 0 1 0-60.330666 60.330667l120.704 120.704a42.666667 42.666667 0 0 0 60.330666 0l301.653334-301.696a42.666667 42.666667 0 1 0-60.288-60.330667l-271.530667 271.488z",fill:"#52C41A","p-id":"5063"})])],-1)),sn=tt(()=>t("div",{class:"config-message"},"\u914D\u7F6E\u6210\u529F",-1)),nn=["href"],on={key:1,class:"setting_status"},an=tt(()=>t("div",{class:"success_icon"},[t("svg",{t:"1642063200324",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"5898",width:"128",height:"128"},[t("path",{d:"M549.044706 512l166.189176-166.249412a26.383059 26.383059 0 0 0 0-36.98447 26.383059 26.383059 0 0 0-37.044706 0L512 475.015529l-166.249412-166.249411a26.383059 26.383059 0 0 0-36.98447 0 26.383059 26.383059 0 0 0 0 37.044706L475.015529 512l-166.249411 166.249412a26.383059 26.383059 0 0 0 0 36.98447 26.383059 26.383059 0 0 0 37.044706 0L512 548.984471l166.249412 166.249411a26.383059 26.383059 0 0 0 36.98447 0 26.383059 26.383059 0 0 0 0-37.044706L548.984471 512zM512 1024a512 512 0 1 1 0-1024 512 512 0 0 1 0 1024z",fill:"#E84335","p-id":"5899"})])],-1)),ln=tt(()=>t("div",{class:"config-message"},"\u914D\u7F6E\u5931\u8D25",-1)),cn=tt(()=>t("p",null,"\u8BF7\u5C1D\u8BD5\u91CD\u65B0\u914D\u7F6E",-1)),dn={key:2,class:"setting_status"},rn=tt(()=>t("div",{class:"success_icon"},[t("svg",{width:"128px",height:"128px",viewBox:"0 0 128 128",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},[t("g",{id:"icon_yellow",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},[t("g",{id:"Icon/Warning"},[t("rect",{id:"\u77E9\u5F62",fill:"#000000","fill-rule":"nonzero",opacity:"0",x:"0",y:"0",width:"128",height:"128"}),t("path",{d:"M64,8 C33.075,8 8,33.075 8,64 C8,94.925 33.075,120 64,120 C94.925,120 120,94.925 120,64 C120,33.075 94.925,8 64,8 Z M60,37 C60,36.45 60.45,36 61,36 L67,36 C67.55,36 68,36.45 68,37 L68,71 C68,71.55 67.55,72 67,72 L61,72 C60.45,72 60,71.55 60,71 L60,37 Z M64,92 C60.6875,92 58,89.3125 58,86 C58,82.6875 60.6875,80 64,80 C67.3125,80 70,82.6875 70,86 C70,89.3125 67.3125,92 64,92 Z",id:"\u5F62\u72B6",fill:"#FAAD14"})])])])],-1)),_n=tt(()=>t("div",{class:"config-message"},"\u914D\u7F6E\u8D85\u65F6",-1)),pn=tt(()=>t("p",null," \u8DEF\u7531\u5668 IP \u53EF\u80FD\u5DF2\u7ECF\u4FEE\u6539\u6210\u529F\u3002\u82E5\u5237\u65B0\u9875\u9762\u5931\u8D25\uFF0C\u8BF7\u91CD\u65B0\u8FDE\u63A5\u8DEF\u7531\u5668\uFF0C\u5426\u5219\u8BF7\u5C1D\u8BD5\u91CD\u65B0\u914D\u7F6E\u3002 ",-1)),vn=P({__name:"index",props:{Close:{type:Function,required:!0}},setup(e){const u=e,s=g(0),o=g({lanIp:"",netMask:"255.255.255.0",enableDhcp:!1,dhcpStart:"",dhcpEnd:""});g("");const c=g(!1);g(!0),g(!1);const _=g(""),v=g(2),r=g(!1),d=g("timeout");let a=!0;(()=>{M.Guide.GetLan.GET().then(f=>{f.data.result&&(r.value=f.data.result.enableDhcp||!1,f.data.result.enableDhcp=!1,o.value=f.data.result,f.data.result.lanIp!==location.hostname&&(a=!1))})})();const F=()=>{const f=o.value;if(!Ft.isValidIPv4(f.lanIp)){w.Warning("IPv4\u5730\u5740\u683C\u5F0F\u9519\u8BEF");return}if(!Ft.isValidMask(f.netMask)){w.Warning("IPv4\u5B50\u7F51\u63A9\u7801\u683C\u5F0F\u9519\u8BEF");return}const E=Ft.calcMaskRange(f.lanIp,f.netMask);f.dhcpStart=E[0],f.dhcpEnd=E[1],o.value=f},C=()=>{const f=o.value;if(!Ft.isValidIPv4(f.lanIp)){w.Warning("IPv4\u5730\u5740\u683C\u5F0F\u9519\u8BEF");return}if(!Ft.isValidMask(f.netMask)){w.Warning("IPv4\u5B50\u7F51\u63A9\u7801\u683C\u5F0F\u9519\u8BEF");return}if(f.enableDhcp&&!(Ft.isValidIPv4(f.dhcpStart)&&Ft.isValidIPv4(f.dhcpEnd)&&Ft.isValidMaskRange(f.lanIp,f.netMask,f.dhcpStart,f.dhcpEnd))){w.Warning("DHCP\u7684IP\u6C60\u683C\u5F0F\u9519\u8BEF\u6216\u8D85\u51FA\u5B50\u7F51\u8303\u56F4");return}const E=w.Loading("\u6B63\u5728\u914D\u7F6E\u2026\u8BF7\u7A0D\u7B49",30);let h=0;const B=k=>{d.value=k,s.value=1,h=1,E.Close()},S=()=>{const k=new Date().getTime()+3e4,y=a?location.protocol+"//"+f.lanIp+(location.port?":"+location.port:""):location.origin,A=y+"/luci-static/resources/icons/loading.gif",W=()=>{h==0&&(new Date().getTime()>k?B("timeout"):window.setTimeout(U,2e3))},V=()=>{h==0&&(_.value=y+location.pathname,B("success"),window.setTimeout(()=>{v.value=1},1e3),window.setTimeout(()=>{location.href=_.value},2e3))},U=()=>{if(h!=0)return;console.log("check online ",A);const st=new Image;st.onload=V,st.onerror=W,st.src=A};window.setTimeout(U,5e3)};M.Guide.LanIp.POST(f).then(k=>{var y;if(k!=null&&k.data){if((k.data.success||0)==0)return;if((y=k.data)!=null&&y.error)throw k.data.error}throw"\u672A\u77E5\u9519\u8BEF"}).catch(k=>{h==0&&(B("fail"),w.Error(k))}),S(),window.setTimeout(()=>{h==0&&B("timeout")},3e4)},D=f=>{f.preventDefault(),u.Close&&u.Close()},m=f=>{location.reload()};return(f,E)=>(n(),N(at,{Close:e.Close,type:1},{default:T(()=>[s.value==0?(n(),l("form",{key:0,class:"actioner-dns",onSubmit:ct(C,["prevent"])},[Vs,t("div",Ps,[t("div",Ms,[Ts,t("div",Ls,[z(t("input",{type:"text",placeholder:"192.168.100.1",required:"","onUpdate:modelValue":E[0]||(E[0]=h=>o.value.lanIp=h),onChange:F},null,544),[[Y,o.value.lanIp,void 0,{trim:!0}]])])]),t("div",zs,[Ns,t("div",qs,[z(t("input",{type:"text",placeholder:"255.255.255.0",required:"","onUpdate:modelValue":E[1]||(E[1]=h=>o.value.netMask=h),onChange:F},null,544),[[Y,o.value.netMask,void 0,{trim:!0}]])])]),r.value?(n(),l("div",Hs,[x(Is,{modelValue:o.value.enableDhcp,"onUpdate:modelValue":E[2]||(E[2]=h=>o.value.enableDhcp=h)},{default:T(()=>[o.value.enableDhcp?(n(),l("span",Os,"\u4FEE\u6539DHCP\u670D\u52A1")):(n(),l("span",Us,"\u4FDD\u6301DHCP\u670D\u52A1\u8BBE\u7F6E"))]),_:1},8,["modelValue"])])):b("",!0),o.value.enableDhcp?(n(),l(q,{key:1},[t("div",Rs,[Gs,t("div",Ws,[z(t("input",{type:"text",placeholder:"192.168.100.100",required:"","onUpdate:modelValue":E[3]||(E[3]=h=>o.value.dhcpStart=h)},null,512),[[Y,o.value.dhcpStart,void 0,{trim:!0}]])])]),t("div",Zs,[js,t("div",Xs,[z(t("input",{type:"text",placeholder:"192.168.100.100",required:"","onUpdate:modelValue":E[4]||(E[4]=h=>o.value.dhcpEnd=h)},null,512),[[Y,o.value.dhcpEnd,void 0,{trim:!0}]])])])],64)):b("",!0)]),t("div",Qs,[t("button",{class:"cbi-button cbi-button-apply app-btn",disabled:c.value}," \u786E\u8BA4 ",8,Ys),t("button",{class:"cbi-button cbi-button-remove app-btn app-back",onClick:D}," \u53D6\u6D88 ")])],32)):s.value==1?(n(),l("div",Js,[Ks,t("div",tn,[d.value=="success"?(n(),l("div",en,[un,sn,t("a",{href:_.value,class:"NewAdress"},p(v.value)+"s\u540E \u8DF3\u8F6C\u65B0\u5730\u5740",9,nn)])):d.value=="fail"?(n(),l("div",on,[an,ln,cn,t("button",{class:"cbi-button cbi-button-apply app-btn",onClick:m}," \u6211\u77E5\u9053\u4E86 ")])):d.value=="timeout"?(n(),l("div",dn,[rn,_n,pn,t("button",{class:"cbi-button cbi-button-apply app-btn",onClick:m}," \u5237\u65B0\u9875\u9762 ")])):b("",!0)])])):b("",!0)]),_:1},8,["Close"]))}});var hn=I(vn,[["__scopeId","data-v-76799e09"]]);const fe=()=>{const e=document.createElement("div");document.body.appendChild(e);const u=ot(hn,{Close:()=>{s()}});u.mount(e);const s=()=>{u.unmount(),e.remove()};return{Close:s}};const yt=e=>(H("data-v-95c09170"),e=e(),O(),e),Fn=yt(()=>t("div",{class:"actioner-dns_header"},[t("span",null,"DNS\u914D\u7F6E")],-1)),mn={class:"actioner-dns_body"},fn={class:"label-item"},En=yt(()=>t("div",{class:"label-item_key"},[t("span",null,"DNS\u9009\u9879")],-1)),Cn={class:"label-item_value"},gn=["disabled"],bn=yt(()=>t("option",{value:"manual"},"\u81EA\u5B9A\u4E49DNS",-1)),$n={class:"label-item"},yn=yt(()=>t("div",{class:"label-item_key"},[t("span",null,"DNS\u670D\u52A1\u5668\u5730\u5740")],-1)),Dn={class:"label-item_value"},kn=["onUpdate:modelValue"],Bn=yt(()=>t("div",{class:"label-item_key"},"\u5907\u7528DNS\u670D\u52A1\u5668\u5730\u5740",-1)),wn={class:"label-item_value"},An=["onUpdate:modelValue"],xn={key:1,class:"label-message"},Sn={class:"actioner-dns_footer"},In=["disabled"],Vn={key:1,class:"actioner-dns"},Pn=yt(()=>t("div",{class:"actioner-dns_header"},[t("span",null,"DNS\u914D\u7F6E")],-1)),Mn=yt(()=>t("div",{class:"actioner-dns_body"},[t("div",{class:"config-message"},"DNS\u914D\u7F6E\u5DF2\u4FDD\u5B58")],-1)),Tn=P({__name:"index",props:{Close:{type:Function,required:!0}},setup(e){const u=e,s=g(0),o=Ze(),c=o.status,_=R(()=>o.status.proto!="static"),v=()=>{let D=c.dnsList||[];for(D=D.filter(m=>m);D.length<2;)D.push("");return D},r=g({interfaceName:c.defaultInterface||"",dnsProto:c.dnsProto||"manual",manualDnsIp:v()}),d=g(""),a=g(!1),i=()=>L(this,null,function*(){d.value="";let D={};switch(r.value.dnsProto){case"auto":break;case"manual":if(D.manualDnsIp=[],!r.value.manualDnsIp[0]){w.Error("\u81F3\u5C11\u9700\u8981\u586B\u5199\u4E00\u4E2ADNS");return}D.manualDnsIp=r.value.manualDnsIp.filter(f=>f);break}D.dnsProto=r.value.dnsProto,D.interfaceName=r.value.interfaceName;const m=w.Loading("\u914D\u7F6E\u4E2D...");try{const f=yield M.Guide.DnsConfig.POST(D);if(f!=null&&f.data){const{success:E,error:h}=f==null?void 0:f.data;h&&(d.value=h),(E==null||E==0)&&(w.Success("\u914D\u7F6E\u6210\u529F"),s.value=1)}}catch(f){d.value=f}m.Close()}),F=D=>{D.preventDefault(),u.Close&&u.Close()},C=D=>{location.reload()};return(D,m)=>(n(),N(at,{Close:e.Close,type:1},{default:T(()=>[s.value==0?(n(),l("form",{key:0,class:"actioner-dns",onSubmit:ct(i,["prevent"])},[Fn,t("div",mn,[t("div",fn,[En,t("div",Cn,[z(t("select",{"onUpdate:modelValue":m[0]||(m[0]=f=>r.value.dnsProto=f)},[t("option",{value:"auto",disabled:!_.value}," \u81EA\u52A8\u83B7\u53D6DNS ",8,gn),bn],512),[[Et,r.value.dnsProto]])])]),r.value.dnsProto=="manual"?(n(!0),l(q,{key:0},J(r.value.manualDnsIp,(f,E)=>(n(),l("div",$n,[E==0?(n(),l(q,{key:0},[yn,t("div",Dn,[z(t("input",{type:"text",placeholder:"\u8BF7\u8F93\u5165DNS\u5730\u5740",required:"","onUpdate:modelValue":h=>r.value.manualDnsIp[E]=h},null,8,kn),[[Y,r.value.manualDnsIp[E],void 0,{trim:!0}]])])],64)):(n(),l(q,{key:1},[Bn,t("div",wn,[z(t("input",{type:"text",placeholder:"\u5907\u7528DNS\u5730\u5740","onUpdate:modelValue":h=>r.value.manualDnsIp[E]=h},null,8,An),[[Y,r.value.manualDnsIp[E],void 0,{trim:!0}]])])],64))]))),256)):b("",!0),d.value?(n(),l("div",xn,p(d.value),1)):b("",!0)]),t("div",Sn,[t("button",{class:"cbi-button cbi-button-apply app-btn",disabled:a.value}," \u786E\u8BA4 ",8,In),t("button",{class:"cbi-button cbi-button-remove app-btn app-back",onClick:F}," \u53D6\u6D88 ")])],32)):s.value==1?(n(),l("div",Vn,[Pn,Mn,t("div",{class:"actioner-dns_footer"},[t("button",{class:"cbi-button cbi-button-remove app-btn app-back",onClick:C}," \u5B8C\u6210 ")])])):b("",!0)]),_:1},8,["Close"]))}});var Ln=I(Tn,[["__scopeId","data-v-95c09170"]]);const Ee=()=>{const e=document.createElement("div");document.body.appendChild(e);const u=ot(Ln,{Close:()=>{s()}});u.mount(e);const s=()=>{u.unmount(),e.remove()};return{Close:s}},zn={},Nn={width:"14px",height:"14px",viewBox:"0 0 14 14",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},qn=t("g",{id:"icon_alert",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},[t("g",{id:"Icon/Warning"},[t("rect",{id:"\u77E9\u5F62",fill:"#000000","fill-rule":"nonzero",opacity:"0",x:"0",y:"0",width:"14",height:"14"}),t("path",{d:"M7,0.875 C3.61757813,0.875 0.875,3.61757813 0.875,7 C0.875,10.3824219 3.61757813,13.125 7,13.125 C10.3824219,13.125 13.125,10.3824219 13.125,7 C13.125,3.61757813 10.3824219,0.875 7,0.875 Z M6.5625,4.046875 C6.5625,3.98671875 6.61171875,3.9375 6.671875,3.9375 L7.328125,3.9375 C7.38828125,3.9375 7.4375,3.98671875 7.4375,4.046875 L7.4375,7.765625 C7.4375,7.82578125 7.38828125,7.875 7.328125,7.875 L6.671875,7.875 C6.61171875,7.875 6.5625,7.82578125 6.5625,7.765625 L6.5625,4.046875 Z M7,10.0625 C6.63769531,10.0625 6.34375,9.76855469 6.34375,9.40625 C6.34375,9.04394531 6.63769531,8.75 7,8.75 C7.36230469,8.75 7.65625,9.04394531 7.65625,9.40625 C7.65625,9.76855469 7.36230469,10.0625 7,10.0625 Z",id:"\u5F62\u72B6",fill:"#FAAD14"})])],-1),Hn=[qn];function On(e,u){return n(),l("svg",Nn,Hn)}var dt=I(zn,[["render",On]]);const ut=e=>(H("data-v-5141058a"),e=e(),O(),e),Un={key:0,class:"actioner-dns"},Rn=ut(()=>t("div",{class:"actioner-dns_header"},[t("span",null,"\u6C99\u7BB1\u6A21\u5F0F\u914D\u7F6E\u5411\u5BFC")],-1)),Gn={class:"actioner-dns_body"},Wn=ut(()=>t("p",{class:"sandbox_info"}," \u4E00\u4E2A\u7B80\u6613\u6C99\u7BB1\uFF0C\u65B9\u4FBF\u7528\u6765\u5B9E\u9A8C\u7CFB\u7EDF\u914D\u7F6E\u548C\u7A0B\u5E8F\uFF0C\u65B9\u4FBF\u5F00\u53D1\u672A\u5B8C\u6210\u7684\u8F6F\u4EF6\uFF0C\u4F46\u4E0D\u4FDD\u62A4Docker\u548C\u786C\u76D8\u7684\u6570\u636E ",-1)),Zn={key:0,class:"disk_loading_icon"},jn=ut(()=>t("span",{class:"disk_loading_info"},"\u6B63\u5728\u52A0\u8F7D\u4E2D...",-1)),Xn={key:1,class:"disk_tips"},Qn=ut(()=>t("span",null,"\u68C0\u6D4B\u4E0D\u5230\u6302\u8F7D\u7684\u78C1\u76D8\u4FE1\u606F\uFF0C\u8BF7\u5148\u63D2\u4E0A\u78C1\u76D8\uFF0C\u5EFA\u8BAE\u4F7F\u7528U\u76D8\u6216\u8005\u79FB\u52A8\u786C\u76D8\uFF0C\u65B9\u4FBF\u88C5\u5378",-1)),Yn={class:"label-item"},Jn=ut(()=>t("div",{class:"label-item_key"},[t("span",null,"\u76EE\u6807\u78C1\u76D8\uFF08\u5EFA\u8BAE\u9009\u62E9U\u76D8\u6216\u8005\u79FB\u52A8\u786C\u76D8\uFF0C\u65B9\u4FBF\u88C5\u5378\uFF09")],-1)),Kn={class:"label-item_value"},to=ut(()=>t("option",{value:""},"\u8BF7\u9009\u62E9\u76EE\u6807\u78C1\u76D8",-1)),eo=["value"],uo={class:"label-item"},so=ut(()=>t("div",{class:"label-item_key"},[t("span",null,"\u76EE\u6807\u5206\u533A\uFF08\u5206\u533A\u5927\u5C0F\u987B\u5927\u4E8E2G\uFF0C\u5C06\u6B64\u5206\u533A\u4F5C\u4E3A\u5916\u90E8 overlay \u4F7F\u7528\uFF09")],-1)),no={class:"label-item_value"},oo=ut(()=>t("option",{selected:"true",value:""},"\u8BF7\u9009\u62E9\u76EE\u6807\u5206\u533A",-1)),ao=["value","disabled"],io={class:"sandbox_tips"},lo=ut(()=>t("span",null,"\u6B64\u64CD\u4F5C\u4F1A\u5C06\u4F1A\u5220\u9664\u8BE5\u5206\u533A\u5168\u90E8\u6570\u636E",-1)),co={class:"sandbox_info timeout"},ro=ut(()=>t("p",{class:"sandbox_roboot_tips"},[Z(" \u7B49\u5F85\u8BBE\u5907\u91CD\u542F\uFF0C\u91CD\u542F\u5B8C\u6210\u540E"),t("span",{class:"sandbox_roboot_refresh"},"\u8BF7\u5237\u65B0\u754C\u9762")],-1)),_o={key:0,class:"actioner-dns_footer"},po=["disabled"],vo={key:1,class:"actioner-tips"},ho=ut(()=>t("div",{class:"actioner-tips_header"},[t("span",null,"\u6E29\u99A8\u63D0\u793A")],-1)),Fo=ut(()=>t("div",{class:"actioner-tips_body"},[t("p",{class:"sandbox_info"}," \u6B64\u64CD\u4F5C\u4F1A\u5C06\u4F1A\u5220\u9664\u8BE5\u5206\u533A\u5168\u90E8\u6570\u636E\uFF0C\u5E76\u683C\u5F0F\u5316\u6210EXT4\uFF0C\u968F\u540E\u81EA\u52A8\u91CD\u542F\u8FDB\u5165\u6C99\u7BB1\u6A21\u5F0F\uFF0C\u662F\u5426\u7EE7\u7EED\uFF1F ")],-1)),mo={key:2,class:"actioner-tips"},fo=ut(()=>t("div",{class:"actioner-tips_header"},[t("span",null,"\u9519\u8BEF")],-1)),Eo={class:"actioner-tips_body"},Co={class:"sandbox_info"},go=P({__name:"index",props:{Close:{type:Function,required:!0}},setup(e){const u=e,s=g(0);g("disk");const o=g(""),c=g(3),_=g(""),v=g([]),r=g(""),d=g(null);(()=>{M.Nas.SandboxDisks.GET().then(h=>{var B;if(h!=null&&h.data&&(B=h.data)!=null&&B.result){d.value=h.data.result;return}throw"\u52A0\u8F7D\u78C1\u76D8\u4FE1\u606F\u5931\u8D25"}).catch(h=>{o.value=h,s.value=3})})();const i=()=>request.System.Reboot.POST({name:_.value,path:r.value}).then(h=>{var B;if(!(h!=null&&h.data&&(((B=h==null?void 0:h.data)==null?void 0:B.success)||0)==0))throw"\u672A\u77E5\u9519\u8BEF"}),F=h=>{var B,S;r.value="",v.value=_.value&&((S=(B=d.value)==null?void 0:B.disks.find(k=>k.path==_.value))==null?void 0:S.childrens)||[]},C=()=>{c.value>0&&(c.value-=1,window.setTimeout(C,1e3))},D=h=>{h.preventDefault(),u.Close&&u.Close()},m=()=>{new Promise((h,B)=>{const S="/luci-static/resources/icons/loading.gif",k=()=>{window.setTimeout(y,2e3)},y=()=>{const A=new Image;A.onload=h,A.onerror=k,A.src=S};window.setTimeout(y,1e4)}).then(()=>{window.setTimeout(()=>{location.reload()},2e3)})},f=h=>{const B=w.Loading("\u914D\u7F6E\u6C99\u7BB1\u91CD\u542F\u4E2D...");request.Nas.Sandbox.POST({path:r.value}).then(S=>{var k;if(S!=null&&S.data){if((S.data.success||0)==0)return s.value=2,window.setTimeout(C,1e3),i();if((k=S.data)!=null&&k.error)throw S.data.error}throw"\u672A\u77E5\u9519\u8BEF"}).then(m).catch(S=>w.Warning(S)).finally(()=>B.Close())},E=()=>{s.value=0};return(h,B)=>{const S=jt("icon-loading");return n(),N(at,{Close:e.Close,type:1},{default:T(()=>[s.value==0||s.value==2?(n(),l("div",Un,[Rn,t("div",Gn,[Wn,s.value==0?(n(),l(q,{key:0},[d.value?b("",!0):(n(),l("div",Zn,[x(S,{size:38,color:"currentColor"}),jn])),d.value&&d.value.disks.length==0?(n(),l("div",Xn,[x(dt),Qn])):b("",!0),d.value&&d.value.disks.length>0?(n(),l(q,{key:2},[t("div",Yn,[Jn,t("div",Kn,[z(t("select",{name:"",id:"",onChange:F,"onUpdate:modelValue":B[0]||(B[0]=k=>_.value=k)},[to,(n(!0),l(q,null,J(d.value.disks,(k,y)=>(n(),l("option",{value:k.path,key:y},p(k.venderModel)+"\uFF08"+p(k.size)+"\uFF09 ",9,eo))),128))],544),[[Et,_.value]])])]),t("div",uo,[so,t("div",no,[z(t("select",{name:"",id:"","onUpdate:modelValue":B[1]||(B[1]=k=>r.value=k)},[oo,(n(!0),l(q,null,J(v.value,(k,y)=>(n(),l("option",{value:k.path,key:y,disabled:k.sizeInt<(1<<30)*1||k.isSystemRoot},p(k.name)+"\uFF08"+p(k.filesystem||"\u672A\u683C\u5F0F\u5316")+"\uFF09"+p(k.total),9,ao))),128))],512),[[Et,r.value]])])]),t("div",io,[x(dt),lo])],64)):b("",!0)],64)):b("",!0),s.value==2?(n(),l(q,{key:1},[t("p",co,[Z(" \u5373\u5C06\u91CD\u542F\u8BBE\u5907 "),t("span",null,"\uFF08"+p(c.value)+"s\uFF09",1)]),ro],64)):b("",!0)]),s.value==0?(n(),l("div",_o,[t("button",{class:"cbi-button cbi-button-apply app-btn",disabled:!r.value,onClick:B[2]||(B[2]=k=>s.value=1)}," \u5F00\u542F\u6C99\u7BB1 ",8,po),t("button",{class:"cbi-button cbi-button-remove app-btn app-back",onClick:D}," \u53D6\u6D88 ")])):b("",!0)])):b("",!0),s.value==1?(n(),l("div",vo,[ho,Fo,t("div",{class:"actioner-tips_footer"},[t("button",{class:"cbi-button cbi-button-apply app-btn",onClick:f}," \u7EE7\u7EED "),t("button",{class:"cbi-button cbi-button-remove app-btn app-back",onClick:E}," \u53D6\u6D88 ")])])):b("",!0),s.value==3?(n(),l("div",mo,[fo,t("div",Eo,[t("p",Co,p(o.value),1)]),t("div",{class:"actioner-tips_footer"},[t("button",{class:"cbi-button cbi-button-remove app-btn app-back",onClick:E}," \u53D6\u6D88 ")])])):b("",!0)]),_:1},8,["Close"])}}});var bo=I(go,[["__scopeId","data-v-5141058a"]]);const $o=()=>{const e=document.createElement("div");document.body.appendChild(e);const u=ot(bo,{Close:()=>{s()}});u.mount(e);const s=()=>{u.unmount(),e.remove()};return{Close:s}},yo={},Do={width:"82px",height:"82px",viewBox:"0 0 82 82",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},ko=Ht('<title>icon_finished</title><g id="icon_finished" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="circle" transform="translate(2.000000, 2.000000)"><circle id="Oval" stroke="#553AFE" stroke-width="4" cx="39" cy="39" r="39"></circle><circle id="Oval" fill="#553AFE" cx="39.028463" cy="39.028463" r="35.028463"></circle><path d="M41.0148619,52.8014169 C39.924327,53.7754409 39.8138203,55.4674462 40.7680384,56.5806164 C41.7222564,57.6937867 43.3798562,57.8065871 44.4703911,56.8325631 L54.9654709,47.4587599 C56.1301083,46.4185505 56.1643255,44.5807064 55.0392485,43.4960788 L31.4253189,20.7311283 C30.3718273,19.7155123 28.7112257,19.7639428 27.7162614,20.8393009 C26.7212971,21.914659 26.7687429,23.6097284 27.8222345,24.6253444 L49.3379698,45.3675358 L41.0148619,52.8014169 Z" id="Shape" fill="#FFFFFF" fill-rule="nonzero" transform="translate(41.430740, 38.747628) rotate(-270.000000) translate(-41.430740, -38.747628) "></path></g></g>',2),Bo=[ko];function wo(e,u){return n(),l("svg",Do,Bo)}var Qt=I(yo,[["render",wo]]);const wt=e=>(H("data-v-5cf1870c"),e=e(),O(),e),Ao=wt(()=>t("div",{class:"actioner-dns_header"},[t("span",null,"\u8F6F\u4EF6\u6E90\u914D\u7F6E")],-1)),xo={class:"actioner-dns_body"},So={class:"label-item"},Io=wt(()=>t("div",{class:"label-item_key"},[t("span",null,"\u5F53\u524D\u8F6F\u4EF6\u6E90")],-1)),Vo={class:"label-item_value"},Po={class:"item_info"},Mo={class:"label-item"},To=wt(()=>t("div",{class:"label-item_key"},[t("span",null,"\u5207\u6362\u8F6F\u4EF6\u6E90")],-1)),Lo={class:"label-item_value"},zo=wt(()=>t("option",{selected:"true",value:""},"\u8BF7\u9009\u62E9\u8F6F\u4EF6\u6E90",-1)),No=["value"],qo={class:"actioner-dns_footer"},Ho=["disabled"],Oo={key:1,class:"actioner-dns"},Uo=wt(()=>t("div",{class:"actioner-dns_header"},[t("span",{class:"softsource_tit"},"\u8F6F\u4EF6\u6E90\u914D\u7F6E")],-1)),Ro={class:"actioner-dns_body"},Go={class:"finished"},Wo=wt(()=>t("p",{class:"successed"},"\u914D\u7F6E\u6210\u529F\uFF01",-1)),Zo=P({__name:"index",props:{Close:{type:Function,required:!0}},setup(e){const u=e,s=g(0),o=g(""),c=g(),_=g();(()=>{M.Guide.SoftSourceList.GET().then(i=>{var F,C;if((F=i==null?void 0:i.data)!=null&&F.result){const D=(C=i==null?void 0:i.data)==null?void 0:C.result;_.value=D}}).then(()=>M.Guide.GetSoftSource.GET()).then(i=>{var F,C;if((F=i==null?void 0:i.data)!=null&&F.result){const D=i.data.result;c.value=D.softSource,(C=_.value)!=null&&C.softSourceList.find(m=>m.identity==D.softSource.identity)&&(o.value=D.softSource.identity)}})})();const r=i=>{i.preventDefault(),u.Close&&u.Close()},d=i=>{const F=w.Loading("\u6B63\u5728\u5207\u6362\u4E2D...");request.Guide.SoftSource.POST({softSourceIdentity:o.value}).then(C=>{if(C!=null&&C.data){if((C.data.success||0)==0){s.value=1;return}else if(C.data.error)throw C.data.error}throw"\u672A\u77E5\u9519\u8BEF"}).catch(C=>{w.Error(C)}).finally(()=>F.Close())},a=i=>{i.preventDefault(),location.reload()};return(i,F)=>(n(),N(at,{Close:e.Close,type:1},{default:T(()=>{var C,D;return[s.value==0?(n(),l("form",{key:0,class:"actioner-dns",onSubmit:ct(d,["prevent"])},[Ao,t("div",xo,[t("div",So,[Io,t("div",Vo,[t("p",Po,p((C=c.value)==null?void 0:C.name),1)])]),t("div",Mo,[To,t("div",Lo,[z(t("select",{name:"",id:"","onUpdate:modelValue":F[0]||(F[0]=m=>o.value=m)},[zo,(n(!0),l(q,null,J((D=_.value)==null?void 0:D.softSourceList,(m,f)=>(n(),l("option",{value:m.identity,key:f},p(m.name),9,No))),128))],512),[[Et,o.value,void 0,{trim:!0}]])])])]),t("div",qo,[t("button",{class:"cbi-button cbi-button-apply app-btn",disabled:o.value==""}," \u786E\u8BA4 ",8,Ho),t("button",{class:"cbi-button cbi-button-remove app-btn app-back",onClick:r}," \u53D6\u6D88 ")])],32)):b("",!0),s.value==1?(n(),l("form",Oo,[Uo,t("div",Ro,[t("div",Go,[x(Qt)]),Wo,t("div",{class:"btns"},[t("button",{class:"cbi-button cbi-button-apply softsource_successed",onClick:a}," \u786E\u5B9A ")])])])):b("",!0)]}),_:1},8,["Close"]))}});var jo=I(Zo,[["__scopeId","data-v-5cf1870c"]]);const Ce=()=>{const e=document.createElement("div");document.body.appendChild(e);const u=ot(jo,{Close:()=>{s()}});u.mount(e);const s=()=>{u.unmount(),e.remove()};return{Close:s}};const Xo={class:"utilities"},Qo=P({__name:"index",setup(e){const{$gettext:u}=K,s=g(!1),o=g(),c=()=>{window.location.href="/cgi-bin/luci/admin/system/ota"},_=()=>{o.value.status=="unsupport"&&alert("\u8BE5\u56FA\u4EF6\u4E0D\u652F\u6301\u6C99\u7BB1\u6A21\u5F0F"),o.value.status=="stopped"&&$o()},v=()=>L(this,null,function*(){try{if((yield M.Quickstart.Guide.GlobalFolders.GET()).status!==200)return}catch(i){console.log(i);return}s.value=!0;try{const i=yield M.Storage.Get.POST({key:"nas_guide_init"});if(i.data){const{success:F,error:C,result:D}=i.data;if(D&&D.key=="nas_guide_init")return}}catch(i){return}r()}),r=()=>{if(!s.value){w.Warning("\u8BF7\u5148\u66F4\u65B0\u7CFB\u7EDF\u5230\u6700\u65B0\u7248\u672C");return}we.OpenGuideWindow()},d=()=>{var i,F,C,D;window.open(`${(F=(i=window.quickstart_configs)==null?void 0:i.ttyd)!=null&&F.ssl?"https":"http"}://${window.location.hostname}:${((D=(C=window.quickstart_configs)==null?void 0:C.ttyd)==null?void 0:D.port)||7681}/`,"_blank")};return(()=>{M.Nas.GetSandbox.GET().then(i=>{var F;console.log("getSandBox",i),(F=i==null?void 0:i.data)!=null&&F.result&&(o.value=i.data.result)}).catch(i=>w.Warning(i))})(),v(),(i,F)=>(n(),N(ft,{title:$(u)("\u5E38\u7528\u5DE5\u5177")},{default:T(()=>{var C;return[t("div",Xo,[t("div",{onClick:d},[t("span",null,"\u300B"+p($(u)("\u7EC8\u7AEF")),1)]),t("div",{onClick:c},[t("span",null,p($(u)("\u56FA\u4EF6\u66F4\u65B0")),1)]),t("div",{onClick:F[0]||(F[0]=(...D)=>$(fe)&&$(fe)(...D))},[t("span",null,p($(u)("\u5185\u7F51\u914D\u7F6E")),1)]),t("div",{onClick:F[1]||(F[1]=(...D)=>$(Ee)&&$(Ee)(...D))},[t("span",null,p($(u)("DNS\u914D\u7F6E")),1)]),t("div",{onClick:F[2]||(F[2]=(...D)=>$(Ce)&&$(Ce)(...D))},[t("span",null,p($(u)("\u8F6F\u4EF6\u6E90\u914D\u7F6E")),1)]),t("div",{onClick:_},[t("span",null,p(((C=o.value)==null?void 0:C.status)=="running"?$(u)("\u6C99\u7BB1\u5DF2\u5F00\u542F"):$(u)("\u5F00\u542F\u6C99\u7BB1")),1)])])]}),_:1},8,["title"]))}});var Yo=I(Qo,[["__scopeId","data-v-33a21163"]]),Jo="/luci-static/istorex/network.svg?v=3025665f",Ko="/luci-static/istorex/device.svg?v=9068551e";const ta={},ea={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},ua=t("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M3.375 12C3.375 12.4973 3.57254 12.9742 3.92417 13.3258C4.27581 13.6775 4.75272 13.875 5.25 13.875C5.74728 13.875 6.22419 13.6775 6.57583 13.3258C6.92746 12.9742 7.125 12.4973 7.125 12C7.125 11.5027 6.92746 11.0258 6.57583 10.6742C6.22419 10.3225 5.74728 10.125 5.25 10.125C4.75272 10.125 4.27581 10.3225 3.92417 10.6742C3.57254 11.0258 3.375 11.5027 3.375 12ZM10.125 12C10.125 12.4973 10.3225 12.9742 10.6742 13.3258C11.0258 13.6775 11.5027 13.875 12 13.875C12.4973 13.875 12.9742 13.6775 13.3258 13.3258C13.6775 12.9742 13.875 12.4973 13.875 12C13.875 11.5027 13.6775 11.0258 13.3258 10.6742C12.9742 10.3225 12.4973 10.125 12 10.125C11.5027 10.125 11.0258 10.3225 10.6742 10.6742C10.3225 11.0258 10.125 11.5027 10.125 12ZM17.4242 13.3258C17.0725 12.9742 16.875 12.4973 16.875 12C16.875 11.5027 17.0725 11.0258 17.4242 10.6742C17.7758 10.3225 18.2527 10.125 18.75 10.125C19.2473 10.125 19.7242 10.3225 20.0758 10.6742C20.4275 11.0258 20.625 11.5027 20.625 12C20.625 12.4973 20.4275 12.9742 20.0758 13.3258C19.7242 13.6775 19.2473 13.875 18.75 13.875C18.2527 13.875 17.7758 13.6775 17.4242 13.3258Z",fill:"black","fill-opacity":"0.8"},null,-1),sa=[ua];function na(e,u){return n(),l("svg",ea,sa)}var oa=I(ta,[["render",na]]);const aa=e=>(H("data-v-21e54302"),e=e(),O(),e),ia={key:0,class:"title"},la=["href"],ca=aa(()=>t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 14 14",fill:"none"},[t("path",{d:"M7 14C3.1338 14 0 10.8662 0 7C0 3.1338 3.1338 0 7 0C10.8662 0 14 3.1338 14 7C14 10.8662 10.8662 14 7 14ZM7 10.9375C7.25944 10.9375 7.46988 10.8535 7.63175 10.6859C7.79362 10.5179 7.875 10.3101 7.875 10.0625C7.875 9.81487 7.79407 9.61099 7.63175 9.45131C7.46987 9.29119 7.25944 9.20368 7 9.1875C6.65962 9.20369 6.4085 9.3555 6.24663 9.64292C6.08475 9.93081 6.08475 10.2182 6.24663 10.5061C6.4085 10.7936 6.65962 10.9375 7 10.9375ZM7.67025 8.07931C7.67025 8.02901 7.65275 7.88463 7.65493 7.90519C7.637 7.72319 7.66107 7.56131 7.76081 7.40513C7.83344 7.29094 7.94588 7.18375 8.11388 7.08444C9.10175 6.50081 9.46312 5.85068 9.44256 5.17431C9.41195 4.16106 8.66556 3.16663 7.04682 3.15218C5.69361 3.1395 4.80418 3.79312 4.59376 5.02031C4.56892 5.18979 4.61132 5.36226 4.71192 5.50089C4.81251 5.63952 4.96332 5.73333 5.13214 5.76229C5.30096 5.79124 5.47441 5.75305 5.61545 5.65586C5.75649 5.55867 5.85394 5.41019 5.88699 5.24212C5.98282 4.6865 6.29388 4.4577 7.03456 4.46425C7.84699 4.47169 8.11956 4.83481 8.13094 5.21325C8.13376 5.27833 8.11633 5.34268 8.08106 5.39744C7.9905 5.56018 7.79405 5.7492 7.44669 5.95438C7.10324 6.15694 6.83899 6.40894 6.6535 6.70032C6.36518 7.15313 6.3022 7.60113 6.35119 8.05656C6.35862 8.12525 6.35776 8.1165 6.35776 8.07932C6.35734 8.16577 6.374 8.25145 6.4068 8.33143C6.43959 8.41142 6.48786 8.48414 6.54884 8.54542C6.60982 8.60669 6.6823 8.65532 6.76213 8.68849C6.84196 8.72167 6.92756 8.73875 7.014 8.73875C7.10045 8.73875 7.18605 8.72167 7.26587 8.68849C7.3457 8.65532 7.41819 8.60669 7.47917 8.54542C7.54015 8.48414 7.58842 8.41142 7.62121 8.33143C7.654 8.25145 7.67067 8.16575 7.67025 8.07931Z",fill:"#E1B8B2"})],-1)),da=[ca],ra={class:"toolbar"},_a={key:1,class:"more-icon"},pa={class:"actions"},va=["onClick"],ha=P({__name:"index",props:{span:{},height:{},title:{},padding:{},helpLink:{},moreActions:{},action:{}},setup(e){const u=e,s=g(!1),o=()=>{s.value=!s.value},c=mt({width:`calc(${u.span*100/24}% - 10px)`,height:u.height+"px"});return(_,v)=>{var r,d,a;return n(),l("div",{class:"card",style:et(c)},[t("div",null,[u.title?(n(),l("div",ia,[t("span",null,p(u.title),1),u.helpLink?(n(),l("a",{key:0,href:u.helpLink,target:"_blank"},da,8,la)):b("",!0),t("div",ra,[u.action&&u.action.show!==!1?(n(),l("div",{key:0,class:"action",onClick:v[0]||(v[0]=(...i)=>{var F,C;return((F=u.action)==null?void 0:F.onClick)&&((C=u.action)==null?void 0:C.onClick(...i))})},p((r=u.action)==null?void 0:r.text),1)):b("",!0),(a=(d=u.moreActions)==null?void 0:d.filter(({show:i})=>i!==!1))!=null&&a.length?(n(),l("span",_a,[x(oa,{onClick:o})])):b("",!0),z(t("div",pa,[t("div",{class:"menu_background",onClick:o}),t("ul",null,[(n(!0),l(q,null,J(u.moreActions,i=>(n(),l("li",{onClick:i.onClick},p(i.text),9,va))),256))])],512),[[ke,s.value]])])])):b("",!0),t("div",{class:"card-body",style:et(`padding:${u.padding}`)},[$t(_.$slots,"default",{},void 0,!0)],4)])],4)}}});var j=I(ha,[["__scopeId","data-v-21e54302"]]);const Fa={class:"flow"},ma={class:"flow-data"},fa={key:0},Ea={key:1},Ca=P({__name:"flow-chart",setup(e){const{$gettext:u}=K;tu([eu,uu,su,nu,ou,au]);const s=g(),o=m=>{var E;const f=(E=s.value)==null?void 0:E[m];return!f||f.startTime==0?"":a(f.startTime*1e3)+"-"+a(f.endTime*1e3)},c=R(()=>{var f;let m=[];return(f=s.value)==null||f.forEach(E=>{m.push({value:E.uploadSpeed})}),m}),_=R(()=>{var f;let m=[];return(f=s.value)==null||f.forEach(E=>{m.push({value:E.downloadSpeed})}),m}),v=R(()=>{var f;let m="";if(s.value){let E=((f=s.value)==null?void 0:f.length)||0;if(E>0){let h=s.value[E-1];m=i(h.uploadSpeed)+"/s"}}return m}),r=R(()=>{var f;let m="";if(s.value){let E=((f=s.value)==null?void 0:f.length)||0;if(E>0){let h=s.value[E-1];m=i(h.downloadSpeed)+"/s"}}return m});R(()=>{var f;let m=[];return(f=s.value)==null||f.forEach(E=>{m.push({value:E.downloadSpeed+E.uploadSpeed})}),m});const d=()=>L(this,null,function*(){var m;try{const f=yield M.Network.Statistics.GET();if(f.data&&(m=f.data.result)!=null&&m.items){const E=f.data.result.slots||10;if(f.data.result.items.length<E){let h=f.data.result.items;for(;h.length<E;)h=[{downloadSpeed:0,endTime:0,startTime:0,uploadSpeed:0}].concat(h);s.value=h}else f.data.result.items.length>E?s.value=f.data.result.items.slice(E-f.data.result.items.length):s.value=f.data.result.items}}catch(f){console.log(f)}}),a=qt.dateForm,i=qt.byteToSize,F=g();let C=null;const D=m=>(C=iu(m,"dark"),C.setOption({animation:!1,backgroundColor:"transparent",color:["transparent","transparent"],tooltip:{trigger:"axis",formatter:f=>{if(Array.isArray(f)){let E="";f.length>0&&(E=o(f[0].axisValue));for(let h=0;h<f.length;h++)E=`${E}<br>${f[h].seriesName}: ${i(f[h].value)}/s`;return E.toString()}else{const E=f;return`${o(E.axisValue)}<br>${E.seriesName}: ${i(E.value)}/s`}}},xAxis:{type:"category",boundaryGap:!1,splitLine:{lineStyle:{color:["#999"]},show:!1},name:"",show:!1,nameGap:0,nameTextStyle:{height:0,lineHeight:0,padding:0}},yAxis:{type:"value",name:"",minInterval:1e4,interval:1e3,axisLabel:{formatter:function(f,E){return`${i(f)}/s`},color:"#fff",show:!1},nameTextStyle:{color:"#fff"},splitLine:{lineStyle:{color:["#999"]},show:!1}},series:[{name:"\u4E0B\u8F7D",data:_.value,type:"line",smooth:!0,areaStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"rgba(32, 199, 247, 1)"},{offset:1,color:"rgba(32, 199, 247, 0.1)"}],global:!1}}},{name:"\u4E0A\u4F20",data:c.value,type:"line",smooth:!0,areaStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"rgba(85, 58, 254, 1)"},{offset:1,color:"rgba(85, 58, 254, 0.1)"}],global:!1}}}],grid:{left:"0%",right:"0%",bottom:"0%",top:"0w",containLabel:!0}}),C);return nt(()=>{setTimeout(()=>L(this,null,function*(){if(F.value){yield d();const m=D(F.value),f=F.value;m.resize({width:f.clientWidth,height:f.clientHeight}),window.addEventListener("resize",()=>{m.resize({width:f.clientWidth,height:f.clientHeight})});const E=()=>L(this,null,function*(){C!=null&&(yield d(),C!=null&&(m.setOption({series:[{name:"\u4E0B\u8F7D",data:_.value,type:"line",areaStyle:{},smooth:!0},{name:"\u4E0A\u4F20",data:c.value,type:"line",areaStyle:{},smooth:!0}]}),setTimeout(E,5e3)))});setTimeout(E,5e3)}}),900)}),Bt(()=>{C!=null&&(C.dispose(),C=null)}),(m,f)=>(n(),l("div",Fa,[t("div",{ref_key:"el",ref:F,class:"echart"},null,512),t("div",ma,[v.value?(n(),l("span",fa,p($(u)("\u4E0A\u4F20"))+": "+p(v.value),1)):b("",!0),r.value?(n(),l("span",Ea,p($(u)("\u4E0B\u8F7D"))+": "+p(r.value),1)):b("",!0)])]))}});var ga=I(Ca,[["__scopeId","data-v-c375d8f0"]]);const Ie=e=>(H("data-v-5d6e3653"),e=e(),O(),e),ba={class:"width-45 responsive"},$a={class:"width-55 responsive"},ya={class:"network"},Da=Ie(()=>t("img",{src:Jo,alt:"network"},null,-1)),ka={class:"device"},Ba=Ie(()=>t("img",{src:Ko,alt:"device"},null,-1)),wa={class:"ip-dns"},Aa={class:"title"},xa={class:"ip"},Sa={class:"title"},Ia={class:"dns"},Va=P({__name:"index",setup(e){const{$gettext:u}=K,s=qt.stampForm,o=a=>{switch(a){case"pppoe":return u("\u62E8\u53F7\u4E0A\u7F51");case"static":return u("\u9759\u6001\u7F51\u7EDC");case"dhcp":return"DHCP"}return a&&a.toUpperCase()},c=a=>{switch(a){case"manual":return u("\u624B\u52A8\u914D\u7F6E");case"auto":return u("\u81EA\u52A8\u83B7\u53D6");default:return""}},_=mt({ipv4addr:"",ipv6addr:"",internetConnected:!1,proto:"",dnsProto:"",dnsList:[],uptimeStamp:0}),v=g({devices:[]}),r=()=>L(this,null,function*(){M.Network.Status.GET().then(a=>{if(a!=null&&a.data){const{result:i}=a==null?void 0:a.data;i&&(_.ipv4addr=i.ipv4addr,_.proto=i.proto,_.dnsProto=i.dnsProto,_.ipv6addr=i.ipv6addr,_.dnsList=i.dnsList,_.uptimeStamp=i.uptimeStamp,window.setInterval(()=>{_.uptimeStamp&&(_.uptimeStamp=_.uptimeStamp+1)},1e3))}})}),d=()=>L(this,null,function*(){M.Network.Device.List.GET().then(a=>{if(a!=null&&a.data){const{result:i}=a==null?void 0:a.data;v.value={devices:(i==null?void 0:i.devices)||[]}}})});return r(),d(),(a,i)=>(n(),N(ft,null,{default:T(()=>[t("div",ba,[x(j,{title:$(u)("\u6D41\u91CF\u7EDF\u8BA1"),span:24,padding:"0 8px"},{default:T(()=>[x(ga)]),_:1},8,["title"])]),t("div",$a,[x(j,{span:12},{default:T(()=>[t("div",ya,[Da,t("div",null,[t("span",null,p($(u)("\u5DF2\u8FDE\u63A5\u4E92\u8054\u7F51")),1),t("span",null,p($(s)(_.uptimeStamp)),1)])])]),_:1}),x(j,{span:12},{default:T(()=>{var F;return[t("div",ka,[Ba,t("div",null,[t("span",null,p($(u)("\u5DF2\u8FDE\u63A5\u8BBE\u5907")),1),t("span",null,p(`${(F=v.value.devices)==null?void 0:F.length}${$(u)("\u53F0")}`),1)])])]}),_:1}),x(j,{span:24},{default:T(()=>[t("div",wa,[t("span",Aa,p($(u)("IP\u5730\u5740")),1),t("div",xa,[t("span",null,p(`IPv4\uFF1A${_.ipv4addr}\uFF08${o(_.proto||"")}\uFF09`),1),t("span",null,p(`IPv6\uFF1A${_.ipv6addr||"-"}`),1)]),t("span",Sa,p(`DNS\uFF08${c(_.dnsProto||"")}\uFF09`),1),t("div",Ia,[(n(!0),l(q,null,J(_.dnsList,F=>(n(),l("span",null,p(F),1))),256))])])]),_:1})])]),_:1}))}});var Pa=I(Va,[["__scopeId","data-v-5d6e3653"]]),Ma="/luci-static/istorex/open.svg?v=84274947",Ta="/luci-static/istorex/info.svg?v=7035c5f2";const gt=e=>(H("data-v-bd2acf72"),e=e(),O(),e),La=gt(()=>t("div",{class:"action-header"},[t("div",{class:"action-header_title"},"\u786C\u76D8\u914D\u7F6E")],-1)),za={class:"action-body"},Na={class:"disk-info"},qa=gt(()=>t("div",{class:"disk-info_icon"},[t("svg",{t:"1642589762094",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"11301",width:"128",height:"128"},[t("path",{d:"M899.892468 123.889088c0-44.342099-36.286708-80.620486-80.624646-80.620486H204.728017C160.385918 43.268602 124.107532 79.546988 124.107532 123.889088v802.847056c0 44.342099 36.278386 80.620486 80.620485 80.620486h614.539805c44.337938 0 80.624646-36.278386 80.624646-80.620486V123.889088z",fill:"#D0D0DB","p-id":"11302"}),t("path",{d:"M169.8768 977.7772V174.930143c0-44.342099 36.278386-80.620486 80.620486-80.620485h614.539804c9.936092 0 19.426974 1.905666 28.239639 5.23434-11.525534-30.507298-40.996782-52.389169-75.398629-52.389169H203.342457c-44.342099 0-80.620486 36.278386-80.620486 80.620486v802.851217c0 34.410168 21.881871 63.873094 52.385008 75.381985A79.730065 79.730065 0 0 1 169.8768 977.7772z",fill:"#FFFFFF","p-id":"11303"}),t("path",{d:"M820.657543 40.497481H206.117739c-44.342099 0-80.620486 36.278386-80.620486 80.620485v802.847057c0 44.342099 36.278386 80.620486 80.620486 80.620486h614.539804c44.337938 0 80.624646-36.278386 80.624647-80.620486V121.117966c0-44.342099-36.286708-80.620486-80.624647-80.620485z m19.60173 828.785749c0 40.846992-33.43237 74.279362-74.287684 74.279361H199.780776c-40.855313 0-74.279362-33.424048-74.279362-74.279361V129.593603c0-40.855313 33.424048-74.279362 74.279362-74.279362h566.203296c40.842831 0 74.283522 33.424048 74.283522 74.279362l-0.008321 739.689627z",fill:"#6E6E96","p-id":"11304"}),t("path",{d:"M815.106979 1024H200.567175C146.933914 1024 103.303319 980.369405 103.303319 926.736144V123.889088C103.303319 70.255827 146.933914 26.625232 200.567175 26.625232h614.539804c53.633261 0 97.268017 43.630595 97.268017 97.263856v802.847056c0 53.633261-43.634756 97.263856-97.268017 97.263856zM200.567175 59.911972C165.287391 59.911972 136.590059 88.609303 136.590059 123.889088v802.847056c0 35.279784 28.697331 63.977115 63.977116 63.977115h614.539804c35.279784 0 63.981276-28.697331 63.981276-63.977115V123.889088c0-35.279784-28.701492-63.977115-63.981276-63.977116H200.567175z",fill:"#6E6E96","p-id":"11305"}),t("path",{d:"M301.946104 941.515457h429.985632v65.841173H301.946104z",fill:"#8A8AA1","p-id":"11306"}),t("path",{d:"M731.931736 1024H301.946104a16.64337 16.64337 0 0 1-16.64337-16.64337V941.515457a16.64337 16.64337 0 0 1 16.64337-16.64337h429.985632a16.64337 16.64337 0 0 1 16.64337 16.64337v65.841173a16.64337 16.64337 0 0 1-16.64337 16.64337z m-413.342262-33.286741h396.698892v-32.554432H318.589474v32.554432z",fill:"#6E6E96","p-id":"11307"}),t("path",{d:"M337.230049 960.318304h20.804213v47.038326h-20.804213zM386.565159 960.318304h20.804213v47.038326h-20.804213zM435.891948 960.318304h20.804213v47.038326h-20.804213zM485.231219 960.318304h20.804213v47.038326h-20.804213zM534.558008 960.318304h20.804213v47.038326h-20.804213zM583.897279 960.318304h20.804213v47.038326h-20.804213zM633.224068 960.318304h20.804213v47.038326h-20.804213zM682.563339 960.318304h20.804213v47.038326h-20.804213z",fill:"#FFE599","p-id":"11308"}),t("path",{d:"M219.153659 140.794591m-26.874883 0a26.874882 26.874882 0 1 0 53.749765 0 26.874882 26.874882 0 1 0-53.749765 0Z",fill:"#ADADD1","p-id":"11309"}),t("path",{d:"M219.153659 184.312843c-23.995579 0-43.518252-19.522673-43.518253-43.518252s19.522673-43.518252 43.518253-43.518253 43.518252 19.522673 43.518252 43.518253-19.522673 43.518252-43.518252 43.518252z m0-53.749764c-5.642103 0-10.231512 4.589409-10.231512 10.231512s4.589409 10.231512 10.231512 10.231512 10.231512-4.589409 10.231511-10.231512-4.589409-10.231512-10.231511-10.231512z",fill:"#6E6E96","p-id":"11310"}),t("path",{d:"M801.28466 140.794591m-26.870721 0a26.870721 26.870721 0 1 0 53.741442 0 26.870721 26.870721 0 1 0-53.741442 0Z",fill:"#ADADD1","p-id":"11311"}),t("path",{d:"M801.28466 184.308683c-23.995579 0-43.514092-19.518512-43.514091-43.514092s19.518512-43.514092 43.514091-43.514092 43.514092 19.518512 43.514092 43.514092-19.518512 43.514092-43.514092 43.514092z m0-53.741443c-5.637942 0-10.227351 4.589409-10.227351 10.227351s4.589409 10.227351 10.227351 10.227351 10.227351-4.589409 10.227351-10.227351-4.589409-10.227351-10.227351-10.227351z",fill:"#6E6E96","p-id":"11312"}),t("path",{d:"M801.280499 905.23291m-26.870721 0a26.870721 26.870721 0 1 0 53.741443 0 26.870721 26.870721 0 1 0-53.741443 0Z",fill:"#ADADD1","p-id":"11313"}),t("path",{d:"M801.280499 948.747001c-23.995579 0-43.514092-19.518512-43.514091-43.514091s19.518512-43.514092 43.514091-43.514092 43.514092 19.518512 43.514092 43.514092-19.518512 43.514092-43.514092 43.514091z m0-53.741442c-5.637942 0-10.227351 4.589409-10.227351 10.227351s4.589409 10.227351 10.227351 10.227351 10.227351-4.589409 10.227351-10.227351-4.589409-10.227351-10.227351-10.227351z",fill:"#6E6E96","p-id":"11314"}),t("path",{d:"M219.153659 905.23291m-26.870722 0a26.870721 26.870721 0 1 0 53.741443 0 26.870721 26.870721 0 1 0-53.741443 0Z",fill:"#ADADD1","p-id":"11315"}),t("path",{d:"M219.153659 948.747001c-23.995579 0-43.514092-19.518512-43.514092-43.514091s19.518512-43.514092 43.514092-43.514092 43.514092 19.518512 43.514091 43.514092-19.522673 43.514092-43.514091 43.514091z m0-53.741442c-5.637942 0-10.227351 4.589409-10.227351 10.227351s4.589409 10.227351 10.227351 10.227351 10.227351-4.589409 10.227351-10.227351-4.589409-10.227351-10.227351-10.227351z",fill:"#6E6E96","p-id":"11316"}),t("path",{d:"M520.972857 777.43263c-142.542145 0-258.508988-115.971004-258.508988-258.52147a16.64337 16.64337 0 0 1 33.28674 0c0 124.19699 101.033579 225.23473 225.222248 225.23473s225.222248-101.03774 225.222248-225.23473c0-124.188668-101.033579-225.218087-225.222248-225.218087a16.64337 16.64337 0 0 1 0-33.286741c142.542145 0 258.508988 115.966843 258.508988 258.504828 0 142.550466-115.966843 258.521471-258.508988 258.52147z",fill:"#6E6E96","p-id":"11317"}),t("path",{d:"M520.968696 518.919481m-83.312551 0a83.312551 83.312551 0 1 0 166.625102 0 83.312551 83.312551 0 1 0-166.625102 0Z",fill:"#A9A9BA","p-id":"11318"}),t("path",{d:"M520.968696 618.875402c-55.114521 0-99.955921-44.83724-99.955921-99.95176 0-55.118682 44.8414-99.955921 99.955921-99.955921s99.95176 44.8414 99.95176 99.955921c0 55.11036-44.83724 99.95176-99.95176 99.95176z m0-166.625101c-36.761044 0-66.669181 29.908136-66.66918 66.66918s29.908136 66.66502 66.66918 66.66502 66.66502-29.908136 66.66502-66.66502c0-36.761044-29.903976-66.669181-66.66502-66.66918z",fill:"#6E6E96","p-id":"11319"}),t("path",{d:"M301.946104 941.515457h429.985632v36.977408H301.946104z",fill:"#6E6E96","p-id":"11320"})])],-1)),Ha={key:0,class:"disk-info_mount-name"},Oa={key:1,class:"disk-info_mount-name"},Ua={key:0,class:"label-item"},Ra=gt(()=>t("div",{class:"label-item_key"},[t("span",null,"\u76EE\u6807\u5206\u533A")],-1)),Ga={class:"label-item_path"},Wa={class:"label-item"},Za=gt(()=>t("div",{class:"label-item_key"},[t("span",null,"\u683C\u5F0F\u5316\u9009\u9879")],-1)),ja={class:"label-item_value"},Xa=["disabled"],Qa={key:0,value:""},Ya=gt(()=>t("option",{value:"format"},"\u683C\u5F0F\u5316",-1)),Ja={key:1,value:"default"},Ka={class:"label-item_value"},ti={key:0,class:"msg"},ei={key:1,class:"msg"},ui={class:"action-footer"},si=gt(()=>t("div",{class:"auto"},null,-1)),ni=["disabled"],oi=["disabled"],ai={key:1,class:"action result"},ii={class:"action-body"},li=gt(()=>t("div",{class:"action-body_icon"},[t("svg",{t:"1642063181211",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"5062",width:"128",height:"128","data-v-cda444e0":""},[t("path",{d:"M512 85.333333c235.648 0 426.666667 191.018667 426.666667 426.666667s-191.018667 426.666667-426.666667 426.666667S85.333333 747.648 85.333333 512 276.352 85.333333 512 85.333333z m-74.965333 550.4L346.453333 545.152a42.666667 42.666667 0 1 0-60.330666 60.330667l120.704 120.704a42.666667 42.666667 0 0 0 60.330666 0l301.653334-301.696a42.666667 42.666667 0 1 0-60.288-60.330667l-271.530667 271.488z",fill:"#52C41A","p-id":"5063","data-v-cda444e0":""})])],-1)),ci=gt(()=>t("div",{class:"action-body_msg"},"\u683C\u5F0F\u5316\u6210\u529F",-1)),di={key:0,class:"action-body_info"},ri={key:1,class:"action-body_info"},_i={class:"btns"},pi=P({__name:"index",props:{action:String,disk:{type:Object,required:!0},mount:{type:Object},Close:{type:Function},Cancel:{type:Function},Next:{type:Function}},setup(e){const u=e,s=()=>{u.Close&&u.Close()},o=h=>{h.preventDefault(),u.Cancel&&u.Cancel(),s()},c=h=>{u.Next&&u.Next(h),s()},_=g(!1),v=g(0),r=h=>{v.value=h},d=g(u.action=="nas"?"":"format"),a=g(),i=g(),F=()=>{switch(d.value){case"format":D();return;case"default":C();return;default:w.Warning("\u8BF7\u9009\u62E9\u9009\u7EBF");return}},C=()=>{let h="";const B=u.mount;if(B!=null&&B.mountPoint!=null&&(h=B.mountPoint),h!=""){c(h);return}w.Warning("\u65E0\u6CD5\u8BC6\u522B\u8DEF\u5F84")},D=()=>{const h=u.disk,B=u.mount;if(B){const S=B.mountPoint||B.path;if(!confirm(`\u8B66\u544A\uFF1A\u683C\u5F0F\u5316\u4F1A\u6E05\u7A7A ${S} \u5206\u533A\u6570\u636E\uFF0C\u8BF7\u4F60\u8C28\u614E\u64CD\u4F5C`)||!confirm(`\u662F\u5426\u786E\u5B9A\u683C\u5F0F\u5316 ${S}?`))return;f(B);return}if(h){if(!confirm(`\u8B66\u544A\uFF1A\u8BE5\u64CD\u4F5C\u5C06\u521D\u59CB\u5316 ${h.venderModel} \u786C\u76D8\u5E76\u521B\u5EFA\u5206\u533A\uFF0C\u8BF7\u4F60\u8C28\u614E\u64CD\u4F5C`)||!confirm("\u662F\u5426\u786E\u5B9A\u521D\u59CB\u5316?"))return;m(h);return}w.Warning("\u65E0\u6CD5\u8BC6\u522B\u6570\u636E")},m=h=>L(this,null,function*(){if(h.name==null||h.path==""){w.Warning("\u83B7\u53D6\u4E0D\u5230\u8BBE\u5907\u540D\u79F0");return}if(h.path==null||h.path==""){w.Warning("\u83B7\u53D6\u4E0D\u5230\u8BBE\u5907\u8DEF\u5F84");return}_.value=!0;const B=w.Loading("\u521D\u59CB\u5316\u4E2D...");try{const S=yield M.Nas.Disk.Init.POST({name:h.name,path:h.path});if(S!=null&&S.data){const{result:k,error:y}=S==null?void 0:S.data;y&&w.Warning(y),k&&(k.errorInfo?w.Warning(k.errorInfo):(w.Success("\u521D\u59CB\u5316\u6210\u529F"),k.childrens&&k.childrens.length>0&&(i.value=k.childrens[0]),a.value=k,r(1)))}}catch(S){w.Error(S)}B.Close(),_.value=!1}),f=h=>L(this,null,function*(){if(h.path==null||h.path==""){w.Warning("\u83B7\u53D6\u4E0D\u5230\u5206\u533A\u8DEF\u5F84");return}_.value=!0;const B=w.Loading("\u683C\u5F0F\u5316\u4E2D...");try{const S=yield M.Nas.Disk.Partition.Format.POST({path:h.path,uuid:h.uuid,mountPoint:h.mountPoint});if(S!=null&&S.data){const{result:k,error:y}=S==null?void 0:S.data;y&&w.Warning(y),k&&(w.Success("\u683C\u5F0F\u5316\u6210\u529F"),i.value=k,r(1))}}catch(S){w.Error(S)}B.Close(),_.value=!1}),E=()=>{if(i.value&&i.value.mountPoint){c(i.value.mountPoint);return}w.Warning("\u8BFB\u53D6\u7ED3\u679C\u5931\u8D25")};return(h,B)=>(n(),N(at,{type:1},{default:T(()=>[x(Lt,{name:"rotate",mode:"out-in"},{default:T(()=>{var S;return[v.value==0?(n(),l("form",{key:0,class:"action format",onSubmit:ct(F,["prevent"])},[La,t("div",za,[t("div",Na,[qa,e.mount?(n(),l("div",Ha,[t("span",null,"\u3010"+p(e.mount.total)+"\u3011",1),t("span",null,p(e.mount.mountPoint||e.mount.path),1)])):e.disk?(n(),l("div",Oa,[t("span",null,"\u3010"+p(e.disk.size)+"\u3011",1),t("span",null,p(e.disk.venderModel),1)])):b("",!0)]),e.mount?(n(),l("div",Ua,[Ra,t("div",Ga,p(e.mount.mountPoint||e.mount.path)+"\uFF08"+p(e.mount.total)+"\uFF09 ",1)])):b("",!0),t("div",Wa,[Za,t("div",ja,[z(t("select",{"onUpdate:modelValue":B[0]||(B[0]=k=>d.value=k),required:"",disabled:e.action=="disk"},[e.mount!=null?(n(),l("option",Qa,"\u8BF7\u9009\u62E9\u9009\u9879")):b("",!0),Ya,e.mount!=null?(n(),l("option",Ja," \u4E0D\u683C\u5F0F\u5316,\u4F7F\u7528\u539F\u6587\u4EF6\u7CFB\u7EDF ")):b("",!0)],8,Xa),[[Et,d.value]])]),t("div",Ka,[d.value=="format"?(n(),l("p",ti," \u683C\u5F0F\u5316\u4E3AEXT4\u6587\u4EF6\u7CFB\u7EDF\uFF0C\u4F20\u8F93\u901F\u5EA6\u66F4\u5FEB ")):d.value=="default"?(n(),l("p",ei)):b("",!0)])])]),t("div",ui,[si,t("button",{class:"cbi-button cbi-button-remove app-btn app-back",onClick:o,type:"button",disabled:_.value}," \u8FD4\u56DE ",8,ni),t("button",{class:"cbi-button cbi-button-apply app-btn app-next",disabled:_.value}," \u4E0B\u4E00\u6B65 ",8,oi)])],32)):v.value==1?(n(),l("div",ai,[t("div",ii,[li,ci,a.value?(n(),l("div",di,[Z(" \u5DF2\u7ECF\u6210\u529F\u683C\u5F0F\u5316\u78C1\u76D8 "+p(a.value.venderModel)+" \u5E76\u6302\u8F7D\u5230 ",1),t("a",null,p((S=i.value)==null?void 0:S.mountPoint),1)])):b("",!0),i.value?(n(),l("div",ri,[Z(" \u5DF2\u7ECF\u6210\u529F\u521D\u59CB\u5316\u5206\u533A "),t("a",null,p(i.value.mountPoint),1)])):b("",!0),t("div",_i,[t("button",{class:"cbi-button cbi-button-apply app-btn app-next",type:"button",onClick:E},p(e.action=="nas"?"\u4E0B\u4E00\u6B65":"\u5B8C\u6210"),1)])])])):b("",!0)]}),_:1})]),_:1}))}});var vi=I(pi,[["__scopeId","data-v-bd2acf72"]]),Ve=e=>{const u=document.createElement("div");document.body.appendChild(u);const s=ot(vi,ht(vt({},e),{Close:()=>{o()}}));s.mount(u);const o=()=>{s.unmount(),u.remove()};return{Close:o}};const Dt=e=>(H("data-v-3a7479d2"),e=e(),O(),e),hi=Dt(()=>t("div",{class:"action-header"},[t("div",{class:"action-header_title"})],-1)),Fi={class:"action-body"},mi={class:"disk-info"},fi=Dt(()=>t("div",{class:"disk-info_icon"},[t("svg",{t:"1642589762094",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"11301",width:"128",height:"128"},[t("path",{d:"M899.892468 123.889088c0-44.342099-36.286708-80.620486-80.624646-80.620486H204.728017C160.385918 43.268602 124.107532 79.546988 124.107532 123.889088v802.847056c0 44.342099 36.278386 80.620486 80.620485 80.620486h614.539805c44.337938 0 80.624646-36.278386 80.624646-80.620486V123.889088z",fill:"#D0D0DB","p-id":"11302"}),t("path",{d:"M169.8768 977.7772V174.930143c0-44.342099 36.278386-80.620486 80.620486-80.620485h614.539804c9.936092 0 19.426974 1.905666 28.239639 5.23434-11.525534-30.507298-40.996782-52.389169-75.398629-52.389169H203.342457c-44.342099 0-80.620486 36.278386-80.620486 80.620486v802.851217c0 34.410168 21.881871 63.873094 52.385008 75.381985A79.730065 79.730065 0 0 1 169.8768 977.7772z",fill:"#FFFFFF","p-id":"11303"}),t("path",{d:"M820.657543 40.497481H206.117739c-44.342099 0-80.620486 36.278386-80.620486 80.620485v802.847057c0 44.342099 36.278386 80.620486 80.620486 80.620486h614.539804c44.337938 0 80.624646-36.278386 80.624647-80.620486V121.117966c0-44.342099-36.286708-80.620486-80.624647-80.620485z m19.60173 828.785749c0 40.846992-33.43237 74.279362-74.287684 74.279361H199.780776c-40.855313 0-74.279362-33.424048-74.279362-74.279361V129.593603c0-40.855313 33.424048-74.279362 74.279362-74.279362h566.203296c40.842831 0 74.283522 33.424048 74.283522 74.279362l-0.008321 739.689627z",fill:"#6E6E96","p-id":"11304"}),t("path",{d:"M815.106979 1024H200.567175C146.933914 1024 103.303319 980.369405 103.303319 926.736144V123.889088C103.303319 70.255827 146.933914 26.625232 200.567175 26.625232h614.539804c53.633261 0 97.268017 43.630595 97.268017 97.263856v802.847056c0 53.633261-43.634756 97.263856-97.268017 97.263856zM200.567175 59.911972C165.287391 59.911972 136.590059 88.609303 136.590059 123.889088v802.847056c0 35.279784 28.697331 63.977115 63.977116 63.977115h614.539804c35.279784 0 63.981276-28.697331 63.981276-63.977115V123.889088c0-35.279784-28.701492-63.977115-63.981276-63.977116H200.567175z",fill:"#6E6E96","p-id":"11305"}),t("path",{d:"M301.946104 941.515457h429.985632v65.841173H301.946104z",fill:"#8A8AA1","p-id":"11306"}),t("path",{d:"M731.931736 1024H301.946104a16.64337 16.64337 0 0 1-16.64337-16.64337V941.515457a16.64337 16.64337 0 0 1 16.64337-16.64337h429.985632a16.64337 16.64337 0 0 1 16.64337 16.64337v65.841173a16.64337 16.64337 0 0 1-16.64337 16.64337z m-413.342262-33.286741h396.698892v-32.554432H318.589474v32.554432z",fill:"#6E6E96","p-id":"11307"}),t("path",{d:"M337.230049 960.318304h20.804213v47.038326h-20.804213zM386.565159 960.318304h20.804213v47.038326h-20.804213zM435.891948 960.318304h20.804213v47.038326h-20.804213zM485.231219 960.318304h20.804213v47.038326h-20.804213zM534.558008 960.318304h20.804213v47.038326h-20.804213zM583.897279 960.318304h20.804213v47.038326h-20.804213zM633.224068 960.318304h20.804213v47.038326h-20.804213zM682.563339 960.318304h20.804213v47.038326h-20.804213z",fill:"#FFE599","p-id":"11308"}),t("path",{d:"M219.153659 140.794591m-26.874883 0a26.874882 26.874882 0 1 0 53.749765 0 26.874882 26.874882 0 1 0-53.749765 0Z",fill:"#ADADD1","p-id":"11309"}),t("path",{d:"M219.153659 184.312843c-23.995579 0-43.518252-19.522673-43.518253-43.518252s19.522673-43.518252 43.518253-43.518253 43.518252 19.522673 43.518252 43.518253-19.522673 43.518252-43.518252 43.518252z m0-53.749764c-5.642103 0-10.231512 4.589409-10.231512 10.231512s4.589409 10.231512 10.231512 10.231512 10.231512-4.589409 10.231511-10.231512-4.589409-10.231512-10.231511-10.231512z",fill:"#6E6E96","p-id":"11310"}),t("path",{d:"M801.28466 140.794591m-26.870721 0a26.870721 26.870721 0 1 0 53.741442 0 26.870721 26.870721 0 1 0-53.741442 0Z",fill:"#ADADD1","p-id":"11311"}),t("path",{d:"M801.28466 184.308683c-23.995579 0-43.514092-19.518512-43.514091-43.514092s19.518512-43.514092 43.514091-43.514092 43.514092 19.518512 43.514092 43.514092-19.518512 43.514092-43.514092 43.514092z m0-53.741443c-5.637942 0-10.227351 4.589409-10.227351 10.227351s4.589409 10.227351 10.227351 10.227351 10.227351-4.589409 10.227351-10.227351-4.589409-10.227351-10.227351-10.227351z",fill:"#6E6E96","p-id":"11312"}),t("path",{d:"M801.280499 905.23291m-26.870721 0a26.870721 26.870721 0 1 0 53.741443 0 26.870721 26.870721 0 1 0-53.741443 0Z",fill:"#ADADD1","p-id":"11313"}),t("path",{d:"M801.280499 948.747001c-23.995579 0-43.514092-19.518512-43.514091-43.514091s19.518512-43.514092 43.514091-43.514092 43.514092 19.518512 43.514092 43.514092-19.518512 43.514092-43.514092 43.514091z m0-53.741442c-5.637942 0-10.227351 4.589409-10.227351 10.227351s4.589409 10.227351 10.227351 10.227351 10.227351-4.589409 10.227351-10.227351-4.589409-10.227351-10.227351-10.227351z",fill:"#6E6E96","p-id":"11314"}),t("path",{d:"M219.153659 905.23291m-26.870722 0a26.870721 26.870721 0 1 0 53.741443 0 26.870721 26.870721 0 1 0-53.741443 0Z",fill:"#ADADD1","p-id":"11315"}),t("path",{d:"M219.153659 948.747001c-23.995579 0-43.514092-19.518512-43.514092-43.514091s19.518512-43.514092 43.514092-43.514092 43.514092 19.518512 43.514091 43.514092-19.522673 43.514092-43.514091 43.514091z m0-53.741442c-5.637942 0-10.227351 4.589409-10.227351 10.227351s4.589409 10.227351 10.227351 10.227351 10.227351-4.589409 10.227351-10.227351-4.589409-10.227351-10.227351-10.227351z",fill:"#6E6E96","p-id":"11316"}),t("path",{d:"M520.972857 777.43263c-142.542145 0-258.508988-115.971004-258.508988-258.52147a16.64337 16.64337 0 0 1 33.28674 0c0 124.19699 101.033579 225.23473 225.222248 225.23473s225.222248-101.03774 225.222248-225.23473c0-124.188668-101.033579-225.218087-225.222248-225.218087a16.64337 16.64337 0 0 1 0-33.286741c142.542145 0 258.508988 115.966843 258.508988 258.504828 0 142.550466-115.966843 258.521471-258.508988 258.52147z",fill:"#6E6E96","p-id":"11317"}),t("path",{d:"M520.968696 518.919481m-83.312551 0a83.312551 83.312551 0 1 0 166.625102 0 83.312551 83.312551 0 1 0-166.625102 0Z",fill:"#A9A9BA","p-id":"11318"}),t("path",{d:"M520.968696 618.875402c-55.114521 0-99.955921-44.83724-99.955921-99.95176 0-55.118682 44.8414-99.955921 99.955921-99.955921s99.95176 44.8414 99.95176 99.955921c0 55.11036-44.83724 99.95176-99.95176 99.95176z m0-166.625101c-36.761044 0-66.669181 29.908136-66.66918 66.66918s29.908136 66.66502 66.66918 66.66502 66.66502-29.908136 66.66502-66.66502c0-36.761044-29.903976-66.669181-66.66502-66.66918z",fill:"#6E6E96","p-id":"11319"}),t("path",{d:"M301.946104 941.515457h429.985632v36.977408H301.946104z",fill:"#6E6E96","p-id":"11320"})])],-1)),Ei={key:0,class:"disk-info_mount-name"},Ci={key:1,class:"disk-info_mount-name"},gi={key:0,class:"label-item"},bi=Dt(()=>t("div",{class:"label-item_key"},[t("span",null,"\u76EE\u6807\u5206\u533A")],-1)),$i={class:"label-item_path"},yi={class:"label-item"},Di=Dt(()=>t("div",{class:"label-item_key"},[t("span",null,"\u6302\u8F7D\u70B9")],-1)),ki={class:"label-item_value"},Bi={class:"action-footer"},wi=Dt(()=>t("div",{class:"auto"},null,-1)),Ai=["disabled"],xi=["disabled"],Si={key:1,class:"action result"},Ii={class:"action-body"},Vi=Dt(()=>t("div",{class:"action-body_icon"},[t("svg",{t:"1642063181211",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"5062",width:"128",height:"128","data-v-cda444e0":""},[t("path",{d:"M512 85.333333c235.648 0 426.666667 191.018667 426.666667 426.666667s-191.018667 426.666667-426.666667 426.666667S85.333333 747.648 85.333333 512 276.352 85.333333 512 85.333333z m-74.965333 550.4L346.453333 545.152a42.666667 42.666667 0 1 0-60.330666 60.330667l120.704 120.704a42.666667 42.666667 0 0 0 60.330666 0l301.653334-301.696a42.666667 42.666667 0 1 0-60.288-60.330667l-271.530667 271.488z",fill:"#52C41A","p-id":"5063","data-v-cda444e0":""})])],-1)),Pi=Dt(()=>t("div",{class:"action-body_msg"},"\u6302\u8F7D\u6210\u529F",-1)),Mi={key:0,class:"action-body_info"},Ti={class:"btns"},Li=P({__name:"index",props:{action:String,disk:{type:Object,required:!0},mount:{type:Object},Close:{type:Function},Cancel:{type:Function},Next:{type:Function}},setup(e){var D;const u=e,s=()=>{u.Close&&u.Close()},o=m=>{m.preventDefault(),u.Cancel&&u.Cancel(),s()},c=m=>{u.Next&&u.Next(m),s()},_=g(!1),v=g(0),r=g("/mnt/data_"+((D=u==null?void 0:u.mount)==null?void 0:D.name)),d=m=>{v.value=m};g(u.mount?"":"format"),g();const a=g(),i=()=>L(this,null,function*(){const m=u.mount;if(m==null){w.Warning("\u83B7\u53D6\u4E0D\u5230\u5206\u533A");return}if(m.path==null||m.path==""){w.Warning("\u83B7\u53D6\u4E0D\u5230\u5206\u533A\u8DEF\u5F84");return}if(m.uuid==null||m.uuid==""){w.Warning("\u83B7\u53D6\u4E0D\u5230\u5206\u533AID");return}_.value=!0;const f=w.Loading("\u6302\u8F7D\u4E2D...");try{const E=yield M.Nas.Disk.Partition.Mount.POST({path:m.path,uuid:m.uuid,mountPoint:r.value});if(E!=null&&E.data){const{result:h,error:B}=E==null?void 0:E.data;B&&w.Warning(B),h&&(w.Success("\u6302\u8F7D\u6210\u529F"),a.value=h,d(1))}}catch(E){w.Error(E)}f.Close(),_.value=!1}),F=()=>{if(a.value&&a.value.mountPoint){c(a.value.mountPoint);return}w.Warning("\u8BFB\u53D6\u7ED3\u679C\u5931\u8D25")},C=()=>{};return(m,f)=>(n(),N(at,{type:1},{default:T(()=>[x(Lt,{name:"rotate",mode:"out-in"},{default:T(()=>{var E,h;return[v.value==0?(n(),l("form",{key:0,class:"action format",onSubmit:ct(C,["prevent"])},[hi,t("div",Fi,[t("div",mi,[fi,e.mount?(n(),l("div",Ei,[t("span",null,"\u3010"+p(e.mount.total)+"\u3011",1),t("span",null,p(e.mount.mountPoint),1)])):e.disk?(n(),l("div",Ci,[t("span",null,"\u3010"+p(e.disk.size)+"\u3011",1),t("span",null,p(e.disk.venderModel),1)])):b("",!0)]),e.mount?(n(),l("div",gi,[bi,t("div",$i,p(e.mount.path)+"\uFF08"+p(e.mount.total)+"\uFF0C"+p((h=(E=e.mount)==null?void 0:E.filesystem)==null?void 0:h.toUpperCase())+"\uFF09 ",1)])):b("",!0),t("div",yi,[Di,t("div",ki,[z(t("input",{type:"text","onUpdate:modelValue":f[0]||(f[0]=B=>r.value=B)},null,512),[[Y,r.value,void 0,{trim:!0}]])])])]),t("div",Bi,[wi,t("button",{class:"cbi-button cbi-button-apply app-btn app-next",disabled:_.value,onClick:i}," \u786E\u5B9A ",8,Ai),t("button",{class:"cbi-button cbi-button-remove app-btn app-back",onClick:o,type:"button",disabled:_.value}," \u8FD4\u56DE ",8,xi)])],32)):v.value==1?(n(),l("div",Si,[t("div",Ii,[Vi,Pi,a.value?(n(),l("div",Mi,[Z(" \u5DF2\u6210\u529F\u5C06\u5206\u533A "+p(a.value.path)+" \u6302\u8F7D\u5230 ",1),t("a",null,p(a.value.mountPoint),1)])):b("",!0),t("div",Ti,[t("button",{class:"cbi-button cbi-button-apply app-btn app-next",type:"button",onClick:F},p(e.action=="nas"?"\u5B8C\u6210":"\u4E0B\u4E00\u6B65"),1)])])])):b("",!0)]}),_:1})]),_:1}))}});var zi=I(Li,[["__scopeId","data-v-3a7479d2"]]),Pe=e=>{const u=document.createElement("div");document.body.appendChild(u);const s=ot(zi,ht(vt({},e),{Close:()=>{o()}}));s.mount(u);const o=()=>{s.unmount(),u.remove()};return{Close:o}};const Ni={class:"progress"},qi=P({__name:"index",props:{value:{type:Number,required:!0},text:{type:String}},setup(e){const u=e,s=R(()=>u.value>=80?"#e45e5e":u.value>=70?"#ff9800":u.value>=60?"#297ff3":u.value>0?"#53c31b":"");return(o,c)=>(n(),l("div",Ni,[t("div",{class:Xt(["progress-value",`${e.value>50}`]),style:et({width:`${e.value}%`,backgroundColor:s.value})},[t("span",null,p(e.text),1)],6),$t(o.$slots,"default",{},void 0,!0)]))}});var Hi=I(qi,[["__scopeId","data-v-733828e1"]]);const Me=e=>(H("data-v-4b3c5909"),e=e(),O(),e),Oi={class:"disk-content"},Ui={class:"disk-item"},Ri={class:"disk-item_name"},Gi={key:0},Wi={key:1},Zi={key:2},ji={class:"disk_value"},Xi={key:0,class:"disk-item_value"},Qi={class:"value-data"},Yi={key:1,class:"disk-item_value"},Ji={key:0,class:"disk-item"},Ki={class:"disk-item_name"},tl=["href"],el={class:"disk_status"},ul={class:"disk_status_item"},sl={key:0,class:"tooltip-trigger disk_tip"},nl=Me(()=>t("div",{class:"tooltip-text tooltip-top"},[t("div",{class:"disk_dir_tip"}," \u5F53\u524D\u78C1\u76D8\u4E3A\u53EA\u8BFB\u72B6\u6001\uFF0C\u53EF\u80FD\u5BFC\u81F4\u65E0\u6CD5\u5199\u5165\u6570\u636E ")],-1)),ol={class:"disk_status_item"},al={key:0,class:"tooltip-trigger disk_tip"},il=Me(()=>t("div",{class:"tooltip-text tooltip-top"},[t("span",{class:"disk_dir_tip"},"\u5F53\u524D\u78C1\u76D8\u786C\u76D8\u683C\u5F0F\u4E3ANTFS\uFF0C\u53EF\u80FD\u5BFC\u81F4\u786C\u76D8\u51FA\u73B0\u517C\u5BB9\u6027\u95EE\u9898\uFF0C\u5EFA\u8BAE\u683C\u5F0F\u5316\u6210EXT4\u6587\u4EF6\u7CFB\u7EDF")],-1)),ll=P({__name:"item",props:{part:{type:Object,required:!0},disk:{type:Object,required:!0}},setup(e){const u=e,s=R(()=>u.part.filesystem=="No FileSystem"),o=R(()=>s.value||!u.part.isSystemRoot&&u.part.mountPoint&&(u.part.isReadOnly||u.part.filesystem=="ntfs")),c=function(){Ve({action:"disk",disk:u.disk,mount:u.part,Cancel:()=>{},Next:a=>{location.reload()}})},_=()=>{Pe({action:"nas",disk:u.disk,mount:u.part,Cancel:()=>{},Next:()=>{location.reload()}})},v=()=>L(this,null,function*(){const a=w.Loading("\u5904\u7406\u4E2D...");try{const i=yield M.Nas.Disk.InitRest.POST({name:u.disk.name,path:u.disk.path});if(i!=null&&i.data){const{result:F,error:C}=i==null?void 0:i.data;C&&w.Warning(C),F&&(w.Success("\u6302\u8F7D\u6210\u529F"),location.reload())}}catch(i){w.Error(i)}a.Close()}),r=R(()=>u.part.filesystem=="Free Space"),d=R(()=>{const a=u.part.mountPoint?u.part.mountPoint:"";return a.indexOf("/mnt/")==0?"/cgi-bin/luci/admin/services/linkease/file/?path=/"+a.substring(5):"/cgi-bin/luci/admin/services/linkease/file/?path=/root"+a});return(a,i)=>{var C;const F=jt("progress-item");return n(),l("div",Oi,[t("li",Ui,[t("div",Ri,[r.value?(n(),l("span",Gi,"\u672A\u5206\u533A")):(n(),l("span",Wi,p(e.part.name)+p(e.part.mountPoint?"":s.value?"\uFF08\u672A\u683C\u5F0F\u5316\uFF09":"\uFF08\u672A\u6302\u8F7D\uFF09"),1)),e.part.isSystemRoot?(n(),l("span",Zi,"\uFF08\u7CFB\u7EDF\u5206\u533A\uFF09")):b("",!0)]),t("div",ji,[e.part.mountPoint||r.value?(n(),l("div",Xi,[t("div",Qi,[x(F,{value:r.value||!e.part.usage?0:e.part.usage,text:r.value?"\u672A\u5206\u533A\uFF08"+e.part.total+"\uFF09":e.part.used+"/"+e.part.total,style:{backgroundColor:"#767676"}},null,8,["value","text"])])])):s.value?b("",!0):(n(),l("div",Yi,[t("div",{class:"value-data buttondiv",onClick:_},"\u624B\u52A8\u6302\u8F7D")])),r.value?(n(),l("button",{key:2,class:"cbi-button cbi-button-apply",onClick:v}," \u5206\u533A\u5E76\u683C\u5F0F\u5316 ")):o.value?(n(),l("button",{key:3,class:"cbi-button cbi-button-apply",onClick:c}," \u683C\u5F0F\u5316\u5206\u533A ")):b("",!0)])]),e.part.mountPoint?(n(),l("li",Ji,[t("span",Ki,[t("a",{href:d.value,target:"_blank"},p(e.part.mountPoint),9,tl)]),t("div",el,[t("div",ul,[t("div",null,"\u78C1\u76D8\u8BFB\u5199\u72B6\u6001\uFF1A"+p(e.part.isReadOnly?"\u53EA\u8BFB":"\u8BFB\u5199"),1),!e.part.isSystemRoot&&e.part.isReadOnly?(n(),l("div",sl,[x(dt),nl])):b("",!0)]),t("div",ol,[t("div",null,"\u78C1\u76D8\u683C\u5F0F\uFF1A"+p((C=e.part.filesystem)==null?void 0:C.toUpperCase()),1),e.part.filesystem=="ntfs"?(n(),l("div",al,[x(dt),il])):b("",!0)])])])):b("",!0)])}}});var cl=I(ll,[["__scopeId","data-v-4b3c5909"]]);const Te=e=>(H("data-v-5f29973e"),e=e(),O(),e),dl={key:0,class:"action"},rl={class:"title"},_l=Te(()=>t("div",{class:"app-container_info"},[t("span",null,"\u5206\u533A / \u6302\u8F7D\u70B9"),t("span",null,"\u5BB9\u91CF")],-1)),pl={class:"app-container_body"},vl=Te(()=>t("div",{class:"auto"},null,-1)),hl=P({__name:"index",props:{disk:{type:Object,required:!0},Close:{type:Function},Cancel:{type:Function},Next:{type:Function}},setup(e){const u=e,s=g(0),o=()=>{u.Close&&u.Close()},c=_=>{_.preventDefault(),u.Cancel&&u.Cancel(),o()};return(_,v)=>(n(),N(at,{Close:e.Close,type:1},{default:T(()=>[x(Lt,{name:"rotate",mode:"out-in"},{default:T(()=>[s.value==0?(n(),l("div",dl,[t("h2",rl," \u5206\u533A\u4FE1\u606F - "+p((e.disk.name||"?")+(e.disk.isSystemRoot?"\uFF08\u7CFB\u7EDF\u76D8\uFF09":"")),1),t("ul",null,[t("li",null,[_l,t("div",pl,[(n(!0),l(q,null,J(e.disk.childrens,(r,d)=>(n(),N(cl,{key:d,part:r,disk:e.disk},null,8,["part","disk"]))),128))])])]),t("div",{class:"action-footer"},[vl,t("button",{class:"cbi-button cbi-button-remove app-btn app-back",onClick:c,type:"button"}," \u8FD4\u56DE ")])])):b("",!0)]),_:1})]),_:1},8,["Close"]))}});var Fl=I(hl,[["__scopeId","data-v-5f29973e"]]),ml=e=>{const u=document.createElement("div");document.body.appendChild(u);const s=ot(Fl,ht(vt({},e),{Close:()=>{o()}}));s.component("progress-item",Hi),s.mount(u);const o=()=>{s.unmount(),u.remove()};return{Close:o}},fl="/luci-static/istorex/warning.svg?v=69d55c8f";const Ot=e=>(H("data-v-e039a994"),e=e(),O(),e),El={class:"disk"},Cl={key:0,class:"title"},gl={class:"not-progress"},bl={key:0},$l={class:"progress"},yl={class:"button"},Dl=["src"],kl=Ot(()=>t("span",null,"S.M.A.R.T\u5F02\u5E38",-1)),Bl={key:1},wl={class:"progress"},Al={class:"button"},xl={key:0,class:"tooltip-trigger"},Sl={class:"disk_tip"},Il=Ot(()=>t("div",null,[t("div",{class:"tooltip-text tooltip-top"},[t("span",{class:"disk_dir_tip"},"\u60A8\u7684\u7CFB\u7EDF\u7A7A\u95F4\u5DF2\u4E0D\u8DB3\uFF0C\u68C0\u6D4B\u5230\u60A8\u7684Docker\u6839\u76EE\u5F55\u4F4D\u4E8E\u7CFB\u7EDF\u6839\u76EE\u5F55\u4E0A\uFF0C\u53EF\u80FD\u4F1A\u5F71\u54CD\u7CFB\u7EDF\u7684\u6B63\u5E38\u8FD0\u884C\uFF0C\u5EFA\u8BAE\u4F7F\u7528Docker\u8FC1\u79FB\u5411\u5BFC\u5C06Docker\u6839\u76EE\u5F55\u8FC1\u79FB\u5230\u5916\u7F6E\u786C\u76D8\u4E0A\u3002")])],-1)),Vl={key:1,class:"tooltip-trigger"},Pl={class:"disk_tip"},Ml=Ot(()=>t("div",null,[t("div",{class:"tooltip-text tooltip-top"},[t("span",{class:"disk_dir_tip"},"\u5206\u533A\u5B58\u5728\u5F02\u5E38\uFF0C\u70B9\u51FB\u5206\u533A\u5217\u8868\u67E5\u770B\u9519\u8BEF")])],-1)),Tl={key:2,class:"tooltip-trigger"},Ll={class:"disk_tip"},zl=Ot(()=>t("div",null,[t("div",{class:"tooltip-text tooltip-top"},[t("span",{class:"disk_dir_tip"},"\u60A8\u7684\u7CFB\u7EDF\u7A7A\u95F4\u5DF2\u4E0D\u8DB3\uFF0C\u70B9\u51FB\u5206\u533A\u5217\u8868\u67E5\u770B\u9519\u8BEF")])],-1)),Nl=["onClick"],ql=["onClick"],Hl={class:"progress"},Ol={class:"button"},Ul=["onClick"],Rl={key:0},Gl={class:"progress"},Wl={class:"button"},Zl=["onClick"],jl={key:1},Xl={class:"progress"},Ql={class:"button"},Yl=["onClick"],Jl=P({__name:"disk",props:{title:String,type:String,smartWarning:Boolean},setup(e){const u=e,s=Ae(),o=R(()=>{var F,C,D,m;if(u.type==="systemRoot")return((C=(F=s==null?void 0:s.disk)==null?void 0:F.disks)==null?void 0:C.filter(f=>f.isSystemRoot))||[];if(u.type==="notSystemRoot")return[...(D=s==null?void 0:s.disk)==null?void 0:D.disks].filter(f=>!f.isSystemRoot)||[];if(u.type==="raid")return[...(m=s==null?void 0:s.raid)==null?void 0:m.disks]}),c=F=>F.usage>80?"linear-gradient(91deg, #e7ab67 0.27%, #fa5b29 99.46%)":"linear-gradient(91deg, #4BCAE7 0.27%, #8ADE86 99.46%)",_=()=>{it({title:"S.M.A.R.T.",src:"/cgi-bin/luci/admin/nas/smart"})},v=F=>{Ve({action:"disk",disk:F,Cancel:()=>{},Next:()=>{location.reload()}})},r=F=>{ml({action:"disk",disk:F,Cancel:()=>{},Next:()=>{location.reload()}})},d=F=>{const C=F.childrens||[];Pe({action:"nas",disk:F,mount:C[0],Cancel:()=>{},Next:()=>{location.reload()}})},a=F=>F.errorInfo?"error":F.childrens==null||F.childrens.length==0||F.childrens.length==1&&F.childrens[0].filesystem=="No FileSystem"?"load":F.childrens.filter(C=>C.mountPoint).length===0?"unmounted":"success",i=F=>{let C=F.name;return F.size&&(C+=`\u3010${F.size}\u3011`),F.venderModel&&(C+=`(${F.venderModel})`),C};return(F,C)=>{var D;return n(),l("div",El,[(D=o.value)!=null&&D.length?(n(),l("span",Cl,p(u.title),1)):b("",!0),(n(!0),l(q,null,J(o.value,(m,f)=>{var E,h,B,S,k;return n(),l("div",{class:"item",key:f},[a(m)==="error"?(n(),l(q,{key:0},[t("span",null,p(i(m)),1),t("div",gl,[t("span",null,p(m.errorInfo),1)])],64)):a(m)=="success"?(n(),l(q,{key:1},[t("span",null,p(i(m)),1),m.smartWarning&&e.smartWarning?(n(),l("div",bl,[t("div",$l,[t("div",{style:et({background:c(m),width:`${m.usage||0}%`})},null,4),t("span",null,p(`${m.used}/${m.total}`),1)]),t("div",yl,[t("span",{class:"btn",onClick:C[0]||(C[0]=y=>_())},[t("img",{src:$(fl)},null,8,Dl),kl])])])):(n(),l("div",Bl,[t("div",wl,[t("div",{style:et({background:c(m),width:`${m.usage||0}%`})},null,4),t("span",null,p(`${m.used}/${m.total}`),1)]),t("div",Al,[m.isDockerRoot&&m.isSystemRoot&&m.usage&&m.usage>=90?(n(),l("span",xl,[t("span",Sl,[x(dt)]),Il])):b("",!0),!m.isSystemRoot&&(((E=m.childrens)==null?void 0:E.filter(y=>y.isReadOnly||y.filesystem=="ntfs").length)||0)>0?(n(),l("span",Vl,[t("span",Pl,[x(dt)]),Ml])):b("",!0),(h=m.childrens)!=null&&h.filter(y=>y.isSystemRoot&&y.usage&&y.usage>80).length?(n(),l("span",Tl,[t("span",Ll,[x(dt)]),zl])):b("",!0),!m.isSystemRoot&&(((B=m.childrens)==null?void 0:B.filter(y=>y.isReadOnly||y.filesystem=="ntfs").length)||0)>0?(n(),l("img",{key:3,src:Ma,onClick:y=>v(m),alt:""},null,8,Nl)):b("",!0),t("img",{onClick:y=>r(m),src:Ta,alt:""},null,8,ql)])]))],64)):a(m)==="load"?(n(),l(q,{key:2},[t("span",null,p(i(m)),1),t("div",Hl,[t("div",{style:et({width:`${m.usage||0}%`})},null,4),t("span",null,p(`${m.used}/${m.total}`),1)]),t("div",Ol,[t("span",{class:"btn",onClick:y=>v(m)},"\u683C\u5F0F\u5316\u5E76\u6302\u8F7D",8,Ul)])],64)):a(m)==="unmounted"?(n(),l(q,{key:3},[t("span",null,p(i(m)),1),((S=m.childrens)==null?void 0:S.length)==1?(n(),l("div",Rl,[t("div",Gl,[t("div",{style:et({background:c(m),width:`${m.usage||0}%`})},null,4),t("span",null,p(`${m.used}/${m.total}`),1)]),t("div",Wl,[t("span",{class:"btn",onClick:y=>d(m)},"\u624B\u52A8\u6302\u8F7D",8,Zl)])])):b("",!0),(((k=m.childrens)==null?void 0:k.length)||0)>1?(n(),l("div",jl,[t("div",Xl,[t("div",{style:et({background:c(m),width:`${m.usage||0}%`})},null,4),t("span",null,p(`${m.used}/${m.total}`),1)]),t("div",Ql,[t("span",{class:"btn",onClick:y=>r(m)},"\u624B\u52A8\u6302\u8F7D",8,Yl)])])):b("",!0)],64)):b("",!0)])}),128))])}}});var Gt=I(Jl,[["__scopeId","data-v-e039a994"]]),ge="/luci-static/istorex/right.svg?v=173d63f8";const Kl=Ht('<div class="app-container_status-label_iconer" data-v-0b1799f1><svg xmlns="http://www.w3.org/2000/svg" width="36" height="28" viewBox="0 0 36 28" fill="none" data-v-0b1799f1><rect width="36" height="28" rx="2" fill="#E6E6E6" data-v-0b1799f1></rect><rect x="3" y="19" width="6" height="6" fill="#CCCCCC" data-v-0b1799f1></rect><path fill-rule="evenodd" clip-rule="evenodd" d="M5 3C3.89543 3 3 3.89543 3 5V17H11V21H14V25H22V21H25V17H33V5C33 3.89543 32.1046 3 31 3H5ZM5.5 5H6.5V13H5.5V5ZM8.5 5H9.5V13H8.5V5ZM12.5 5H11.5V13H12.5V5ZM14.5 5H15.5V13H14.5V5ZM18.5 5H17.5V13H18.5V5ZM20.5 5H21.5V13H20.5V5ZM24.5 5H23.5V13H24.5V5ZM26.5 5H27.5V13H26.5V5ZM30.5 5H29.5V13H30.5V5Z" fill="#999999" data-v-0b1799f1></path></svg></div>',1),t1={class:"app-container_status-label_text"},e1={class:"text_status"},u1={class:"text_info"},s1=Ht('<div class="app-container_status-label_iconer" data-v-0b1799f1><svg xmlns="http://www.w3.org/2000/svg" width="36" height="28" viewBox="0 0 36 28" fill="none" data-v-0b1799f1><rect width="36" height="28" rx="2" fill="#E6E6E6" data-v-0b1799f1></rect><rect x="3" y="19" width="6" height="6" fill="#8ECF57" data-v-0b1799f1></rect><path fill-rule="evenodd" clip-rule="evenodd" d="M5 3C3.89543 3 3 3.89543 3 5V17H11V21H14V25H22V21H25V17H33V5C33 3.89543 32.1046 3 31 3H5ZM5.5 5H6.5V13H5.5V5ZM8.5 5H9.5V13H8.5V5ZM12.5 5H11.5V13H12.5V5ZM14.5 5H15.5V13H14.5V5ZM18.5 5H17.5V13H18.5V5ZM20.5 5H21.5V13H20.5V5ZM24.5 5H23.5V13H24.5V5ZM26.5 5H27.5V13H26.5V5ZM30.5 5H29.5V13H30.5V5Z" fill="#4D4D4D" data-v-0b1799f1></path></svg></div>',1),n1={class:"app-container_status-label_text"},o1={class:"text_info"},a1=P({__name:"item",props:{item:{type:Object,required:!0},transform:{type:Number,default:0}},setup(e){const{$gettext:u}=K,s=xe(),o=e,c=g(null),_=r=>{const d=r.target,{left:a,top:i}=d.getBoundingClientRect();s.portitemStyle.show=!0,s.portitemStyle.left=a,s.portitemStyle.top=i,s.portitemStyle.portitem=o.item},v=r=>{s.portitemStyle.show=!1};return(r,d)=>(n(),l("div",{class:"app-container_status-label_bg",style:et(`transform: translateX(${e.transform}px);`),ref_key:"el",ref:c,onMouseenter:_,onMouseleave:v},[e.item.linkState=="DOWN"?(n(),l(q,{key:0},[Kl,t("div",t1,[t("div",e1,p($(u)("\u5DF2\u65AD\u5F00")),1),t("div",u1,p(e.item.name)+" "+p(e.item.interfaceNames?`(${e.item.interfaceNames.join(",").toLocaleUpperCase()})`:""),1)])],64)):(n(),l(q,{key:1},[s1,t("div",n1,[t("div",null,p(e.item.linkSpeed),1),t("div",o1,p(e.item.name)+" "+p(e.item.interfaceNames?`(${e.item.interfaceNames.join(",").toLocaleUpperCase()})`:""),1)])],64))],36))}});var i1=I(a1,[["__scopeId","data-v-0b1799f1"]]);const l1=P({__name:"index",props:{portList:{type:Array,required:!0}},setup(e){const u=g(),s=g(0),o=g(0),c=g(0),_=g(!1),v=()=>{if(c.value>=0){c.value=0;return}c.value+=100},r=()=>{if(c.value<=0-s.value+o.value){c.value=0-s.value+o.value;return}c.value-=100};return nt(()=>{je(()=>{u.value&&(s.value=u.value.scrollWidth,o.value=u.value.clientWidth,_.value=s.value>o.value)})}),(d,a)=>(n(),l("div",{class:"app-interfaces",ref_key:"el",ref:u},[_.value?(n(),l(q,{key:0},[t("img",{src:ge,class:"btn-f",alt:"",onClick:v}),t("img",{src:ge,class:"btn-r",alt:"",onClick:r})],64)):b("",!0),(n(!0),l(q,null,J(e.portList,(i,F)=>(n(),N(i1,{item:i,transform:c.value},null,8,["item","transform"]))),256))],512))}});var c1=I(l1,[["__scopeId","data-v-92f8fb6c"]]);const d1={class:"status-card"},r1=P({__name:"interfacer-status",setup(e){const u=mt({portList:[],load:!1});return(()=>{M.Network.PortList.GET().then(o=>{if(o!=null&&o.data){const{result:c}=o==null?void 0:o.data;c&&(u.portList=c.ports||[])}}).finally(()=>{u.load=!0})})(),(o,c)=>(n(),l("div",d1,[u.load?(n(),N(c1,{key:0,portList:u.portList},null,8,["portList"])):b("",!0)]))}});var _1=I(r1,[["__scopeId","data-v-2244abae"]]);const rt={installApp:(e,u)=>new Promise((s,o)=>{let c=0;M.App.Install.POST({name:e}).then(()=>{const _=setTimeout(()=>{c==0&&(c=1,s(!1))},(u||60)*1e3),v=()=>{c==0&&M.App.Check.POST({name:e}).then(r=>{if(c==0&&r!=null&&r.data){const{result:d}=r.data;if((d==null?void 0:d.status)=="installed"){clearTimeout(_),c=1,s(!0);return}}}).catch(r=>{}).finally(()=>{c==0&&setTimeout(v,3e3)})};setTimeout(v,3e3)}).catch(_=>{c==0&&(c=1,o("\u5B89\u88C5\u5931\u8D25\uFF0C"+_))})}),checkAndInstallApp:(e,u,s)=>L(void 0,null,function*(){let o=w.Loading("\u68C0\u67E5\u4E2D...");try{const c=yield M.App.Check.POST({name:e});if(o.Close(),c!=null&&c.data){const{result:_,error:v}=c.data;if(v)w.Warning(v);else if(_){if(_.status=="installed")return!0;if(confirm(`\u68C0\u6D4B\u5230\u4F60\u5C1A\u672A\u5B89\u88C5 ${u} \u63D2\u4EF6,\u662F\u5426\u5B89\u88C5\uFF1F`)){o=w.Loading("\u6B63\u5728\u5B89\u88C5\u4E2D...");const r=yield rt.installApp(s||e);if(o.Close(),r)return!0;w.Error("\u5B89\u88C5\u5931\u8D25\u6216\u8D85\u65F6\uFF0C\u8BF7\u68C0\u67E5\u8F6F\u4EF6\u6E90\u6216\u7A0D\u5019\u91CD\u8BD5")}}else w.Warning("\u68C0\u67E5\u63D2\u4EF6\u72B6\u6001\u5931\u8D25")}return!1}catch(c){return o.Close(),w.Warning(c),!1}}),installAndGo:(e,u,s,o)=>L(void 0,null,function*(){(yield rt.checkAndInstallApp(e,u,o))&&(location.href=s)})};const p1={class:"width-50 responsive"},v1={class:"chart"},h1={class:"info"},F1={class:"width-50 responsive"},m1=P({__name:"index",setup(e){const{$gettext:u}=K,s=qt.stampForm,o=mt({cpuUsage:0,cpuTemperature:0,memAvailablePercentage:0,uptime:0,localtime:""}),c=mt({firmwareVersion:"",kernelVersion:"",model:""});mt({root:[],loaded:[]});const _={interfaceconfig:[{text:"\u7F51\u53E3\u914D\u7F6E",onClick:()=>{it({title:"\u7F51\u53E3\u914D\u7F6E",src:"/cgi-bin/luci/admin/quickstart/interfaceconfig"})}}],system:[{text:"\u7CFB\u7EDF\u76D1\u63A7",onClick:()=>{rt.installAndGo("app-meta-netdata","NetData","/cgi-bin/luci/admin/status/netdata")}},{text:"\u5907\u4EFD\u5347\u7EA7",onClick:()=>{it({title:"\u5907\u4EFD\u5347\u7EA7",src:"/cgi-bin/luci/admin/system/flash"})}},{text:"\u63D2\u4EF6\u5907\u4EFD",onClick:()=>{it({title:"\u63D2\u4EF6\u5907\u4EFD",src:"/cgi-bin/luci/admin/store/pages/maintance"})}}],disk:[{text:"RAID\u7BA1\u7406",onClick:()=>{it({title:"RAID\u7BA1\u7406",src:"/cgi-bin/luci/admin/nas/raid"})}},{text:"S.M.A.R.T.",onClick:()=>{it({title:"S.M.A.R.T.",src:"/cgi-bin/luci/admin/nas/smart"})}},{text:"\u78C1\u76D8\u7BA1\u7406",onClick:()=>{it({title:"\u78C1\u76D8\u7BA1\u7406",src:"/cgi-bin/luci/admin/system/diskman"})}},{text:"\u6302\u8F7D\u70B9",onClick:()=>{it({title:"\u6302\u8F7D\u70B9",src:"/cgi-bin/luci/admin/system/mounts"})}}]},v=()=>L(this,null,function*(){var D,m,f,E,h;const C=yield M.System.Status.GET();console.log("getSystemStatus",C.data.result),C.data.result&&(o.uptime=(D=C.data.result)==null?void 0:D.uptime,o.localtime=(m=C.data.result)==null?void 0:m.localtime,o.cpuUsage=((f=C.data.result)==null?void 0:f.cpuUsage)||0,o.memAvailablePercentage=100-((E=C.data.result)==null?void 0:E.memAvailablePercentage)||0,o.cpuTemperature=(h=C.data.result)==null?void 0:h.cpuTemperature,F.cpu&&F.cpu.setValue(o.cpuUsage),F.men&&F.men.setValue(o.memAvailablePercentage),F.temperature&&F.temperature.setValue(o.cpuTemperature),window.setInterval(()=>{o.uptime&&(o.uptime=o.uptime+1),o.localtime&&(o.localtime=String(me(me(o.localtime).unix()*1e3+1e3).format("YYYY-MM-DD HH:mm:ss")))},1e3))}),r=()=>L(this,null,function*(){var D,m,f;const C=yield M.System.Version.GET();console.log("getSystemVersion",C),C.data.result&&(c.firmwareVersion=(D=C.data.result)==null?void 0:D.firmwareVersion,c.kernelVersion=(m=C.data.result)==null?void 0:m.kernelVersion,c.model=(f=C.data.result)==null?void 0:f.model)});Ae();const d=g(null),a=g(null),i=g(null),F={cpu:null,men:null,temperature:null};return nt(()=>{d.value&&a.value&&i.value&&(F.cpu=Rt({el:d.value,value:o.cpuUsage,name:"CPU\u4F7F\u7528\u7387",labelColor:"rgba(0, 0, 0, 0.80)",numberColor:"#32CFA4",labelFontSize:10,numberFontSize:14,radius:"100%",progressBackgroundColor:"rgba(0, 0, 0, 0.04)",progressColor:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"#8ADE86"},{offset:1,color:"#4BCAE7"}],global:!1}}),F.men=Rt({el:a.value,value:o.memAvailablePercentage,name:"\u5185\u5B58\u4F7F\u7528\u7387",labelColor:"rgba(0, 0, 0, 0.80)",numberColor:"#F66631",labelFontSize:10,numberFontSize:14,radius:"100%",progressBackgroundColor:"rgba(0, 0, 0, 0.04)",progressColor:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"#E5B56E"},{offset:1,color:"#FD4812E5"}],global:!1}}),F.temperature=Rt({el:i.value,value:o.cpuTemperature,name:"CPU\u6E29\u5EA6",labelColor:"rgba(0, 0, 0, 0.80)",numberColor:"#32CFA4",labelFontSize:10,numberFontSize:14,radius:"100%",progressBackgroundColor:"rgba(0, 0, 0, 0.04)",unit:"\xB0C",progressColor:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"#8ADE86"},{offset:1,color:"#4BCAE7"}],global:!1}}))}),v(),r(),(C,D)=>(n(),N(ft,null,{default:T(()=>[t("div",p1,[x(j,{title:$(u)("\u7F51\u7EDC\u63A5\u53E3\u72B6\u6001"),span:24,"more-actions":_.interfaceconfig,padding:"0 10px 8px 10px"},{default:T(()=>[x(_1)]),_:1},8,["title","more-actions"]),x(j,{title:$(u)("\u7CFB\u7EDF\u4FE1\u606F"),padding:"0 10px 8px 10px",span:24,"more-actions":_.system},{default:T(()=>[t("div",v1,[t("div",{class:"gauge",ref_key:"temperature",ref:i},null,512),t("div",{class:"gauge",ref_key:"cpu",ref:d},null,512),t("div",{class:"gauge",ref_key:"men",ref:a},null,512)]),t("div",h1,[t("div",null,[t("span",null,p($(u)("\u8BBE\u5907\u578B\u53F7"))+"\uFF1A",1),t("span",null,p(c.model),1)]),t("div",null,[t("span",null,p($(u)("\u56FA\u4EF6\u7248\u672C"))+"\uFF1A",1),t("span",null,p(c.firmwareVersion),1)]),t("div",null,[t("span",null,p($(u)("\u5185\u6838\u7248\u672C"))+"\uFF1A",1),t("span",null,p(c.kernelVersion),1)]),t("div",null,[t("span",null,p($(u)("\u5DF2\u542F\u52A8"))+"\uFF1A",1),t("span",null,p($(s)(o.uptime)),1)]),t("div",null,[t("span",null,p($(u)("\u7CFB\u7EDF\u65F6\u95F4"))+"\uFF1A",1),t("span",null,p(o.localtime),1)])])]),_:1},8,["title","more-actions"])]),t("div",F1,[x(j,{title:$(u)("\u78C1\u76D8\u4FE1\u606F"),padding:"0 10px 8px 10px",helpLink:"https://www.linkease.com/rd/8myYAEVA/",span:24,"more-actions":_.disk},{default:T(()=>[x(Gt,{title:$(u)("\u7CFB\u7EDF\u6839\u76EE\u5F55"),type:"systemRoot"},null,8,["title"]),x(Gt,{title:$(u)("\u5DF2\u6302\u8F7D\u78C1\u76D8"),smartWarning:!0,type:"notSystemRoot"},null,8,["title"]),x(Gt,{title:$(u)("RAID\u8BBE\u5907"),type:"raid"},null,8,["title"])]),_:1},8,["title","more-actions"])])]),_:1}))}});var f1=I(m1,[["__scopeId","data-v-5b295b38"]]),E1="/luci-static/istorex/setting.svg?v=9ffe8a9b";const C1={class:"app"},g1={class:"setting"},b1=["src"],$1=["src"],y1=P({__name:"app",props:{app:{}},setup(e){const u=e,s=c=>M.ApiStore.getStoreAppIcon(`/static-icon/openwrt-app-meta/app-meta-${c}/logo.png`),o=()=>{switch(K.defaultLanguage){case"zh-cn":case"zh-CN":case"zh-tw":return u.app.title}return u.app.title_en||u.app.title};return(c,_)=>(n(),l("div",C1,[c.app.isWebUrl()?(n(),l("div",{key:0,onClick:_[1]||(_[1]=v=>c.app.openWebUrl())},[t("span",g1,[t("img",{src:E1,alt:"",onClick:_[0]||(_[0]=v=>{v.stopPropagation(),c.app.openApp()})})]),t("div",null,[t("img",{class:"app-icon",src:s(c.app.name),alt:"\u56FE\u6807\u51FA\u8D70\u5566"},null,8,b1),t("span",null,p(o()),1)])])):(n(),l("div",{key:1,onClick:_[2]||(_[2]=v=>c.app.openApp())},[t("div",null,[t("img",{class:"app-icon",src:s(c.app.name),alt:"\u56FE\u6807\u51FA\u8D70\u5566"},null,8,$1),t("span",null,p(o()),1)])]))]))}});var D1=I(y1,[["__scopeId","data-v-30ee4c7e"]]);const k1=e=>(H("data-v-3243c4a0"),e=e(),O(),e),B1={class:"app-store"},w1=k1(()=>t("span",null,"APP Store",-1)),A1=P({__name:"index",setup(e){const{$gettext:u}=K,s=Xe(),o=R(()=>s.localApps.filter(_=>_.name!="istorex"));return(()=>L(this,null,function*(){yield s.getApp()}))(),(_,v)=>(n(),N(ft,{title:$(u)("\u5E94\u7528\u4E2D\u5FC3")},{default:T(()=>[t("div",B1,[t("div",{class:"store",onClick:v[0]||(v[0]=r=>$(Qe).Open())},[t("div",null,[t("div",null,[t("span",null,p($(u)("\u5E94\u7528\u5546\u5E97")),1),w1])])]),(n(!0),l(q,null,J(o.value,r=>(n(),N(D1,{app:r},null,8,["app"]))),256))])]),_:1},8,["title"]))}});var x1=I(A1,[["__scopeId","data-v-3243c4a0"]]),S1="/luci-static/istorex/copy.png?v=7ec874a7";const _t=e=>(H("data-v-43beecef"),e=e(),O(),e),I1={class:"actioner-container"},V1=_t(()=>t("div",{class:"actioner-container_header"},[t("span",null,"\u57DF\u540D\u914D\u7F6E\u5411\u5BFC")],-1)),P1={class:"actioner-container_body"},M1={class:"label-item"},T1=_t(()=>t("span",null,"DDNSTO",-1)),L1=_t(()=>t("p",{class:"label_info"},"DDNSTO \u662F\u4E00\u4E2A\u4E0D\u9700\u8981\u516C\u7F51IP\u4E5F\u53EF\u4EE5\u5728\u5916\u7F51\u8BBF\u95EE\u7684\u7A7F\u900F\u57DF\u540D\u670D\u52A1\uFF0C\u4E00\u4E2A\u6D4F\u89C8\u5668\u641E\u5B9A\u5185\u7F51\u7A7F\u900F\uFF0C\u8FDC\u7A0B\u8BBF\u95EEOpenwrt\u3001\u8FDC\u7A0B\u7EC8\u7AEF\u3001\u8FDC\u7A0B\u684C\u9762...",-1)),z1={class:"label-item"},N1=_t(()=>t("span",null,"\u963F\u91CC\u4E91",-1)),q1=_t(()=>t("p",{class:"label_info"}," \u4E3A\u62E5\u6709\u52A8\u6001IP\u7684\u4E3B\u673A\u914D\u7F6E\u4E00\u4E2A\u56FA\u5B9A\u7684\u53EF\u8BBF\u95EE\u57DF\u540D ",-1)),H1={class:"label-item"},O1=_t(()=>t("span",null,"Dnspod",-1)),U1=_t(()=>t("p",{class:"label_info"}," \u4E3A\u62E5\u6709\u52A8\u6001IP\u7684\u4E3B\u673A\u914D\u7F6E\u4E00\u4E2A\u56FA\u5B9A\u7684\u53EF\u8BBF\u95EE\u57DF\u540D ",-1)),R1={class:"label-item"},G1=_t(()=>t("span",null,"\u82B1\u751F\u58F3",-1)),W1=_t(()=>t("p",{class:"label_info"}," \u4E3A\u62E5\u6709\u52A8\u6001IP\u7684\u4E3B\u673A\u914D\u7F6E\u4E00\u4E2A\u56FA\u5B9A\u7684\u53EF\u8BBF\u95EE\u57DF\u540D ",-1)),Z1=P({__name:"setup-index",props:{onSetup:{type:Function,required:!0},active:{type:String,default:"ddnsto"}},emits:["update:active"],setup(e,{emit:u}){const s=e,o=u,c=()=>{s.onSetup()},_=g(s.active),v=()=>{switch(o("update:active",_.value),_.value){case"ddnsto":s.onSetup("ddnsto");break;case"ali":s.onSetup("ddns-ali");break;case"dnspod":s.onSetup("ddns-dnspod");break;case"oray":s.onSetup("ddns-oray");break}};return(r,d)=>(n(),l("div",I1,[V1,t("div",P1,[t("div",M1,[t("label",null,[z(t("input",{type:"radio","onUpdate:modelValue":d[0]||(d[0]=a=>_.value=a),value:"ddnsto"},null,512),[[lt,_.value]]),T1]),L1]),t("div",z1,[t("label",null,[z(t("input",{type:"radio","onUpdate:modelValue":d[1]||(d[1]=a=>_.value=a),value:"ali"},null,512),[[lt,_.value]]),N1]),q1]),t("div",H1,[t("label",null,[z(t("input",{type:"radio","onUpdate:modelValue":d[2]||(d[2]=a=>_.value=a),value:"dnspod"},null,512),[[lt,_.value]]),O1]),U1]),t("div",R1,[t("label",null,[z(t("input",{type:"radio","onUpdate:modelValue":d[3]||(d[3]=a=>_.value=a),value:"oray"},null,512),[[lt,_.value]]),G1]),W1])]),t("div",{class:"actioner-container_footer"},[t("div",{class:"close",onClick:c},"\u53D6\u6D88"),t("div",{class:"next",onClick:v},"\u4E0B\u4E00\u6B65")])]))}});var j1=I(Z1,[["__scopeId","data-v-43beecef"]]);const zt=e=>(H("data-v-43dd65a2"),e=e(),O(),e),X1={class:"actioner-container"},Q1={class:"actioner-container_body"},Y1=zt(()=>t("svg",{t:"1642063181211",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"5062",width:"128",height:"128","data-v-cda444e0":""},[t("path",{d:"M512 85.333333c235.648 0 426.666667 191.018667 426.666667 426.666667s-191.018667 426.666667-426.666667 426.666667S85.333333 747.648 85.333333 512 276.352 85.333333 512 85.333333z m-74.965333 550.4L346.453333 545.152a42.666667 42.666667 0 1 0-60.330666 60.330667l120.704 120.704a42.666667 42.666667 0 0 0 60.330666 0l301.653334-301.696a42.666667 42.666667 0 1 0-60.288-60.330667l-271.530667 271.488z",fill:"#52C41A","p-id":"5063","data-v-cda444e0":""})],-1)),J1=zt(()=>t("div",{class:"body-title"},"\u6DFB\u52A0\u6210\u529F",-1)),K1=zt(()=>t("p",{class:"body-tips"},"\u8BF7\u7A0D\u7B491\u5206\u949F\u751F\u6548\u540E\u518D\u4F7F\u7528\u3002",-1)),tc={class:"body-info"},ec=zt(()=>t("span",null,"\u8BBF\u95EE\u5730\u5740\uFF1A",-1)),uc=["href"],sc=zt(()=>t("div",null,[t("span",null,"\u53EF\u524D\u5F80"),t("a",{href:"/cgi-bin/luci/admin/services/ddns",target:"_blank"},"\u670D\u52A1-\u52A8\u6001DNS"),t("span",null,"\u67E5\u770B\u66F4\u591A\u8BE6\u60C5")],-1)),nc=P({__name:"setup-ddns-success",props:{target:{type:String,required:!0},onSetup:{type:Function,required:!0}},setup(e){const u=()=>{location.reload()};return(s,o)=>(n(),l("div",X1,[t("div",Q1,[Y1,J1,K1,t("div",tc,[ec,t("a",{href:e.target,target:"_blank",rel:"noopener noreferrer"},p(e.target),9,uc)]),sc]),t("div",{class:"actioner-container_footer"},[t("div",{class:"close",onClick:u},"\u5173\u95ED")])]))}});var oc=I(nc,[["__scopeId","data-v-43dd65a2"]]);const Le=e=>(H("data-v-7790f1da"),e=e(),O(),e),ac={class:"actioner-container"},ic=Le(()=>t("div",{class:"actioner-container_header"},[t("span",null,"\u57DF\u540D\u914D\u7F6E\u5411\u5BFC")],-1)),lc=Le(()=>t("div",{class:"actioner-container_body ddnsto-login"},[t("iframe",{src:"https://www.kooldns.cn/bind/#/auth?send=1&source=openwrt&callback=*"})],-1)),cc=P({__name:"setup-ddnsto-login",props:{onSetup:{type:Function,required:!0},onDdnstoConfig:{type:Function,required:!0}},setup(e){const u=e,s=()=>{u.onSetup()},o=c=>{if(c.data.auth=="ddnsto"){const _=c.data.sign,v=c.data.token;_&&v&&(removeEventListener("message",o),u.onDdnstoConfig(_,v),u.onSetup("ddnsto-run"))}};return nt(()=>{window.addEventListener("message",o)}),Bt(()=>{removeEventListener("message",o)}),(c,_)=>(n(),l("div",ac,[ic,lc,t("div",{class:"actioner-container_footer"},[t("div",{class:"close",onClick:s},"\u53D6\u6D88")])]))}});var dc=I(cc,[["__scopeId","data-v-7790f1da"]]);const rc=e=>(H("data-v-5baf4b05"),e=e(),O(),e),_c={class:"actioner-container"},pc=rc(()=>t("div",{class:"actioner-container_header"},[t("span",null,"\u57DF\u540D\u914D\u7F6E\u5411\u5BFC")],-1)),vc={class:"actioner-container_body ddnsto-bind"},hc=["src"],Fc=P({__name:"setup-ddnsto-bind",props:{onSetup:{type:Function,required:!0},config:{type:Object,required:!0},domain:{type:String,required:!0}},emits:["update:domain"],setup(e,{emit:u}){const s=e,o=u,c=R(()=>{const{domain:r,token:d,sign:a,routerId:i,netaddr:F}=s.config,C=encodeURIComponent(r),D=encodeURIComponent(F);return`https://www.kooldns.cn/bind/#/domain?domain=${C}&sign=${a}&token=${d}&routerId=${i}&netaddr=${D}`}),_=r=>{if(r.data){const{auth:d,url:a}=r.data;d==="ddnsto"&&a&&v(a)}},v=r=>L(this,null,function*(){var d;try{const a=yield M.Guide.DdnstoAddress.POST({address:r});a!=null&&a.data&&(((d=a==null?void 0:a.data)==null?void 0:d.success)||0)==0&&(o("update:domain",r),s.onSetup("ddnsto-save"))}catch(a){}});return nt(()=>{window.addEventListener("message",_)}),Bt(()=>{removeEventListener("message",_)}),(r,d)=>(n(),l("div",_c,[pc,t("div",vc,[t("iframe",{src:c.value},null,8,hc)])]))}});var mc=I(Fc,[["__scopeId","data-v-5baf4b05"]]);const Nt=e=>(H("data-v-02a6c9d8"),e=e(),O(),e),fc={class:"actioner-container"},Ec={class:"actioner-container_body"},Cc=Nt(()=>t("svg",{t:"1642063181211",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"5062",width:"128",height:"128","data-v-cda444e0":""},[t("path",{d:"M512 85.333333c235.648 0 426.666667 191.018667 426.666667 426.666667s-191.018667 426.666667-426.666667 426.666667S85.333333 747.648 85.333333 512 276.352 85.333333 512 85.333333z m-74.965333 550.4L346.453333 545.152a42.666667 42.666667 0 1 0-60.330666 60.330667l120.704 120.704a42.666667 42.666667 0 0 0 60.330666 0l301.653334-301.696a42.666667 42.666667 0 1 0-60.288-60.330667l-271.530667 271.488z",fill:"#52C41A","p-id":"5063","data-v-cda444e0":""})],-1)),gc=Nt(()=>t("div",{class:"body-title"},"\u6DFB\u52A0\u6210\u529F",-1)),bc=Nt(()=>t("p",{class:"body-tips"},"\u8BF7\u7A0D\u7B491\u5206\u949F\u751F\u6548\u540E\u518D\u4F7F\u7528\u3002",-1)),$c={class:"body-info"},yc=Nt(()=>t("span",null,"\u8BBF\u95EE\u5730\u5740\uFF1A",-1)),Dc=["href"],kc=Nt(()=>t("div",null,[t("span",null,"\u53EF\u524D\u5F80"),t("a",{href:"https://www.ddnsto.com/app/#/devices",target:"_blank"},"DDNSTO\u63A7\u5236\u53F0"),t("span",null,"\u67E5\u770B\u66F4\u591A\u8BE6\u60C5")],-1)),Bc=P({__name:"setup-ddnsto-save",props:{onSetup:{type:Function,required:!0},target:{type:String,required:!0}},setup(e){const u=()=>{location.reload()};return(s,o)=>(n(),l("div",fc,[t("div",Ec,[Cc,gc,bc,t("div",$c,[yc,t("a",{href:e.target,target:"_blank",rel:"noopener noreferrer"},p(e.target),9,Dc)]),kc]),t("div",{class:"actioner-container_footer"},[t("div",{class:"close",onClick:u},"\u5173\u95ED")])]))}});var wc=I(Bc,[["__scopeId","data-v-02a6c9d8"]]);const Ac=e=>(H("data-v-4f87c1d1"),e=e(),O(),e),xc={class:"actioner-container"},Sc=Ac(()=>t("div",{class:"actioner-container_header"},[t("span",null,"\u57DF\u540D\u914D\u7F6E\u5411\u5BFC")],-1)),Ic={class:"actioner-container_body"},Vc={class:"actioner-container_footer"},Pc=P({__name:"setup-ddnsto-install",props:{onSetup:{type:Function,required:!0}},setup(e){const u=e,s=()=>{u.onSetup()},o=()=>L(this,null,function*(){if(v.value)return;v.value=!0;const d=w.Loading("\u5B89\u88C5\u4E2D...");try{if(yield rt.installApp("app-meta-ddnsto",30)){u.onSetup("ddnsto-login");return}else c.value="\u5B89\u88C5\u5931\u8D25"}catch(a){c.value=a}finally{d.Close()}v.value=!1}),c=g("\u6B63\u5728\u68C0\u6D4B\u4E2D..."),_=g(!1),v=g(!1);return(()=>L(this,null,function*(){try{const d=yield M.App.Check.POST({name:"ddnsto"});if(d!=null&&d.data){const{result:a,error:i}=d.data;if(i){c.value=i;return}if(a){if(a.status=="installed"){u.onSetup("ddnsto-login");return}a.status=="uninstalled"&&(c.value="\u9700\u8981\u5B89\u88C5DDNSTO\u63D2\u4EF6\uFF0C\u70B9\u51FB\u201C\u786E\u5B9A\u201D\u5F00\u59CB\u5B89\u88C5")}}}catch(d){c.value=d}_.value=!0}))(),(d,a)=>(n(),l("div",xc,[Sc,t("div",Ic,[t("span",null,p(c.value),1)]),t("div",Vc,[_.value?(n(),l(q,{key:0},[t("div",{class:"close",onClick:s},"\u53D6\u6D88"),t("div",{class:"next",onClick:o},"\u786E\u5B9A")],64)):b("",!0)])]))}});var Mc=I(Pc,[["__scopeId","data-v-4f87c1d1"]]);const Tc=e=>(H("data-v-06c9d91d"),e=e(),O(),e),Lc={class:"actioner-container"},zc=Tc(()=>t("div",{class:"actioner-container_header"},[t("span",null,"\u57DF\u540D\u914D\u7F6E\u5411\u5BFC")],-1)),Nc={class:"actioner-container_body"},qc=P({__name:"setup-ddnsto-run",props:{onSetup:{type:Function,required:!0},token:{type:String,required:!0},onDdnstoLocalConfig:{type:Function,required:!0}},setup(e){const u=e,s=g("\u6B63\u5728\u68C0\u6D4B\u63D2\u4EF6\u662F\u5426\u5DF2\u542F\u52A8...");(d=>L(this,null,function*(){var a;try{const i=yield M.Guide.Ddnsto.POST({token:u.token});i!=null&&i.data&&(i.data.error&&(s.value=i.data.error),(((a=i==null?void 0:i.data)==null?void 0:a.success)||0)==0&&_())}catch(i){s.value=i}}))(u.token);const c=g(),_=()=>{const d=()=>L(this,null,function*(){if((yield v())===!0){r();return}c.value=window.setTimeout(d,2e3)});d()},v=()=>L(this,null,function*(){try{const d=yield M.App.Check.POST({name:"ddnsto",checkRunning:!0});if(d!=null&&d.data){d.data.error&&(s.value=d.data.error);const a=d.data.result;if((a==null?void 0:a.status)=="running")return!0}}catch(d){s.value=d}return!1});Bt(()=>{c.value&&clearInterval(c.value)});const r=()=>L(this,null,function*(){var d;try{const a=yield M.Guide.DdntoConfig.GET();if(a!=null&&a.data&&(a.data.error&&(s.value=a.data.error),(((d=a==null?void 0:a.data)==null?void 0:d.success)||0)==0&&a.data.result)){const i=a.data.result;u.onDdnstoLocalConfig(i.netAddr,i.deviceId),u.onSetup("ddnsto-bind")}}catch(a){s.value=a}});return(d,a)=>(n(),l("div",Lc,[zc,t("div",Nc,p(s.value),1)]))}});var Hc=I(qc,[["__scopeId","data-v-06c9d91d"]]);const Oc={class:"action-main"},Uc=P({__name:"index",props:{Close:{type:Function,required:!0},url:{type:String,required:!0}},setup(e){const u=e,s=g("ddnsto-install"),o=d=>{d!=null?s.value=d:c()},c=()=>{u.Close&&u.Close()},_=mt({sign:"",token:"",domain:u.url,netaddr:"",routerId:""}),v=(d,a)=>{_.sign=d,_.token=a},r=(d,a)=>{_.netaddr=d,_.routerId=a};return(d,a)=>(n(),N(at,{type:1},{default:T(()=>[t("div",Oc,[s.value=="ddnsto-install"?(n(),N(Mc,{key:0,onSetup:o})):s.value=="ddnsto-login"?(n(),N(dc,{key:1,onSetup:o,onDdnstoConfig:v})):s.value=="ddnsto-run"?(n(),N(Hc,{key:2,onSetup:o,token:_.token,onDdnstoLocalConfig:r},null,8,["token"])):s.value=="ddnsto-bind"?(n(),N(mc,{key:3,onSetup:o,config:{token:_.token,sign:_.sign,domain:_.domain,netaddr:_.netaddr,routerId:_.routerId},domain:_.domain,"onUpdate:domain":a[0]||(a[0]=i=>_.domain=i)},null,8,["config","domain"])):s.value=="ddnsto-save"?(n(),N(wc,{key:4,onSetup:o,target:_.domain},null,8,["target"])):b("",!0)])]),_:1}))}});var Rc=I(Uc,[["__scopeId","data-v-2b767e18"]]);const Gc=e=>{const u=document.createElement("div");document.body.appendChild(u);const s=ot(Rc,ht(vt({},e),{Close:()=>{o()}}));s.mount(u);const o=()=>{s.unmount(),u.remove()};return{Close:o}};const Wc={class:"action"},Zc={class:"action-header"},jc=["innerHTML"],Xc={class:"action-footer"},Qc=P({__name:"index",props:{Close:Function,next:{type:Function},clear:{type:Function},continuer:{type:Function},nextTitle:{type:String,default:"\u786E\u5B9A"},clearTitle:{type:String,default:"\u8FD4\u56DE"},continuerTitle:{type:String,default:"\u7EE7\u7EED\u4FDD\u5B58"},title:{type:String,default:"\u63D0\u793A"},content:{type:String}},setup(e){const u=e,s=()=>{u.next&&u.next(),u.Close&&u.Close()},o=()=>{u.clear&&u.clear(),u.Close&&u.Close()},c=()=>{u.continuer&&u.continuer(),u.Close&&u.Close()};return(_,v)=>(n(),N(at,{Close:e.Close,type:1},{default:T(()=>[t("div",Wc,[t("div",Zc,p(e.title),1),t("div",{class:"action-body",innerHTML:e.content},null,8,jc),t("div",Xc,[e.clear?(n(),l("div",{key:0,class:"clear",onClick:o},p(e.clearTitle),1)):b("",!0),t("div",{class:"next",onClick:s},p(e.nextTitle),1),e.continuer?(n(),l("div",{key:1,class:"next",onClick:c},p(e.continuerTitle),1)):b("",!0)])])]),_:1},8,["Close"]))}});var Yc=I(Qc,[["__scopeId","data-v-4283f74c"]]);const be=e=>{const u=document.createElement("div");document.body.appendChild(u);const s=ot(Yc,ht(vt({},e),{Close:()=>{o()}}));s.mount(u);const o=()=>{s.unmount(),u.remove()};return{Close:o}};const X=e=>(H("data-v-b1e12544"),e=e(),O(),e),Jc={class:"actioner-container"},Kc=X(()=>t("div",{class:"actioner-container_header"},[t("span",null,"\u57DF\u540D\u914D\u7F6E\u5411\u5BFC")],-1)),td={key:0,class:"title_info"},ed=X(()=>t("p",null,"\u963F\u91CC\u4E91",-1)),ud=X(()=>t("span",null," \u4E3A\u62E5\u6709\u52A8\u6001IP\u7684\u4E3B\u673A\u914D\u7F6E\u4E00\u4E2A\u56FA\u5B9A\u7684\u53EF\u8BBF\u95EE\u57DF\u540D ",-1)),sd=X(()=>t("a",{href:"https://doc.linkease.com/zh/guide/istoreos/basic/domain.html#%E9%98%BF%E9%87%8C%E4%BA%91",target:"_blank"},"\u67E5\u770B\u6559\u7A0B>>",-1)),nd=[ed,ud,sd],od={key:1,class:"title_info"},ad=X(()=>t("p",null,"dnspod",-1)),id=X(()=>t("span",null," \u4E3A\u62E5\u6709\u52A8\u6001IP\u7684\u4E3B\u673A\u914D\u7F6E\u4E00\u4E2A\u56FA\u5B9A\u7684\u53EF\u8BBF\u95EE\u57DF\u540D ",-1)),ld=X(()=>t("a",{href:"https://doc.linkease.com/zh/guide/istoreos/basic/domain.html#dnspod",target:"_blank"},"\u67E5\u770B\u6559\u7A0B>>",-1)),cd=[ad,id,ld],dd={key:2,class:"title_info"},rd=X(()=>t("p",null,"\u82B1\u751F\u58F3",-1)),_d=X(()=>t("span",null," \u4E3A\u62E5\u6709\u52A8\u6001IP\u7684\u4E3B\u673A\u914D\u7F6E\u4E00\u4E2A\u56FA\u5B9A\u7684\u53EF\u8BBF\u95EE\u57DF\u540D ",-1)),pd=X(()=>t("a",{href:"https://doc.linkease.com/zh/guide/istoreos/basic/domain.html#%E8%8A%B1%E7%94%9F%E5%A3%B3",target:"_blank"},"\u67E5\u770B\u6559\u7A0B>>",-1)),vd=[rd,_d,pd],hd={class:"label-item"},Fd=X(()=>t("div",{class:"label-item_key"},[t("span",null,"IP\u5730\u5740\u7248\u672C\uFF1A")],-1)),md={class:"label-item_value"},fd=X(()=>t("option",{value:"ipv4"},"IPv4\u5730\u5740",-1)),Ed=X(()=>t("option",{value:"ipv6"},"IPv6\u5730\u5740",-1)),Cd=[fd,Ed],gd=Ht('<div class="label_tips" data-v-b1e12544><svg width="14px" height="14px" viewBox="0 0 14 14" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" data-v-b1e12544><g id="icon_alert" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" data-v-b1e12544><g id="Icon/Warning" data-v-b1e12544><rect id="\u77E9\u5F62" fill="#000000" fill-rule="nonzero" opacity="0" x="0" y="0" width="14" height="14" data-v-b1e12544></rect><path d="M7,0.875 C3.61757813,0.875 0.875,3.61757813 0.875,7 C0.875,10.3824219 3.61757813,13.125 7,13.125 C10.3824219,13.125 13.125,10.3824219 13.125,7 C13.125,3.61757813 10.3824219,0.875 7,0.875 Z M6.5625,4.046875 C6.5625,3.98671875 6.61171875,3.9375 6.671875,3.9375 L7.328125,3.9375 C7.38828125,3.9375 7.4375,3.98671875 7.4375,4.046875 L7.4375,7.765625 C7.4375,7.82578125 7.38828125,7.875 7.328125,7.875 L6.671875,7.875 C6.61171875,7.875 6.5625,7.82578125 6.5625,7.765625 L6.5625,4.046875 Z M7,10.0625 C6.63769531,10.0625 6.34375,9.76855469 6.34375,9.40625 C6.34375,9.04394531 6.63769531,8.75 7,8.75 C7.36230469,8.75 7.65625,9.04394531 7.65625,9.40625 C7.65625,9.76855469 7.36230469,10.0625 7,10.0625 Z" id="\u5F62\u72B6" fill="#FAAD14" data-v-b1e12544></path></g></g></svg><span class="info" data-v-b1e12544>\u8BBE\u5B9A\u54EA\u4E00\u4E2A IP \u5730\u5740\uFF08IPv4 \u6216 IPv6\uFF09\u4F1A\u88AB\u53D1\u9001\u7ED9 DDNS \u63D0\u4F9B\u5546</span></div>',1),bd={class:"label-item"},$d=X(()=>t("div",{class:"label-item_key"},[t("span",null,"\u57DF\u540D\uFF1A")],-1)),yd={class:"label-item_value"},Dd={class:"label-item"},kd=X(()=>t("div",{class:"label-item_key"},[t("span",null,"\u7528\u6237\u540D\uFF1A")],-1)),Bd={class:"label-item_value"},wd={class:"label-item"},Ad=X(()=>t("div",{class:"label-item_key"},[t("span",null,"\u5BC6\u7801\uFF1A")],-1)),xd={class:"label-item_value"},Sd={class:"actioner-container_footer"},Id=["disabled"],Vd=P({__name:"setup-ddns",props:{name:{type:String,default:"ali"},onSetup:{type:Function,required:!0},target:{type:String,required:!0}},emits:["update:target"],setup(e,{emit:u}){const s=e,o=u,c=g("ipv4"),_=g(s.name),v=g(""),r=g(""),d=g(""),a=g(!1),i=()=>{s.onSetup("index")},F=()=>{a.value=!0;const f=w.Loading("\u68C0\u6D4B\u4E2D...");M.Network.CheckPublickNet.POST({ipVersion:c.value}).then(E=>{var h,B;if(E!=null&&E.data){if((h=E==null?void 0:E.data)!=null&&h.error){w.Warning(E==null?void 0:E.data.error);return}if((((B=E==null?void 0:E.data)==null?void 0:B.success)||0)==0){const S=E.data.result;S&&S.address?m():C();return}}throw"\u672A\u77E5\u9519\u8BEF"}).catch(E=>{w.Error(E)}).finally(()=>{f.Close(),a.value=!1})},C=()=>{be({title:"\u6E29\u99A8\u63D0\u793A",nextTitle:"\u4F7F\u7528DDNSTO",continuerTitle:"\u7EE7\u7EED\u4FDD\u5B58",content:"\u68C0\u6D4B\u5230\u60A8\u7684wan\u53E3\u6CA1\u6709\u516C\u7F51IP\u6216\u8005IPv6\u5730\u5740\uFF0C\u53EF\u4EE5\u4F7F\u7528DDNSTO\u914D\u7F6E\u8FDC\u7A0B\u57DF\u540D\u8BBF\u95EE",next(){D()},continuer(){m()},clear(){}})},D=()=>{s.onSetup("ddnsto")},m=()=>{a.value=!0;const f=w.Loading("\u914D\u7F6E\u4E2D...");M.Guide.PostDdns.POST({ipVersion:c.value,serviceName:_.value,domain:v.value,userName:r.value,password:d.value}).then(E=>{if(E!=null&&E.data){const{error:h,scope:B,success:S}=E.data;if(h=="-100"&&B=="guide.ddns"){be({title:"\u6E29\u99A8\u63D0\u793A",content:"\u68C0\u6D4B\u5230\u4F60\u6709\u672A\u4FDD\u5B58\u7684\u914D\u7F6E\uFF0C\u53EF\u524D\u5F80\u9875\u9762\u53F3\u4E0A\u89D2\u70B9\u51FB\u67E5\u770B\uFF0C\u4FDD\u5B58\u5E76\u5E94\u7528\u6216\u8005\u6062\u590D\u914D\u7F6E\u540E\u7EE7\u7EED",next(){}});return}if(h){w.Warning(h);return}if((S||0)==0){o("update:target",v.value),s.onSetup("ddns-success");return}}throw"\u672A\u77E5\u9519\u8BEF"}).catch(E=>{w.Error(E)}).finally(()=>{f.Close(),a.value=!1})};return(f,E)=>(n(),l("div",Jc,[t("form",{class:"actioner-dns",onSubmit:ct(F,["prevent"])},[Kc,t("div",{class:Xt(["actioner-container_body",e.name])},[e.name=="ali"?(n(),l("div",td,nd)):e.name=="dnspod"?(n(),l("div",od,cd)):e.name=="oray"?(n(),l("div",dd,vd)):b("",!0),t("div",hd,[Fd,t("div",md,[z(t("select",{name:"",id:"","onUpdate:modelValue":E[0]||(E[0]=h=>c.value=h)},Cd,512),[[Et,c.value]])]),gd]),t("div",bd,[$d,t("div",yd,[z(t("input",{type:"text",placeholder:"myhost.example.com","onUpdate:modelValue":E[1]||(E[1]=h=>v.value=h),required:""},null,512),[[Y,v.value,void 0,{trim:!0}]])])]),t("div",Dd,[kd,t("div",Bd,[z(t("input",{type:"text","onUpdate:modelValue":E[2]||(E[2]=h=>r.value=h),placeholder:"\u8BF7\u8F93\u5165\u7528\u6237\u540D",required:""},null,512),[[Y,r.value,void 0,{trim:!0}]])])]),t("div",wd,[Ad,t("div",xd,[z(t("input",{type:"password","onUpdate:modelValue":E[3]||(E[3]=h=>d.value=h),placeholder:"\u8BF7\u8F93\u5165\u5BC6\u7801",required:""},null,512),[[Y,d.value,void 0,{trim:!0}]])])])],2),t("div",Sd,[t("div",{class:"close",onClick:i,type:"button"},"\u8FD4\u56DE"),t("button",{class:"next save",type:"submit",disabled:a.value}," \u4FDD\u5B58 ",8,Id)])],32)]))}});var Wt=I(Vd,[["__scopeId","data-v-b1e12544"]]);const Pd={class:"action-main"},Md=P({__name:"index",props:{Close:{type:Function,required:!0},url:{type:String,required:!0}},setup(e){const u=e,s=g(""),o=g("index"),c=d=>{if(d!=null){if(d=="ddnsto"){_();return}o.value=d}else v()},_=()=>{v(),Gc({url:u.url})},v=()=>{u.Close&&u.Close()},r=g("ddnsto");return(d,a)=>(n(),N(at,{Close:e.Close,type:1},{default:T(()=>[t("div",Pd,[o.value=="index"?(n(),N(j1,{key:0,onSetup:c,active:r.value,"onUpdate:active":a[0]||(a[0]=i=>r.value=i)},null,8,["active"])):o.value=="ddns-ali"?(n(),N(Wt,{key:1,onSetup:c,target:s.value,"onUpdate:target":a[1]||(a[1]=i=>s.value=i),name:"ali"},null,8,["target"])):o.value=="ddns-dnspod"?(n(),N(Wt,{key:2,onSetup:c,target:s.value,"onUpdate:target":a[2]||(a[2]=i=>s.value=i),name:"dnspod"},null,8,["target"])):o.value=="ddns-oray"?(n(),N(Wt,{key:3,onSetup:c,target:s.value,"onUpdate:target":a[3]||(a[3]=i=>s.value=i),name:"oray"},null,8,["target"])):o.value=="ddns-success"?(n(),N(oc,{key:4,onSetup:c,target:s.value},null,8,["target"])):b("",!0)])]),_:1},8,["Close"]))}});var Td=I(Md,[["__scopeId","data-v-5d97cabd"]]);const Zt=e=>{const u=document.createElement("div");document.body.appendChild(u);const s=ot(Td,ht(vt({},e),{Close:()=>{o()}}));s.mount(u);const o=()=>{s.unmount(),u.remove()};return{Close:o}};var Ld=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var u=document.activeElement,s=[],o=0;o<e.rangeCount;o++)s.push(e.getRangeAt(o));switch(u.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":u.blur();break;default:u=null;break}return e.removeAllRanges(),function(){e.type==="Caret"&&e.removeAllRanges(),e.rangeCount||s.forEach(function(c){e.addRange(c)}),u&&u.focus()}},zd=Ld,$e={"text/plain":"Text","text/html":"Url",default:"Text"},Nd="Copy to clipboard: #{key}, Enter";function qd(e){var u=(/mac os x/i.test(navigator.userAgent)?"\u2318":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,u)}function Hd(e,u){var s,o,c,_,v,r,d=!1;u||(u={}),s=u.debug||!1;try{c=zd(),_=document.createRange(),v=document.getSelection(),r=document.createElement("span"),r.textContent=e,r.ariaHidden="true",r.style.all="unset",r.style.position="fixed",r.style.top=0,r.style.clip="rect(0, 0, 0, 0)",r.style.whiteSpace="pre",r.style.webkitUserSelect="text",r.style.MozUserSelect="text",r.style.msUserSelect="text",r.style.userSelect="text",r.addEventListener("copy",function(i){if(i.stopPropagation(),u.format)if(i.preventDefault(),typeof i.clipboardData=="undefined"){s&&console.warn("unable to use e.clipboardData"),s&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var F=$e[u.format]||$e.default;window.clipboardData.setData(F,e)}else i.clipboardData.clearData(),i.clipboardData.setData(u.format,e);u.onCopy&&(i.preventDefault(),u.onCopy(i.clipboardData))}),document.body.appendChild(r),_.selectNodeContents(r),v.addRange(_);var a=document.execCommand("copy");if(!a)throw new Error("copy command was unsuccessful");d=!0}catch(i){s&&console.error("unable to copy using execCommand: ",i),s&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(u.format||"text",e),u.onCopy&&u.onCopy(window.clipboardData),d=!0}catch(F){s&&console.error("unable to copy using clipboardData: ",F),s&&console.error("falling back to prompt"),o=qd("message"in u?u.message:Nd),window.prompt(o,e)}}finally{v&&(typeof v.removeRange=="function"?v.removeRange(_):v.removeAllRanges()),r&&document.body.removeChild(r),c()}return d}var Od=Hd;const Yt=e=>(H("data-v-a6a4bab0"),e=e(),O(),e),Ud={class:"button",style:{"margin-bottom":"8px"}},Rd={href:"https://www.kooldns.cn/app/#/devices",target:"_blank"},Gd={class:"row"},Wd={class:"text"},Zd=Yt(()=>t("span",null,"DDNSTO\uFF1A",-1)),jd={key:0},Xd=["href","title"],Qd={key:0,class:"row"},Yd={class:"text"},Jd=Yt(()=>t("span",null,"muddns_ipv4\uFF1A",-1)),Kd={key:0,class:"configure"},t5=["href"],e5={key:0,class:"button"},u5={key:1,class:"row"},s5={class:"text"},n5=Yt(()=>t("span",null,"muddns_ipv6\uFF1A",-1)),o5={key:0,class:"configure"},a5=["href"],i5={key:0,class:"button"},l5=P({__name:"ddns",setup(e){const{$gettext:u}=K,s=g({});let o=!1,c;const _=a=>{Od(a),w.Message("\u590D\u5236\u6210\u529F")};nt(()=>{o=!0,c=window.setTimeout(d,1100)}),Bt(()=>{c!==void 0&&window.clearTimeout(c),o=!1});const v=R(()=>{const a=s.value.ipv4Domain;return!a||a=="Stopped"||a=="Disabled"?a:`http://${a}`}),r=R(()=>{const a=s.value.ipv6Domain;return!a||a=="Stopped"||a=="Disabled"?a:`http://${a}`}),d=function(){!o||M.Guide.Ddns.GET().then(a=>{var i;a!=null&&a.data&&(((i=a==null?void 0:a.data)==null?void 0:i.success)||0)==0&&a.data.result&&(s.value=a.data.result)}).then(()=>{})};return(a,i)=>(n(),N(j,{title:$(u)("\u8FDC\u7A0B\u57DF\u540D"),padding:"0 10px 8px 10px",helpLink:"https://www.linkease.com/rd/3yFiX5-X/",span:24,action:{text:$(u)("\u5FEB\u901F\u914D\u7F6E"),onClick:()=>{$(Zt)({url:s.value.ddnstoDomain})}}},{default:T(()=>{var F,C,D,m,f;return[t("div",Ud,[t("a",Rd,p($(u)("\u524D\u5F80\u63A7\u5236\u53F0")),1)]),t("div",Gd,[t("div",Wd,[Zd,(F=s.value)!=null&&F.ddnstoDomain?(n(),l("span",jd,[t("a",{class:"configure",href:(C=s.value)==null?void 0:C.ddnstoDomain,target:"_blank",rel:"noopener noreferrer",title:(D=s.value)==null?void 0:D.ddnstoDomain},p((m=s.value)==null?void 0:m.ddnstoDomain),9,Xd),t("img",{src:S1,onClick:i[0]||(i[0]=E=>{var h;return _((h=s.value)==null?void 0:h.ddnstoDomain)})})])):(n(),l("span",{key:1,onClick:i[1]||(i[1]=E=>$(Zt)({url:s.value.ddnstoDomain})),style:{color:"#06f",cursor:"pointer"},class:"configure"},p($(u)("\u7ACB\u5373\u914D\u7F6E\uFF0C\u83B7\u5F97\u514D\u8D39\u5916\u7F51\u57DF\u540D")),1))]),(f=s.value)!=null&&f.ddnstoDomain?(n(),l("span",{key:0,onClick:i[2]||(i[2]=E=>$(Zt)({url:s.value.ddnstoDomain})),style:{color:"#06f",cursor:"pointer","font-size":"12px"}},"\u8BBF\u95EE\u5931\u8D25\uFF1F\u91CD\u65B0\u914D\u7F6E")):b("",!0)]),v.value?(n(),l("div",Qd,[t("div",Yd,[Jd,v.value==="Stopped"||v.value==="Disabled"?(n(),l("span",Kd,p(v.value),1)):(n(),l("a",{key:1,target:"_blank",rel:"noopener noreferrer",href:v.value,class:"configure"},p(v.value),9,t5))]),v.value?(n(),l("div",e5,[t("span",{onClick:i[3]||(i[3]=E=>$(it)({title:"muddns_ipv4",src:"/cgi-bin/luci/admin/services/ddns"}))},p($(u)("\u7F16\u8F91")),1)])):b("",!0)])):b("",!0),r.value?(n(),l("div",u5,[t("div",s5,[n5,r.value==="Stopped"||r.value==="Disabled"?(n(),l("span",o5,p(r.value),1)):(n(),l("a",{key:1,target:"_blank",rel:"noopener noreferrer",href:r.value,class:"configure"},p(r.value),9,a5))]),r.value?(n(),l("div",i5,[t("span",{onClick:i[4]||(i[4]=E=>$(it)({title:"muddns_ipv4",src:"/cgi-bin/luci/admin/services/ddns"}))},p($(u)("\u7F16\u8F91")),1)])):b("",!0)])):b("",!0)]}),_:1},8,["title","action"]))}});var c5=I(l5,[["__scopeId","data-v-a6a4bab0"]]);const d5={},r5={width:"128px",height:"128px",viewBox:"0 0 128 128",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},_5=t("g",{id:"icon_yellow",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},[t("g",{id:"Icon/Warning"},[t("rect",{id:"\u77E9\u5F62",fill:"#000000","fill-rule":"nonzero",opacity:"0",x:"0",y:"0",width:"128",height:"128"}),t("path",{d:"M64,8 C33.075,8 8,33.075 8,64 C8,94.925 33.075,120 64,120 C94.925,120 120,94.925 120,64 C120,33.075 94.925,8 64,8 Z M60,37 C60,36.45 60.45,36 61,36 L67,36 C67.55,36 68,36.45 68,37 L68,71 C68,71.55 67.55,72 67,72 L61,72 C60.45,72 60,71.55 60,71 L60,37 Z M64,92 C60.6875,92 58,89.3125 58,86 C58,82.6875 60.6875,80 64,80 C67.3125,80 70,82.6875 70,86 C70,89.3125 67.3125,92 64,92 Z",id:"\u5F62\u72B6",fill:"#FAAD14"})])],-1),p5=[_5];function v5(e,u){return n(),l("svg",r5,p5)}var h5=I(d5,[["render",v5]]);const Q=e=>(H("data-v-0de0bd77"),e=e(),O(),e),F5={key:0,class:"action"},m5=Q(()=>t("h2",{class:"title"},"Docker\u8FC1\u79FB\u5411\u5BFC",-1)),f5=Q(()=>t("p",{class:"desc"}," \u5F53\u7CFB\u7EDF\u6839\u76EE\u5F55\u7A7A\u95F4\u4E0D\u8DB3\u65F6\uFF0C\u53EF\u5C06docker\u6839\u76EE\u5F55\u8FC1\u79FB\u5230\u5916\u7F6E\u786C\u76D8\uFF0C\u4EE5\u4FDD\u8BC1\u7CFB\u7EDF\u7684\u6B63\u5E38\u8FD0\u884C: ",-1)),E5={key:1,class:"action"},C5=Q(()=>t("h2",{class:"title"},"Docker\u8FC1\u79FB\u5411\u5BFC",-1)),g5=Q(()=>t("p",{class:"desc"}," \u5F53\u7CFB\u7EDF\u6839\u76EE\u5F55\u7A7A\u95F4\u4E0D\u8DB3\u65F6\uFF0C\u53EF\u5C06docker\u6839\u76EE\u5F55\u8FC1\u79FB\u5230\u5916\u7F6E\u786C\u76D8\uFF0C\u4EE5\u4FDD\u8BC1\u7CFB\u7EDF\u7684\u6B63\u5E38\u8FD0\u884C: ",-1)),b5={class:"roots"},$5=Q(()=>t("span",{class:"roots_tit"},"Docker\u6839\u76EE\u5F55\uFF1A",-1)),y5={class:"root"},D5={class:"move"},k5=Q(()=>t("span",{class:"roots_tit"},"\u8FC1\u79FB\u5230\uFF1A",-1)),B5={key:0},w5={class:"select-editable"},A5=Q(()=>t("option",{selected:"",value:null},"\u8BF7\u9009\u62E9\u8FC1\u79FB\u5730\u5740",-1)),x5=["value"],S5=Q(()=>t("option",{value:"useInput"},"- -\u81EA\u5B9A\u4E49- -",-1)),I5={key:1,class:"tips"},V5={class:"tips_content"},P5=Q(()=>t("span",{class:"tip"},"\u68C0\u6D4B\u5230\u60A8\u8FD8\u6CA1\u6709\u6302\u8F7D\u5916\u7F6E\u786C\u76D8\u6216\u5206\u533A\u5C0F\u4E8E8GB\uFF0C\u9700\u8981\u60A8\u63A5\u4E0A\u786C\u76D8\u5E76\u683C\u5F0F\u5316\u6216\u624B\u52A8\u6302\u8F7D\u786C\u76D8\u540E\uFF0C\u518D\u6267\u884CDocker\u8FC1\u79FB\u5411\u5BFC\uFF0C\u5C06Docker\u8FC1\u79FB\u5230\u76EE\u6807\u786C\u76D8\u3002",-1)),M5={key:0,class:"btns"},T5={key:1,class:"btns"},L5={key:2,class:"action docker_success"},z5=Q(()=>t("h2",{class:"title"},"Docker\u8FC1\u79FB\u5411\u5BFC",-1)),N5={class:"finished"},q5=Q(()=>t("p",{class:"successed"},"\u8FC1\u79FB\u6210\u529F\uFF01",-1)),H5={key:3,class:"action docker_download"},O5=Q(()=>t("h2",{class:"title"},"Docker\u8FC1\u79FB\u5411\u5BFC",-1)),U5={class:"finished"},R5=Q(()=>t("p",{class:"successed"},"\u8BE5\u76EE\u6807\u8DEF\u5F84\u4E0D\u4E3A\u7A7A",-1)),G5={class:"docker_moves"},W5={class:"moves change"},Z5=Q(()=>t("label",{for:"move"},"\u66F4\u6362\u76EE\u5F55\uFF08\u4E0D\u8986\u76D6\u76EE\u6807\u8DEF\u5F84\uFF0C\u4EC5\u5C06docker\u76EE\u5F55\u4FEE\u6539\u4E3A\u76EE\u6807\u8DEF\u5F84\uFF09",-1)),j5={class:"moves"},X5=Q(()=>t("label",{for:"cover"},"\u8986\u76D6\u8FC1\u79FB\uFF08\u8986\u76D6\u76EE\u6807\u8DEF\u5F84\uFF0C\u7EE7\u7EED\u8FC1\u79FB\u4F1A\u6E05\u7A7A\u8BE5\u76EE\u6807\u8DEF\u5F84\u4E0B\u7684\u6587\u4EF6\uFF09",-1)),Q5={class:"btns"},Y5=P({__name:"index",props:{rootPath:{type:String,required:!0},Close:Function},setup(e){const u=g(),s=g(),o=g(0),c=g("null"),_=g(""),v=g(),r=g(!1),d=g(""),a=e;(()=>{M.Nas.Disk.Status.GET().then(h=>{h!=null&&h.data.result&&(v.value=h==null?void 0:h.data.result)}),M.Guide.DockerStatus.GET().then(h=>{var B;if((B=h==null?void 0:h.data)!=null&&B.result){const S=h.data.result;u.value=S}}),M.Guide.DockerPartitionList.GET().then(h=>{var B;if((B=h==null?void 0:h.data)!=null&&B.result){const S=h.data.result;s.value=S}})})();const F=h=>{let B=c.value;if(B=="useInput"&&(B=_.value),B==null||B=="null"||B=="")return;const S=w.Loading("\u6B63\u5728\u8FC1\u79FB\u4E2D...");M.Guide.DockerTransfer.POST({path:B,force:h,overwriteDir:!!d.value}).then(k=>{var y;if(k!=null&&k.data){if((k.data.success||0)==0){if((y=k.data.result)!=null&&y.emptyPathWarning){r.value=!0,o.value=2;return}o.value=1;return}else if(k.data.error)throw k.data.error}throw"\u672A\u77E5\u9519\u8BEF"}).catch(k=>{w.Error(k)}).finally(()=>S.Close())},C=()=>{r.value=!1,F(!1)},D=h=>{h.preventDefault(),a.Close&&a.Close()},m=h=>{h.preventDefault(),location.reload()},f=h=>{h.preventDefault(),o.value=0},E=h=>{h.preventDefault(),F(!0)};return(h,B)=>(n(),N(at,{Close:e.Close,type:1},{default:T(()=>{var S,k,y,A,W,V;return[o.value==-1?(n(),l("div",F5,[m5,f5,t("div",{class:"btns"},[t("button",{class:"cbi-button cbi-button-remove app-btn app-back",type:"button",onClick:D}," \u53D6\u6D88 ")])])):o.value==0?(n(),l("div",E5,[C5,g5,t("div",b5,[$5,t("span",y5,p((S=u.value)==null?void 0:S.path),1)]),t("div",D5,[k5,(y=(k=s.value)==null?void 0:k.partitionList)!=null&&y.length?(n(),l("div",B5,[t("form",{onSubmit:ct(C,["prevent"])},[t("label",null,[t("div",w5,[z(t("select",{"onUpdate:modelValue":B[0]||(B[0]=U=>c.value=U)},[A5,(n(!0),l(q,null,J((A=s.value)==null?void 0:A.partitionList,(U,st)=>(n(),l("option",{value:U,key:st},p(U),9,x5))),128)),S5],512),[[Et,c.value,void 0,{trim:!0}]]),c.value=="useInput"?z((n(),l("input",{key:0,type:"text","onUpdate:modelValue":B[1]||(B[1]=U=>_.value=U),required:"",placeholder:"\u8BF7\u8F93\u5165\u8FC1\u79FB\u5730\u5740"},null,512)),[[Y,_.value,void 0,{trim:!0}]]):b("",!0)])])],32)])):s.value?(n(),l("div",I5,[t("div",V5,[x(dt),P5])])):b("",!0)]),(V=(W=s.value)==null?void 0:W.partitionList)!=null&&V.length?(n(),l("div",M5,[t("button",{class:"cbi-button cbi-button-apply",onClick:C}," \u786E\u5B9A "),t("button",{class:"cbi-button cbi-button-remove app-btn app-back",type:"button",onClick:D}," \u53D6\u6D88 ")])):(n(),l("div",T5,[t("button",{class:"cbi-button cbi-button-apply",onClick:D}," \u786E\u5B9A ")]))])):o.value==1?(n(),l("div",L5,[z5,t("div",N5,[x(Qt)]),q5,t("div",{class:"btns"},[t("button",{class:"cbi-button cbi-button-apply",onClick:m}," \u786E\u5B9A ")])])):o.value==2?(n(),l("div",H5,[O5,t("div",U5,[x(h5)]),R5,t("div",G5,[t("div",W5,[z(t("input",{type:"radio",id:"move",name:"moves","onUpdate:modelValue":B[2]||(B[2]=U=>d.value=U),value:""},null,512),[[lt,d.value]]),Z5]),t("div",j5,[z(t("input",{type:"radio",id:"cover",name:"moves","onUpdate:modelValue":B[3]||(B[3]=U=>d.value=U),value:"true"},null,512),[[lt,d.value]]),X5])]),t("div",Q5,[r.value?(n(),l("button",{key:0,class:"cbi-button cbi-button-apply",onClick:E}," \u786E\u5B9A ")):b("",!0),t("button",{class:"cbi-button cbi-button-apply",onClick:f}," \u8FD4\u56DE "),r.value?b("",!0):(n(),l("button",{key:1,class:"cbi-button cbi-button-remove app-btn app-back",type:"button",onClick:m}," \u53D6\u6D88 "))])])):b("",!0)]}),_:1},8,["Close"]))}});var J5=I(Y5,[["__scopeId","data-v-0de0bd77"]]);const ye=()=>{const e=document.createElement("div");document.body.appendChild(e);const u=ot(J5,{Close:()=>{s()}});u.mount(e);const s=()=>{u.unmount(),e.remove()};return{Close:s}};const K5=e=>(H("data-v-6338bc56"),e=e(),O(),e),t6={class:"button"},e6={class:"row"},u6={class:"text"},s6={key:0,class:"docker-item-value"},n6={class:"configure"},o6={key:1,class:"docker-item-value"},a6={class:"input-switch"},i6=["value","disabled"],l6=K5(()=>t("em",null,null,-1)),c6=[l6],d6={key:0,class:"row"},r6={class:"text"},_6={style:{width:"100%"}},p6={class:"configure"},v6={key:0},h6={class:"tooltip-trigger"},F6={class:"docker_tip"},m6={class:"tooltip-text tooltip-top"},f6={class:"docker_dir_tip"},E6=P({__name:"docker",setup(e){const{$gettext:u}=K,s=g(!1),o=g(),c=mt({enable:!1,disabled:!1}),_=()=>L(this,null,function*(){const a=w.Loading(c.enable?"Docker\u5F00\u542F\u4E2D...":"Docker\u5173\u95ED\u4E2D...");c.disabled=!0;try{const i=yield M.Guide.DockerSwitch.POST({enable:c.enable});if(i!=null&&i.data){const{success:F,error:C}=i.data;if(C)throw c.enable=!c.enable,C;(F||0)==0&&d()}}catch(i){w.Warning(`${i}`)}finally{c.disabled=!1}a.Close()}),v=()=>{window.open("/cgi-bin/luci/admin/docker/overview","_blank")},r=()=>{ye()},d=()=>{M.Guide.DockerStatus.GET().then(a=>{var i;if((i=a==null?void 0:a.data)!=null&&i.result){const F=a.data.result;o.value=F,F.status==="running"&&(c.enable=!0)}}).finally(()=>{s.value=!0})};return setTimeout(d,1100),(a,i)=>{var F;return n(),N(j,{title:"Docker",padding:"0 10px 8px 10px",helpLink:"https://www.linkease.com/rd/2Q28MDtf/",moreActions:[{show:((F=o.value)==null?void 0:F.status)==="running",text:"\u67E5\u770BDocker\u4FE1\u606F",onClick:r}],span:24},{default:T(()=>{var C,D,m,f;return[t("div",t6,[t("span",{onClick:i[0]||(i[0]=E=>$(ye)({setup:0}))},p($(u)("\u8FC1\u79FB\u5411\u5BFC")),1),t("span",{onClick:v},p($(u)("\u9AD8\u7EA7\u914D\u7F6E")),1)]),t("div",e6,[t("div",u6,[t("span",null,p($(u)("\u5F53\u524D\u72B6\u6001")),1)]),(C=o.value)!=null&&C.status?(n(),l(q,{key:0},[((D=o.value)==null?void 0:D.status)==="not installed"?(n(),l("div",s6,[t("span",n6,p($(u)("\u672A\u5B89\u88C5")),1)])):(n(),l("div",o6,[t("label",a6,[z(t("input",{type:"checkbox",hidden:"",value:!c.enable,"onUpdate:modelValue":i[1]||(i[1]=E=>c.enable=E),disabled:c.disabled,onChange:_},null,40,i6),[[Be,c.enable]]),t("span",{class:Xt(c.enable?"enable":"close")},c6,2)])]))],64)):b("",!0)]),c.enable?(n(),l("div",d6,[t("div",r6,[t("span",null,"Docker "+p($(u)("\u6839\u76EE\u5F55"))+"\uFF1A",1),t("div",_6,[t("span",p6,p((m=o.value)==null?void 0:m.path),1),(f=o.value)!=null&&f.errorInfo?(n(),l("span",v6,[t("span",h6,[t("span",F6,[x(dt)]),t("div",null,[t("div",m6,[t("span",f6,p(o.value.errorInfo),1)])])])])):b("",!0)])])])):b("",!0)]}),_:1},8,["moreActions"])}}});var C6=I(E6,[["__scopeId","data-v-6338bc56"]]);const g6=e=>(H("data-v-68b4579e"),e=e(),O(),e),b6={class:"select-editable"},$6=["value"],y6=g6(()=>t("option",{value:"useInput"},"- -\u81EA\u5B9A\u4E49- -",-1)),D6=["placeholder"],k6=P({__name:"index",props:{modelValue:{type:String,required:!0},title:{type:String,default:""},options:{type:Array,default:[]}},emits:["update:modelValue"],setup(e,{emit:u}){const s=e,o=g(""),c=g(""),_=u,v=R({get:()=>s.modelValue.valueOf(),set:i=>_("update:modelValue",i)}),r=i=>{if(i===o.value||o.value==="useInput"&&i===c.value){v.value=s.options[0].key;return}i===""||s.options.some(F=>F.key===i)?o.value=i:(c.value=i,o.value="useInput")};Ye(()=>s.modelValue,i=>{r(i)}),nt(()=>{const i=v.value;r(i)});const d=i=>{o.value==="useInput"?v.value=c.value:v.value=o.value},a=i=>{v.value=c.value};return(i,F)=>(n(),l("label",null,[t("div",b6,[z(t("select",{"onUpdate:modelValue":F[0]||(F[0]=C=>o.value=C),autocomplete:"off",onChange:d},[(n(!0),l(q,null,J(e.options,(C,D)=>(n(),l("option",{value:C.key,key:D},p(C.value||C.key),9,$6))),128)),y6],544),[[Et,o.value,void 0,{trim:!0}]]),o.value=="useInput"?z((n(),l("input",{key:0,type:"text","onUpdate:modelValue":F[1]||(F[1]=C=>c.value=C),required:"",placeholder:"\u8BF7\u8F93\u5165"+e.title,onChange:a},null,40,D6)),[[Y,c.value,void 0,{trim:!0}]]):b("",!0)])]))}});var kt=I(k6,[["__scopeId","data-v-68b4579e"]]);const B6={},w6={width:"14px",height:"14px",viewBox:"0 0 14 14",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},A6=t("path",{d:"M7,0.875 C3.61757813,0.875 0.875,3.61757813 0.875,7 C0.875,10.3824219 3.61757813,13.125 7,13.125 C10.3824219,13.125 13.125,10.3824219 13.125,7 C13.125,3.61757813 10.3824219,0.875 7,0.875 Z M6.5625,4.046875 C6.5625,3.98671875 6.61171875,3.9375 6.671875,3.9375 L7.328125,3.9375 C7.38828125,3.9375 7.4375,3.98671875 7.4375,4.046875 L7.4375,7.765625 C7.4375,7.82578125 7.38828125,7.875 7.328125,7.875 L6.671875,7.875 C6.61171875,7.875 6.5625,7.82578125 6.5625,7.765625 L6.5625,4.046875 Z M7,10.0625 C6.63769531,10.0625 6.34375,9.76855469 6.34375,9.40625 C6.34375,9.04394531 6.63769531,8.75 7,8.75 C7.36230469,8.75 7.65625,9.04394531 7.65625,9.40625 C7.65625,9.76855469 7.36230469,10.0625 7,10.0625 Z",id:"\u5F62\u72B6","fill-opacity":"0.65"},null,-1),x6=[A6];function S6(e,u){return n(),l("svg",w6,x6)}var bt=I(B6,[["render",S6]]);const G=e=>(H("data-v-f4c41bf2"),e=e(),O(),e),I6={key:0,class:"action"},V6=G(()=>t("h2",{class:"title"},"\u4E0B\u8F7D\u670D\u52A1\u914D\u7F6E\u5411\u5BFC",-1)),P6={class:"load_service input_row"},M6=G(()=>t("div",{class:"left"},[t("span",null,"\u4E0B\u8F7D\u670D\u52A1\uFF1A")],-1)),T6={class:"radios"},L6=G(()=>t("label",{for:"Aria2"},"Aria2",-1)),z6={class:"radios"},N6=G(()=>t("label",{for:"qB"},"qBittorrent",-1)),q6={class:"radios"},H6=G(()=>t("label",{for:"Tr"},"Transmission",-1)),O6={class:"input_row"},U6={class:"left"},R6={class:"tooltip-trigger"},G6=G(()=>t("div",null,[t("div",{class:"tooltip-text tooltip-top"},[t("span",{class:"dowload_dir_tip"},"\u7528\u4E8E\u653E\u7F6E\u914D\u7F6E\u6587\u4EF6\u7684\u76EE\u5F55\u3002\u4F8B\u5982\uFF1A/mnt/sda1/Configs/aria2\uFF1B\u8BF7\u52FF\u4F7F\u7528 /tmp \u6216 /var \uFF0C\u4EE5\u514D\u91CD\u542F\u4EE5\u540E\u4EFB\u52A1\u4E22\u5931")])],-1)),W6=G(()=>t("span",null,"\u914D\u7F6E\u76EE\u5F55\uFF1A",-1)),Z6={class:"myinput_wrap"},j6={class:"input_row"},X6={class:"left"},Q6={class:"tooltip-trigger"},Y6=G(()=>t("div",null,[t("div",{class:"tooltip-text tooltip-top"},[t("span",{class:"dowload_dir_tip"},"\u7528\u4E8E\u653E\u7F6E\u4E0B\u8F7D\u6587\u4EF6\u7684\u76EE\u5F55\u3002\u4F8B\u5982\uFF1A/mnt/sda1/download")])],-1)),J6=G(()=>t("span",null,"\u4E0B\u8F7D\u76EE\u5F55\uFF1A",-1)),K6={class:"myinput_wrap"},t0={class:"input_row"},e0={class:"left"},u0={class:"tooltip-trigger"},s0=G(()=>t("div",null,[t("div",{class:"tooltip-text tooltip-bottom"},[t("span",{class:"dowload_rpc_tip"},"\u7528\u4E8E\u8FDC\u7A0B\u8BBF\u95EE\u7684\u4EE4\u724C\u3002")])],-1)),n0=G(()=>t("span",null,"RPC \u4EE4\u724C\uFF1A",-1)),o0={class:"input_row"},a0=G(()=>t("div",{class:""},[t("span",null,"\u9644\u52A0\u7684 BT Tracker\uFF1A")],-1)),i0={class:"radios"},l0=G(()=>t("label",{for:"default"},"\u9ED8\u8BA4",-1)),c0={class:"radios"},d0=G(()=>t("label",{for:"add"},"\u81EA\u5DF1\u6DFB\u52A0",-1)),r0={class:"input_row"},_0=G(()=>t("div",{class:"left"},null,-1)),p0={class:"myinput_wrap Tracker_input"},v0={class:"input_row"},h0={class:"left"},F0={class:"tooltip-trigger"},m0=G(()=>t("div",null,[t("div",{class:"tooltip-text tooltip-top"},[t("span",{class:"dowload_dir_tip"},"\u7528\u4E8E\u653E\u7F6E\u914D\u7F6E\u6587\u4EF6\u7684\u76EE\u5F55\u3002\u4F8B\u5982\uFF1A/mnt/sda1/Configs/qb\uFF1B\u8BF7\u52FF\u4F7F\u7528 /tmp \u6216 /var \uFF0C\u4EE5\u514D\u91CD\u542F\u4EE5\u540E\u4EFB\u52A1\u4E22\u5931")])],-1)),f0=G(()=>t("span",null,"\u914D\u7F6E\u76EE\u5F55\uFF1A",-1)),E0={class:"myinput_wrap"},C0={class:"input_row"},g0={class:"left"},b0={class:"tooltip-trigger"},$0=G(()=>t("div",null,[t("div",{class:"tooltip-text tooltip-top"},[t("span",{class:"dowload_dir_tip"},"\u7528\u4E8E\u653E\u7F6E\u4E0B\u8F7D\u6587\u4EF6\u7684\u76EE\u5F55\u3002\u4F8B\u5982\uFF1A/mnt/sda1/download")])],-1)),y0=G(()=>t("span",null,"\u4E0B\u8F7D\u76EE\u5F55\uFF1A",-1)),D0={class:"myinput_wrap"},k0={class:"input_row"},B0={class:"left"},w0={class:"tooltip-trigger"},A0=G(()=>t("div",null,[t("div",{class:"tooltip-text tooltip-top"},[t("span",{class:"dowload_dir_tip"},"\u7528\u4E8E\u653E\u7F6E\u914D\u7F6E\u6587\u4EF6\u7684\u76EE\u5F55\u3002\u4F8B\u5982\uFF1A/mnt/sda1/Configs/tr\uFF1B\u8BF7\u52FF\u4F7F\u7528 /tmp \u6216 /var \uFF0C\u4EE5\u514D\u91CD\u542F\u4EE5\u540E\u4EFB\u52A1\u4E22\u5931")])],-1)),x0=G(()=>t("span",null,"\u914D\u7F6E\u76EE\u5F55\uFF1A",-1)),S0={class:"myinput_wrap"},I0={class:"input_row"},V0={class:"left"},P0={class:"tooltip-trigger"},M0=G(()=>t("div",null,[t("div",{class:"tooltip-text tooltip-top"},[t("span",{class:"dowload_dir_tip"},"\u7528\u4E8E\u653E\u7F6E\u4E0B\u8F7D\u6587\u4EF6\u7684\u76EE\u5F55\u3002\u4F8B\u5982\uFF1A/mnt/sda1/download")])],-1)),T0=G(()=>t("span",null,"\u4E0B\u8F7D\u76EE\u5F55\uFF1A",-1)),L0={class:"myinput_wrap"},z0={class:"btns"},N0={key:1,class:"action"},q0={class:"title"},H0={class:"finished"},O0=G(()=>t("p",{class:"successed"},"\u914D\u7F6E\u6210\u529F\uFF01",-1)),U0=P({__name:"index",props:{services:{type:Object,required:!0},partitionList:{type:Array,required:!0},defaultTab:{type:String,required:!1},Close:Function},setup(e){const u=g(""),s=g(""),o=g(""),c=g(""),_=g("default"),v=g("Aria2"),r=g(""),d=g(""),a=g(""),i=g(""),F=g([]),C=g([]),D=e,m=g(0);nt(()=>{var V,U,st,xt,St,It,Vt,Pt,Mt,Tt;switch(D.defaultTab){case"aria2":v.value="Aria2";break;case"qbittorrent":v.value="qBittorrent";break;case"transmission":v.value="Transmission";break}F.value=D.partitionList.map(pt=>({key:pt})),C.value=D.partitionList.filter(pt=>pt.startsWith("/mnt/")).map(pt=>pt.replace(/(\/mnt\/[^/]+).*/,"$1")),o.value=((V=D.services.aria2)==null?void 0:V.configPath)||"";const k=((U=D.services.aria2)==null?void 0:U.downloadPath)||((st=D.services.qbittorrent)==null?void 0:st.downloadPath)||((xt=D.services.transmission)==null?void 0:xt.downloadPath);k&&(c.value=k);const y=(St=D.services.aria2)==null?void 0:St.rpcToken;y&&(u.value=y),r.value=((It=D.services.qbittorrent)==null?void 0:It.configPath)||"";const A=((Vt=D.services.qbittorrent)==null?void 0:Vt.downloadPath)||k||((Pt=D.services.transmission)==null?void 0:Pt.downloadPath);A&&(d.value=A),a.value=((Mt=D.services.transmission)==null?void 0:Mt.configPath)||"";const W=((Tt=D.services.transmission)==null?void 0:Tt.downloadPath)||k||A;W&&(i.value=W)});const f=()=>{let k=o.value,y=c.value;k==null||k==""||y==null||y==""||L(this,null,function*(){if(yield rt.checkAndInstallApp("app-meta-aria2","Aria2")){const W=w.Loading("\u914D\u7F6E\u4E2D...");M.Guide.Aria2Init.POST({configPath:k,downloadPath:y,rpcToken:u.value,btTracker:_.value=="add"?s.value:""}).then(V=>{var U;if(V!=null&&V.data){if((V.data.success||0)==0){m.value=1;return}else if((U=V.data)!=null&&U.error)throw V.data.error}throw"\u672A\u77E5\u9519\u8BEF"}).catch(V=>w.Error(V)).finally(()=>W.Close())}})},E=()=>{let k=r.value,y=d.value;k==null||k==""||y==null||y==""||L(this,null,function*(){if(yield rt.checkAndInstallApp("app-meta-qbittorrent","qBittorrent")){const W=w.Loading("\u914D\u7F6E\u4E2D...");M.Guide.qbitorrentInit.POST({configPath:k,downloadPath:y}).then(V=>{var U;if(V!=null&&V.data){if((V.data.success||0)==0){m.value=1;return}else if((U=V.data)!=null&&U.error)throw V.data.error}throw"\u672A\u77E5\u9519\u8BEF"}).catch(V=>w.Error(V)).finally(()=>W.Close())}})},h=()=>{let k=a.value,y=i.value;k==null||k==""||y==null||y==""||L(this,null,function*(){if(yield rt.checkAndInstallApp("app-meta-transmission","Transmission")){const W=w.Loading("\u914D\u7F6E\u4E2D...");M.Guide.transmissionInit.POST({configPath:k,downloadPath:y}).then(V=>{var U;if(V!=null&&V.data){if((V.data.success||0)==0){m.value=1;return}else if((U=V.data)!=null&&U.error)throw V.data.error}throw"\u672A\u77E5\u9519\u8BEF"}).catch(V=>w.Error(V)).finally(()=>W.Close())}})},B=k=>{k.preventDefault(),D.Close&&D.Close()},S=k=>{k.preventDefault(),location.reload()};return(k,y)=>(n(),N(at,{Close:e.Close,type:1},{default:T(()=>[m.value==0?(n(),l("div",I6,[V6,t("ul",null,[t("li",null,[t("div",P6,[M6,t("div",T6,[z(t("input",{type:"radio",value:"Aria2","onUpdate:modelValue":y[0]||(y[0]=A=>v.value=A),name:"download",id:"Aria2"},null,512),[[lt,v.value]]),L6]),t("div",z6,[z(t("input",{type:"radio",value:"qBittorrent","onUpdate:modelValue":y[1]||(y[1]=A=>v.value=A),name:"download",id:"qB"},null,512),[[lt,v.value]]),N6]),t("div",q6,[z(t("input",{type:"radio",value:"Transmission","onUpdate:modelValue":y[2]||(y[2]=A=>v.value=A),name:"download",id:"Tr"},null,512),[[lt,v.value]]),H6])])])]),v.value=="Aria2"?(n(),l("form",{key:0,onSubmit:ct(f,["prevent"])},[t("ul",null,[t("li",null,[t("div",O6,[t("div",U6,[t("span",R6,[x(bt),G6]),W6]),t("div",Z6,[x(kt,{modelValue:o.value,"onUpdate:modelValue":y[3]||(y[3]=A=>o.value=A),modelModifiers:{trim:!0},title:"\u914D\u7F6E\u76EE\u5F55",options:C.value.concat("/root").map(A=>({key:A+"/Configs/aria2"}))},null,8,["modelValue","options"])])])]),t("li",null,[t("div",j6,[t("div",X6,[t("span",Q6,[x(bt),Y6]),J6]),t("div",K6,[x(kt,{modelValue:c.value,"onUpdate:modelValue":y[4]||(y[4]=A=>c.value=A),modelModifiers:{trim:!0},title:"\u4E0B\u8F7D\u76EE\u5F55",options:F.value},null,8,["modelValue","options"])])])]),t("li",null,[t("div",t0,[t("div",e0,[t("span",u0,[x(bt),s0]),n0]),z(t("input",{type:"text",class:"RPC_input",placeholder:"\u8BF7\u8F93\u5165RPC\u4EE4\u724C","onUpdate:modelValue":y[5]||(y[5]=A=>u.value=A)},null,512),[[Y,u.value,void 0,{trim:!0}]])])]),t("li",null,[t("div",o0,[a0,t("div",i0,[z(t("input",{type:"radio",value:"default",name:"BT",id:"default","onUpdate:modelValue":y[6]||(y[6]=A=>_.value=A)},null,512),[[lt,_.value]]),l0]),t("div",c0,[z(t("input",{type:"radio",value:"add",name:"BT",id:"add","onUpdate:modelValue":y[7]||(y[7]=A=>_.value=A)},null,512),[[lt,_.value]]),d0])])]),t("li",null,[t("div",r0,[_0,t("div",p0,[_.value=="add"?z((n(),l("textarea",{key:0,"onUpdate:modelValue":y[8]||(y[8]=A=>s.value=A),rows:"4",placeholder:"\u8BF7\u8F93\u5165BT Tracker\u670D\u52A1\u5668\u5730\u5740\uFF0C\u591A\u4E2A\u5730\u5740\u4F7F\u7528\u6362\u884C\u6216\u8005\u82F1\u6587\u9017\u53F7\u5206\u9694"},null,512)),[[Y,s.value,void 0,{trim:!0}]]):b("",!0)])])])])],32)):b("",!0),v.value=="qBittorrent"?(n(),l("form",{key:1,onSubmit:ct(E,["prevent"])},[t("ul",null,[t("li",null,[t("div",v0,[t("div",h0,[t("span",F0,[x(bt),m0]),f0]),t("div",E0,[x(kt,{modelValue:r.value,"onUpdate:modelValue":y[9]||(y[9]=A=>r.value=A),modelModifiers:{trim:!0},title:"\u914D\u7F6E\u76EE\u5F55",options:C.value.concat("/root").map(A=>({key:A+"/Configs/qb"}))},null,8,["modelValue","options"])])])]),t("li",null,[t("div",C0,[t("div",g0,[t("span",b0,[x(bt),$0]),y0]),t("div",D0,[x(kt,{modelValue:d.value,"onUpdate:modelValue":y[10]||(y[10]=A=>d.value=A),modelModifiers:{trim:!0},title:"\u4E0B\u8F7D\u76EE\u5F55",options:F.value},null,8,["modelValue","options"])])])])])],32)):b("",!0),v.value=="Transmission"?(n(),l("form",{key:2,onSubmit:ct(h,["prevent"])},[t("ul",null,[t("li",null,[t("div",k0,[t("div",B0,[t("span",w0,[x(bt),A0]),x0]),t("div",S0,[x(kt,{modelValue:a.value,"onUpdate:modelValue":y[11]||(y[11]=A=>a.value=A),modelModifiers:{trim:!0},title:"\u914D\u7F6E\u76EE\u5F55",options:C.value.concat("/root").map(A=>({key:A+"/Configs/transmission"}))},null,8,["modelValue","options"])])])]),t("li",null,[t("div",I0,[t("div",V0,[t("span",P0,[x(bt),M0]),T0]),t("div",L0,[x(kt,{modelValue:i.value,"onUpdate:modelValue":y[12]||(y[12]=A=>i.value=A),modelModifiers:{trim:!0},title:"\u4E0B\u8F7D\u76EE\u5F55",options:F.value},null,8,["modelValue","options"])])])])])],32)):b("",!0),t("div",z0,[v.value=="Aria2"?(n(),l("button",{key:0,class:"cbi-button cbi-button-apply",onClick:f}," \u542F\u7528 ")):b("",!0),v.value=="qBittorrent"?(n(),l("button",{key:1,class:"cbi-button cbi-button-apply",onClick:E}," \u542F\u7528 ")):b("",!0),v.value=="Transmission"?(n(),l("button",{key:2,class:"cbi-button cbi-button-apply",onClick:h}," \u542F\u7528 ")):b("",!0),t("button",{class:"cbi-button cbi-button-remove app-btn app-back",onClick:B}," \u53D6\u6D88 ")])])):m.value==1?(n(),l("div",N0,[t("h2",q0,p(v.value)+"\u4E0B\u8F7D\u670D\u52A1\u914D\u7F6E\u5411\u5BFC",1),t("div",H0,[x(Qt)]),O0,t("div",{class:"btns"},[t("button",{class:"cbi-button cbi-button-apply",onClick:S}," \u786E\u5B9A ")])])):b("",!0)]),_:1},8,["Close"]))}});var R0=I(U0,[["__scopeId","data-v-f4c41bf2"]]);const G0=e=>{const u=document.createElement("div");document.body.appendChild(u);const s=ot(R0,ht(vt({},e),{Close:()=>{o()}}));s.mount(u);const o=()=>{s.unmount(),u.remove()};return{Close:o}};const Ut=e=>(H("data-v-a7fbbea6"),e=e(),O(),e),W0={class:"service-item"},Z0={class:"name"},j0=Ut(()=>t("span",null,"Aria2",-1)),X0={class:"button"},Q0={class:"info"},Y0=["href"],J0=["href"],K0=Ut(()=>t("span",null,[Z("\u4F7F\u7528"),t("a",{href:"https://doc.linkease.com/zh/guide/linkease_app/tutorial.html#%E8%BF%9C%E7%A8%8B%E4%B8%8B%E8%BD%BD",target:"_blank"},"\u6613\u6709\u4E91APP"),Z("\uFF0C\u968F\u65F6\u968F\u5730\u8FDC\u7A0B\u4E0B\u8F7D")],-1)),tr={key:0},er=["href"],ur={class:"service-item"},sr={class:"name"},nr=Ut(()=>t("span",null,"qBittorrent",-1)),or={key:0,class:"button"},ar={class:"info"},ir=["href"],lr=["href"],cr={class:"service-item"},dr={class:"name"},rr=Ut(()=>t("span",null,"Transmission",-1)),_r={key:0,class:"button"},pr={class:"info"},vr=["href"],hr=P({__name:"download",setup(e){const{$gettext:u}=K,s=g(),o=g("aria2"),c=g(window.location),_=()=>{M.Guide.DownloadPartition.List.GET().then(a=>{var F,C;let i=[];(C=(F=a==null?void 0:a.data)==null?void 0:F.result)!=null&&C.partitionList&&(i=a.data.result.partitionList),G0({services:s.value,partitionList:i,defaultTab:o.value})})},v=()=>{M.Guide.DownloadService.Status.GET().then(a=>{var i;if((i=a==null?void 0:a.data)!=null&&i.result){const F=a.data.result;s.value=F}})},r=R(()=>{var a,i,F;if(s){let C=(a=s==null?void 0:s.aria2)==null?void 0:a.rpcToken;C&&(C=encodeURIComponent(btoa(C)));const D=encodeURIComponent(window.location.hostname);return`${window.location.origin}${(i=s==null?void 0:s.aria2)==null?void 0:i.webPath}/#!/settings/rpc/set/http/${D}/${(F=s==null?void 0:s.aria2)==null?void 0:F.rpcPort}/jsonrpc/${C}`}}),d=(a,i,F)=>L(this,null,function*(){window.open(F,"_blank")});return setTimeout(v,800),(a,i)=>(n(),N(j,{title:$(u)("\u4E0B\u8F7D\u670D\u52A1"),padding:"0 10px 8px 10px",helpLink:"https://www.linkease.com/rd/2Q28MDtf/",span:24,action:{text:$(u)("\u5FEB\u901F\u914D\u7F6E"),onClick:_}},{default:T(()=>{var F,C,D,m,f,E,h,B,S,k,y,A,W,V,U,st,xt,St,It,Vt,Pt,Mt,Tt,pt,Jt,Kt,te,ee,ue,se,ne,oe,ae,ie,le,ce,de,re,_e,pe;return[t("div",W0,[t("div",Z0,[t("span",null,[j0,t("span",null,p($(u)("\u6682\u65E0\u4E0B\u8F7D")),1)]),t("div",X0,[t("span",{onClick:i[0]||(i[0]=ve=>d("app-meta-aria2","Aria2","/cgi-bin/luci/admin/services/aria2"))},p($(u)("\u9AD8\u7EA7\u914D\u7F6E")),1)])]),t("div",Q0,[t("span",null,p($(u)("\u5F53\u524D\u72B6\u6001"))+"\uFF1A"+p(`${((C=(F=s.value)==null?void 0:F.aria2)==null?void 0:C.status)==="running"?$(u)("\u5DF2\u542F\u52A8"):$(u)("\u672A\u542F\u52A8")}`),1),((m=(D=s.value)==null?void 0:D.aria2)==null?void 0:m.status)=="running"?(n(),l(q,{key:0},[t("span",null,[Z(p($(u)("\u4E0B\u8F7D\u76EE\u5F55"))+"\uFF1A ",1),t("a",{target:"_blank",href:"/cgi-bin/luci/admin/services/linkease/file/?path=/root"+((E=(f=s.value)==null?void 0:f.aria2)==null?void 0:E.downloadPath)},p((B=(h=s.value)==null?void 0:h.aria2)==null?void 0:B.downloadPath),9,Y0)]),t("span",null,[Z(p($(u)("\u7F51\u7EDC\u5730\u5740"))+"\uFF1A ",1),t("a",{href:`http://${c.value.hostname}${(k=(S=s.value)==null?void 0:S.aria2)==null?void 0:k.webPath}`,target:"_blank",rel:"noopener noreferrer"},p(`http://${c.value.hostname}${(A=(y=s.value)==null?void 0:y.aria2)==null?void 0:A.webPath}`),9,J0)])],64)):b("",!0),t("div",null,[K0,((V=(W=s.value)==null?void 0:W.aria2)==null?void 0:V.status)==="running"?(n(),l("span",tr,[Z(p($(u)("\u8BA4\u8BC1\u5931\u8D25"))+"\uFF1F ",1),t("a",{href:r.value,target:"_blank",rel:"noopener noreferrer"}," \u70B9\u6B64\u81EA\u52A8\u586B\u5145\u5BC6\u94A5 ",8,er)])):b("",!0)])])]),t("div",ur,[t("div",sr,[t("span",null,[nr,t("span",null,p($(u)("\u6682\u65E0\u4E0B\u8F7D")),1)]),((st=(U=s.value)==null?void 0:U.qbittorrent)==null?void 0:st.status)==="running"?(n(),l("div",or,[t("span",{onClick:i[1]||(i[1]=ve=>d("app-meta-qbittorrent","qBittorrent","/cgi-bin/luci/admin/nas/qBittorrent"))},p($(u)("\u9AD8\u7EA7\u914D\u7F6E")),1)])):b("",!0)]),t("div",ar,[t("span",null,p(`${$(u)("\u5F53\u524D\u72B6\u6001")}\uFF1A${((St=(xt=s.value)==null?void 0:xt.qbittorrent)==null?void 0:St.status)==="running"?$(u)("\u5DF2\u542F\u52A8"):$(u)("\u672A\u542F\u52A8")}`),1),((Vt=(It=s.value)==null?void 0:It.qbittorrent)==null?void 0:Vt.status)=="running"?(n(),l(q,{key:0},[t("span",null,[Z(p($(u)("\u4E0B\u8F7D\u76EE\u5F55"))+"\uFF1A ",1),t("a",{target:"_blank",href:"/cgi-bin/luci/admin/services/linkease/file/?path=/root"+((Mt=(Pt=s.value)==null?void 0:Pt.qbittorrent)==null?void 0:Mt.downloadPath)},p((pt=(Tt=s.value)==null?void 0:Tt.qbittorrent)==null?void 0:pt.downloadPath),9,ir)]),t("span",null,[Z(p($(u)("\u7F51\u7EDC\u5730\u5740"))+"\uFF1A ",1),t("a",{href:`http://${c.value.hostname}${(Kt=(Jt=s.value)==null?void 0:Jt.qbittorrent)==null?void 0:Kt.webPath}`,target:"_blank",rel:"noopener noreferrer"},p(`http://${c.value.hostname}${(ee=(te=s.value)==null?void 0:te.qbittorrent)==null?void 0:ee.webPath}`),9,lr)])],64)):b("",!0)])]),t("div",cr,[t("div",dr,[t("span",null,[rr,t("span",null,p($(u)("\u6682\u65E0\u4E0B\u8F7D")),1)]),((se=(ue=s.value)==null?void 0:ue.transmission)==null?void 0:se.status)==="running"?(n(),l("div",_r,[t("span",{onClick:i[2]||(i[2]=ve=>d("app-meta-transmission","Transmission","/cgi-bin/luci/admin/services/transmission"))},p($(u)("\u9AD8\u7EA7\u914D\u7F6E")),1)])):b("",!0)]),t("div",pr,[t("span",null,p(`${$(u)("\u5F53\u524D\u72B6\u6001")}\uFF1A${((oe=(ne=s.value)==null?void 0:ne.transmission)==null?void 0:oe.status)==="running"?$(u)("\u5DF2\u542F\u52A8"):$(u)("\u672A\u542F\u52A8")}`),1),((ie=(ae=s.value)==null?void 0:ae.transmission)==null?void 0:ie.status)=="running"?(n(),l(q,{key:0},[t("span",null,p($(u)("\u4E0B\u8F7D\u76EE\u5F55"))+"\uFF1A "+p("/cgi-bin/luci/admin/services/linkease/file/?path=/root"+((ce=(le=s.value)==null?void 0:le.transmission)==null?void 0:ce.downloadPath)),1),t("span",null,[Z(p($(u)("\u7F51\u7EDC\u5730\u5740"))+"\uFF1Ahttp ",1),t("a",{href:`http://${c.value.hostname}${(re=(de=s.value)==null?void 0:de.transmission)==null?void 0:re.webPath}`,target:"_blank",rel:"noopener noreferrer"},p(`http://${c.value.hostname}${(pe=(_e=s.value)==null?void 0:_e.transmission)==null?void 0:pe.webPath}`),9,vr)])],64)):b("",!0)])])]}),_:1},8,["title","action"]))}});var Fr=I(hr,[["__scopeId","data-v-a7fbbea6"]]);const mr=P({__name:"index",setup(e){const{$gettext:u}=K;return(s,o)=>(n(),N(ft,{title:$(u)("\u670D\u52A1\u72B6\u6001"),contentStyle:"flex-flow: column"},{default:T(()=>[x(c5),x(C6),x(Fr)]),_:1},8,["title"]))}});var fr="/luci-static/istorex/file.png?v=055a0ac9",Er="/luci-static/istorex/user.png?v=fa675eea",Cr="/luci-static/istorex/setting.png?v=bf214b33",gr="/luci-static/istorex/file-manage.png?v=3297497e",br="/luci-static/istorex/sync.png?v=8384453e",$r="/luci-static/istorex/photo.png?v=3178eb60",yr="/luci-static/istorex/network.png?v=3314b340",Dr="/luci-static/istorex/nas.png?v=902703f1";const ze=e=>(H("data-v-a711c820"),e=e(),O(),e),kr={class:"container"},Br={key:0,class:"desc"},wr=ze(()=>t("a",{href:"https://www.linkease.com/",target:"_blank"},"\u6613\u6709\u4E91\u2122 \uFE0F",-1)),Ar={key:1,class:"desc"},xr=ze(()=>t("span",null,[Z(" \u76F8\u518C\u5907\u4EFD\u529F\u80FD\u7531 "),t("a",{href:"https://www.linkease.com/",target:"_blank"},"\u6613\u6709\u4E91\u2122 \uFE0F"),Z(" \u63D0\u4F9B ")],-1)),Sr=["href"],Ir=P({__name:"install-photobackup",setup(e){const u=g(""),s=g(""),o=()=>L(this,null,function*(){const v=w.Loading("\u5B89\u88C5\u4E2D...");try{if(yield rt.installApp("app-meta-ddnsto",30)){s.value="installed",w.Success("\u5B89\u88C5\u6210\u529F"),_();return}else w.Success("\u5B89\u88C5\u5931\u8D25")}finally{v.Close()}}),c=R(()=>`http://${location.hostname}:${u.value}`),_=()=>{M.Nas.Linkease.Enable.POST().then(v=>{var r,d;(r=v==null?void 0:v.data)!=null&&r.result&&(u.value=((d=v.data.result)==null?void 0:d.port)||"")})};return nt(()=>L(this,null,function*(){const v=yield M.App.Check.POST({name:"linkease"});if(v!=null&&v.data){const{result:r,error:d}=v.data;r!=null&&r.status&&(s.value=r==null?void 0:r.status,r.status==="installed"&&_())}})),(v,r)=>(n(),N(Se,{title:"\u63D0\u793A",width:"572px"},{default:T(()=>[t("div",kr,[s.value==="uninstalled"?(n(),l("p",Br,[Z(" \u76F8\u518C\u5907\u4EFD\u529F\u80FD\u7531 "),wr,Z(" \u63D0\u4F9B\uFF0C\u53EF\u4EE5\u5C06\u624B\u673A\u76F8\u518C\u5907\u4EFD\u81F3\u672C\u8BBE\u5907\u4F7F\u7528\u524D\u9700\u8981\u5B89\u88C5\u6613\u6709\u4E91 ")])):b("",!0),s.value==="installed"?(n(),l("p",Ar,[xr,t("span",null,"\u8BBF\u95EE\u94FE\u63A5\uFF1A"+p(c.value),1)])):b("",!0),s.value==="uninstalled"?(n(),l("button",{key:2,class:"btn",onClick:o}," \u7ACB\u5373\u5B89\u88C5 ")):b("",!0),s.value==="installed"?(n(),l("a",{key:3,class:"btn",target:"_blank",href:c.value},"\u7ACB\u5373\u8BBF\u95EE",8,Sr)):b("",!0)])]),_:1}))}});var Vr=I(Ir,[["__scopeId","data-v-a711c820"]]);const Ne=e=>(H("data-v-7c1d7115"),e=e(),O(),e),Pr={class:"container"},Mr={key:0,class:"desc"},Tr=Ne(()=>t("a",{href:"https://www.linkease.com/",target:"_blank"},"\u6613\u6709\u4E91\u2122 \uFE0F",-1)),Lr={key:1,class:"desc"},zr=Ne(()=>t("span",null,[Z(" \u6587\u4EF6\u540C\u6B65\u529F\u80FD\u7531 "),t("a",{href:"https://www.linkease.com/",target:"_blank"},"\u6613\u6709\u4E91\u2122 \uFE0F"),Z(" \u63D0\u4F9B ")],-1)),Nr=["href"],qr=P({__name:"file-sync",setup(e){const u=g(""),s=g(""),o=()=>L(this,null,function*(){const v=w.Loading("\u5B89\u88C5\u4E2D...");try{if(yield rt.installApp("app-meta-ddnsto",30)){s.value="installed",w.Success("\u5B89\u88C5\u6210\u529F"),_();return}else w.Success("\u5B89\u88C5\u5931\u8D25")}finally{v.Close()}}),c=R(()=>`http://${location.hostname}:${u.value}`),_=()=>{M.Nas.Linkease.Enable.POST().then(v=>{var r,d;(r=v==null?void 0:v.data)!=null&&r.result&&(u.value=((d=v.data.result)==null?void 0:d.port)||"")})};return nt(()=>L(this,null,function*(){const v=yield M.App.Check.POST({name:"linkease"});if(v!=null&&v.data){const{result:r,error:d}=v.data;r!=null&&r.status&&(s.value=r==null?void 0:r.status,r.status==="installed"&&_())}})),(v,r)=>(n(),N(Se,{title:"\u63D0\u793A",width:"572px"},{default:T(()=>[t("div",Pr,[s.value==="uninstalled"?(n(),l("p",Mr,[Z(" \u6587\u4EF6\u540C\u6B65\u529F\u80FD\u7531 "),Tr,Z(" \u63D0\u4F9B\uFF0C\u53EF\u4EE5\u540C\u65F6\u76F8\u4E92\u5907\u4EFD\u591A\u53F0\u8BBE\u5907\u6587\u4EF6\u4F7F\u7528\u524D\u9700\u8981\u5B89\u88C5\u6613\u6709\u4E91 ")])):b("",!0),s.value==="installed"?(n(),l("p",Lr,[zr,t("span",null,"\u8BBF\u95EE\u94FE\u63A5\uFF1A"+p(c.value),1)])):b("",!0),s.value==="uninstalled"?(n(),l("button",{key:2,class:"btn",onClick:o}," \u7ACB\u5373\u5B89\u88C5 ")):b("",!0),s.value==="installed"?(n(),l("a",{key:3,class:"btn",target:"_blank",href:c.value},"\u7ACB\u5373\u8BBF\u95EE",8,Nr)):b("",!0)])]),_:1}))}});var Hr=I(qr,[["__scopeId","data-v-7c1d7115"]]);class Or extends Je{Open(u){u==="sync"&&this.openWindow(Hr),u==="backup"&&this.openWindow(Vr)}}const De=new Or;const At=e=>(H("data-v-6e4bd810"),e=e(),O(),e),Ur={class:"width-60 responsive"},Rr={class:"card-content"},Gr=At(()=>t("div",null,[t("img",{src:fr,alt:"\u5171\u4EAB\u6587\u4EF6"})],-1)),Wr=At(()=>t("div",null,[t("img",{src:Er,alt:"\u5171\u4EAB\u7528\u6237"})],-1)),Zr={class:"card-content"},jr=At(()=>t("div",null,[t("img",{src:Cr,alt:"\u5171\u4EAB\u8BBE\u7F6E"})],-1)),Xr={class:"card-content"},Qr=At(()=>t("div",null,[t("img",{src:gr,alt:"\u6587\u4EF6\u7BA1\u7406"})],-1)),Yr=At(()=>t("div",null,[t("img",{src:br,alt:"\u6587\u4EF6\u540C\u6B65"})],-1)),Jr=At(()=>t("div",null,[t("img",{src:$r,alt:"\u76F8\u518C\u5907\u4EFD"})],-1)),Kr={class:"width-40 responsive"},t2={class:"card-content"},e2=["alt"],u2={class:"card-content"},s2=["alt"],n2=P({__name:"index",setup(e){const{$gettext:u}=K,s=()=>{we.OpenGuideWindow()},o=g(window.innerWidth<668),c=()=>{window.open("/cgi-bin/luci/admin/services/linkease/file","_blank")},_=()=>{o.value=window.innerWidth<668};nt(()=>{window.addEventListener("resize",_)}),Ke(()=>{window.removeEventListener("resize",_)});const v=()=>{w.Message("\u6682\u672A\u5F00\u653E")};return(r,d)=>(n(),l("div",null,[t("div",Ur,[x(ft,{title:$(u)("\u5171\u4EAB\u529F\u80FD"),height:"140px"},{default:T(()=>[x(j,{span:8,onClick:d[0]||(d[0]=a=>$(lu).Open())},{default:T(()=>[t("div",Rr,[Gr,t("span",null,p($(u)("\u5171\u4EAB\u6587\u4EF6")),1)])]),_:1}),x(j,{span:8},{default:T(()=>[t("div",{class:"card-content",onClick:d[1]||(d[1]=a=>$(cu).Open())},[Wr,t("span",null,p($(u)("\u5171\u4EAB\u7528\u6237")),1)])]),_:1}),x(j,{span:8,onClick:d[2]||(d[2]=a=>v())},{default:T(()=>[t("div",Zr,[jr,t("span",null,p($(u)("\u5171\u4EAB\u8BBE\u7F6E")),1)])]),_:1})]),_:1},8,["title"]),x(ft,{title:$(u)("\u5176\u4ED6\u529F\u80FD"),height:"140px"},{default:T(()=>[x(j,{span:8,onClick:c},{default:T(()=>[t("div",Xr,[Qr,t("span",null,p($(u)("\u6587\u4EF6\u7BA1\u7406")),1)])]),_:1}),x(j,{span:8},{default:T(()=>[t("div",{class:"card-content",onClick:d[3]||(d[3]=a=>$(De).Open("sync"))},[Yr,t("span",null,p($(u)("\u6587\u4EF6\u540C\u6B65")),1)])]),_:1}),x(j,{span:8},{default:T(()=>[t("div",{class:"card-content",onClick:d[4]||(d[4]=a=>$(De).Open("backup"))},[Jr,t("span",null,p($(u)("\u76F8\u518C\u5907\u4EFD")),1)])]),_:1})]),_:1},8,["title"])]),t("div",Kr,[x(ft,{height:o.value?"":"288px",title:$(u)("\u5411\u5BFC\u529F\u80FD")},{default:T(()=>[x(j,{span:12,onClick:d[5]||(d[5]=a=>$(it)({title:$(u)("\u7F51\u7EDC\u5411\u5BFC"),src:"/cgi-bin/luci/admin/quickstart/network"}))},{default:T(()=>[t("div",t2,[t("div",null,[t("img",{src:yr,alt:$(u)("\u7F51\u7EDC\u5411\u5BFC")},null,8,e2)]),t("span",null,p($(u)("\u7F51\u7EDC\u5411\u5BFC")),1)])]),_:1}),x(j,{span:12,onClick:d[6]||(d[6]=a=>s())},{default:T(()=>[t("div",u2,[t("div",null,[t("img",{src:Dr,alt:$(u)("NAS\u5411\u5BFC")},null,8,s2)]),t("span",null,p($(u)("NAS\u5411\u5BFC")),1)])]),_:1})]),_:1},8,["height","title"])])]))}});var o2=I(n2,[["__scopeId","data-v-6e4bd810"]]);const a2=P({__name:"index",setup(e){const u=xe(),s=R(()=>u.portitemStyle.portitem),o=R(()=>u.portitemStyle.show),c=R(()=>({bottom:`calc(100% - ${u.portitemStyle.top}px)`,left:`${u.portitemStyle.left}px`})),_=d=>{switch(d){case"full":return"\u5168\u53CC\u5DE5";case"half":return"\u534A\u53CC\u5DE5"}},v=d=>{u.portitemStyle.show=!0},r=d=>{u.portitemStyle.show=!1};return(d,a)=>o.value?(n(),l("div",{key:0,class:"disk-item-tooltip",style:et(c.value),onMouseenter:v,onMouseleave:r},[t("div",null,p(_(s.value.duplex)),1),t("div",null,"\u540D\u79F0\uFF1A"+p(s.value.name||"--"),1),t("div",null,"MAC\uFF1A"+p(s.value.macAddress||"--"),1),t("div",null,"\u63A5\u6536\uFF1A"+p(s.value.rx_packets||"--"),1),t("div",null,"\u53D1\u9001\uFF1A"+p(s.value.tx_packets||"--"),1)],36)):b("",!0)}});var i2=I(a2,[["__scopeId","data-v-4955cc3f"]]);const l2={class:"next-main",style:{}},c2={class:"content"},d2=P({__name:"index",setup(e){return(u,s)=>(n(),l("div",l2,[x(ju),t("div",c2,[t("div",null,[x(Ju),x(Yo),x(Pa),x(f1)]),t("div",null,[x(o2),x(x1),x(mr)])]),x(i2)]))}});var h2=I(d2,[["__scopeId","data-v-20d43d03"]]);export{h2 as default};
