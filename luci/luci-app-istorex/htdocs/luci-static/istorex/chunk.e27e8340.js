var q=Object.defineProperty,O=Object.defineProperties;var j=Object.getOwnPropertyDescriptors;var V=Object.getOwnPropertySymbols;var H=Object.prototype.hasOwnProperty,R=Object.prototype.propertyIsEnumerable;var I=(v,u,d)=>u in v?q(v,u,{enumerable:!0,configurable:!0,writable:!0,value:d}):v[u]=d,G=(v,u)=>{for(var d in u||(u={}))H.call(u,d)&&I(v,d,u[d]);if(V)for(var d of V(u))R.call(u,d)&&I(v,d,u[d]);return v},U=(v,u)=>O(v,j(u));var x=(v,u,d)=>new Promise((s,r)=>{var n=f=>{try{b(d.next(f))}catch(h){r(h)}},F=f=>{try{b(d.throw(f))}catch(h){r(h)}},b=f=>f.done?s(f.value):Promise.resolve(f.value).then(n,F);b((d=d.apply(v,u)).next())});import{d as N,r as D,l as K,o as l,c as i,f as e,w as g,N as M,u as p,s as T,j as L,y as w,k as Q,h as c,F as E,e as C,g as $,T as W,t as P,p as J,q as X,O as Y,i as A,_ as z,z as Z,P as ee,Q as se,M as te,R as ae,A as oe}from"./index.js?v=bd1b282f";const o=v=>(J("data-v-6cbcd95a"),v=v(),X(),v),le={class:"form-item"},ie=o(()=>e("div",{class:"label-name"},[e("span",null,"\u542F\u7528Wi-Fi")],-1)),ne={class:"label-value"},de={class:"label-flex"},ue=["disabled"],ce=["disabled"],ve={class:"form-item"},_e=o(()=>e("div",{class:"label-name"},[e("span",null,"Wi-Fi\u540D\u79F0\uFF08SSID\uFF09")],-1)),re={class:"label-value"},pe=["disabled"],be={class:"form-item"},he=o(()=>e("div",{class:"label-name"},[e("span",null,"Wi-Fi \u5B89\u5168\u6027")],-1)),fe={class:"label-value"},me=["disabled"],ye=Y('<option value="none" data-v-6cbcd95a>OPEN</option><option value="psk2" data-v-6cbcd95a>WPA2-PSK</option><option value="psk-mixed" data-v-6cbcd95a>WPA/WPA2-PSK</option><option value="sae" data-v-6cbcd95a>WPA3-SAE</option><option value="sae-mixed" data-v-6cbcd95a>WPA2-PSK/WPA3-SEA</option>',5),ge=[ye],Fe={class:"form-item"},xe=o(()=>e("div",{class:"label-name"},[e("span",null,"Wi-Fi \u5BC6\u7801")],-1)),we={class:"label-value"},ke=["type","disabled"],Se=["src"],De={class:"form-item"},Ee=o(()=>e("div",{class:"label-name"},[e("span",null,"SSID \u53EF\u89C1\u6027")],-1)),Ae={class:"label-value"},Be=["disabled"],We=o(()=>e("option",{value:!1},"\u663E\u793A",-1)),Ce=o(()=>e("option",{value:!0},"\u9690\u85CF",-1)),Pe=[We,Ce],Ve={key:0,class:"form-item"},Ie=o(()=>e("div",{class:"label-name"},[e("span",null,"\u53D1\u5C04\u529F\u7387")],-1)),Ge={class:"label-value"},Ue=["disabled"],Me=o(()=>e("option",{value:100},"\u6700\u5927",-1)),Te=o(()=>e("option",{value:70},"\u9AD8",-1)),Ne=o(()=>e("option",{value:50},"\u4E2D",-1)),$e=o(()=>e("option",{value:30},"\u4F4E",-1)),ze=[Me,Te,Ne,$e],qe={key:1,class:"form-item"},Oe=o(()=>e("div",{class:"label-name"},[e("span",null,"\u65E0\u7EBF\u6A21\u5F0F")],-1)),je={class:"label-value"},He=["disabled"],Re={key:0,value:"11n/ax"},Ke={key:1,value:"11g/n/ax"},Le={key:2,value:"11b/g/n/ax"},Qe={key:3,value:"11b/g/n"},Je={key:4,value:"11ac/ax"},Xe={key:5,value:"11n/ac/ax"},Ye={key:6,value:"11a/n/ac/ax"},Ze={key:7,value:"11a/n/ac"},es={key:2,class:"form-item"},ss=o(()=>e("div",{class:"label-name"},[e("span",null,"\u9891\u5BBD")],-1)),ts={class:"label-value"},as=["disabled"],os=o(()=>e("option",{value:"20"},"20 MHz",-1)),ls=o(()=>e("option",{value:"40"},"40 MHz",-1)),is={key:0,value:"auto"},ns={key:1,value:"80"},ds={key:2,value:"160"},us={key:3,class:"form-item"},cs=o(()=>e("div",{class:"label-name"},[e("span",null,"\u4FE1\u9053")],-1)),vs={class:"label-value"},_s=["disabled"],rs=o(()=>e("option",{value:0},"\u81EA\u52A8",-1)),ps=["value"],bs=["disabled"],hs=o(()=>e("option",{value:0},"\u81EA\u52A8",-1)),fs=o(()=>e("option",{value:36},"36",-1)),ms=o(()=>e("option",{value:40},"40",-1)),ys=o(()=>e("option",{value:44},"44",-1)),gs=o(()=>e("option",{value:48},"48",-1)),Fs=o(()=>e("option",{value:52},"52(DFS)",-1)),xs=o(()=>e("option",{value:56},"56(DFS)",-1)),ws=o(()=>e("option",{value:60},"60(DFS)",-1)),ks=o(()=>e("option",{value:64},"64(DFS)",-1)),Ss=o(()=>e("option",{value:149},"149",-1)),Ds=o(()=>e("option",{value:153},"153",-1)),Es=o(()=>e("option",{value:157},"157",-1)),As=o(()=>e("option",{value:161},"161",-1)),Bs=[hs,fs,ms,ys,gs,Fs,xs,ws,ks,Ss,Ds,Es,As],Ws={class:"label-btns"},Cs=["disabled"],Ps="/luci-static/istorex/icon/eye-close.png",Vs="/luci-static/istorex/icon/eye-on.png",Is=N({__name:"form",props:{data:{type:null,required:!0}},emits:["getData"],setup(v,{emit:u}){const d=v,s=D(Object.assign({},d.data)),r=u,n=K("disabled"),F=D(!0),b=()=>x(this,null,function*(){if(s.value.txpower===d.data.txpower)return;const{data:m}=yield A.Wireless.Power.POST({device:s.value.device||"",txpower:s.value.txpower||0}),{error:a}=m;if(a)throw a}),f=()=>x(this,null,function*(){if(s.value.disabled===d.data.disabled)return;const{data:m}=yield A.Wireless.Switch.POST({ifaceName:s.value.ifaceName||"",enable:!s.value.disabled}),{error:a}=m;if(a)throw a}),h=()=>x(this,null,function*(){const{data:m}=yield A.Wireless.Edit.POST(s.value),{error:a,success:t}=m;if(a)throw a;(t==null||t==0)&&W.Success("\u914D\u7F6E\u5B8C\u6210")}),k=()=>x(this,null,function*(){if(n.value)return;n.value=!0;const m=W.Loading("\u914D\u7F6E\u4E2D...");try{yield b(),yield h(),yield f(),yield r("getData")}catch(a){W.Error(`${a}`)}finally{m.Close(),n.value=!1}});return(m,a)=>(l(),i("form",{class:"form-container",onSubmit:$(k,["prevent"])},[e("div",le,[ie,e("div",ne,[e("div",de,[e("label",null,[g(e("input",{type:"radio",value:!1,"onUpdate:modelValue":a[0]||(a[0]=t=>s.value.disabled=t),disabled:p(n)},null,8,ue),[[M,s.value.disabled]]),T(" \u5F00\u542F ")]),e("label",null,[g(e("input",{type:"radio",value:!0,"onUpdate:modelValue":a[1]||(a[1]=t=>s.value.disabled=t),disabled:p(n)},null,8,ce),[[M,s.value.disabled]]),T(" \u5173\u95ED ")])])])]),e("div",ve,[_e,e("div",re,[g(e("input",{"onUpdate:modelValue":a[2]||(a[2]=t=>s.value.ssid=t),disabled:p(n),placeholder:"\u8BF7\u8F93\u5165WIFI\u540D\u79F0"},null,8,pe),[[L,s.value.ssid]])])]),e("div",be,[he,e("div",fe,[g(e("select",{"onUpdate:modelValue":a[3]||(a[3]=t=>s.value.encryption=t),disabled:p(n)},[...ge],8,me),[[w,s.value.encryption]])])]),e("div",Fe,[xe,e("div",we,[g(e("input",{"onUpdate:modelValue":a[4]||(a[4]=t=>s.value.key=t),type:F.value?"password":"",disabled:p(n),placeholder:"\u8BF7\u8F93\u5165WIFI\u5BC6\u7801"},null,8,ke),[[Q,s.value.key]]),p(n)?c("v-if",!0):(l(),i("img",{key:0,class:"seeIcon",src:F.value?Vs:Ps,onClick:a[5]||(a[5]=t=>F.value=!F.value)},null,8,Se))])]),e("div",De,[Ee,e("div",Ae,[g(e("select",{"onUpdate:modelValue":a[6]||(a[6]=t=>s.value.hidden=t),disabled:p(n)},[...Pe],8,Be),[[w,s.value.hidden]])])]),s.value.isGuest?c("v-if",!0):(l(),i("div",Ve,[Ie,e("div",Ge,[g(e("select",{"onUpdate:modelValue":a[7]||(a[7]=t=>s.value.txpower=t),disabled:p(n)},[...ze],8,Ue),[[w,s.value.txpower]])])])),s.value.isGuest?c("v-if",!0):(l(),i("div",qe,[Oe,e("div",je,[g(e("select",{"onUpdate:modelValue":a[8]||(a[8]=t=>s.value.hwmode=t),disabled:p(n)},[s.value.band==="2g"?(l(),i("option",Re," 11n/ax ")):c("v-if",!0),s.value.band==="2g"?(l(),i("option",Ke," 11g/n/ax ")):c("v-if",!0),s.value.band==="2g"?(l(),i("option",Le," 11b/g/n/ax ")):c("v-if",!0),s.value.band==="2g"?(l(),i("option",Qe," 11b/g/n ")):c("v-if",!0),s.value.band==="5g"?(l(),i("option",Je," 11ac/ax ")):c("v-if",!0),s.value.band==="5g"?(l(),i("option",Xe," 11n/ac/ax ")):c("v-if",!0),s.value.band==="5g"?(l(),i("option",Ye," 11a/n/ac/ax ")):c("v-if",!0),s.value.band==="5g"?(l(),i("option",Ze," 11b/g/n ")):c("v-if",!0)],8,He),[[w,s.value.hwmode]])])])),s.value.isGuest?c("v-if",!0):(l(),i("div",es,[ss,e("div",ts,[g(e("select",{"onUpdate:modelValue":a[9]||(a[9]=t=>s.value.htmode=t),disabled:p(n)},[os,ls,s.value.band==="2g"?(l(),i("option",is," 20/40 MHz ")):c("v-if",!0),s.value.band==="5g"?(l(),i("option",ns," 80 MHz ")):c("v-if",!0),s.value.band==="5g"?(l(),i("option",ds," 160 MHz ")):c("v-if",!0)],8,as),[[w,s.value.htmode]])])])),s.value.isGuest?c("v-if",!0):(l(),i("div",us,[cs,e("div",vs,[s.value.band==="2g"?g((l(),i("select",{key:0,"onUpdate:modelValue":a[10]||(a[10]=t=>s.value.channel=t),disabled:p(n)},[rs,(l(),i(E,null,C(13,t=>e("option",{value:t},P(t),9,ps)),64))],8,_s)),[[w,s.value.channel]]):c("v-if",!0),s.value.band==="5g"?g((l(),i("select",{key:1,"onUpdate:modelValue":a[11]||(a[11]=t=>s.value.channel=t),disabled:p(n)},[...Bs],8,bs)),[[w,s.value.channel]]):c("v-if",!0)])])),e("div",Ws,[e("button",{class:"sumit btn primary-btn",disabled:p(n),onClick:k},"\u4FDD\u5B58\u914D\u7F6E",8,Cs)])],32))}});var Gs=z(Is,[["__scopeId","data-v-6cbcd95a"],["__file","/projects/github/linkease/istorex/web/src/pages/router/wireless/form.vue"]]);const Us={id:"page",class:"page-container"},Ms={class:"page-flex"},Ts={class:"page-sidebar"},Ns=["onClick"],$s={class:"page-main"},zs=N({__name:"index",setup(v){return x(this,null,function*(){var a;let u,d;const s=D(!1);Z("disabled",s);const r=D([]),n=ee(),F=se(),b=D(String((a=n==null?void 0:n.query)==null?void 0:a.tab)),f=t=>{var S;return t.band==="2g"?"2.4G":(S=t.band)==null?void 0:S.toUpperCase()},h=t=>t.isGuest?t.band+"_Guest":t.band,k=t=>{s.value||(b.value=h(t),b.value!==n.query.tab&&F.push({query:{tab:b.value}}))},m=()=>x(this,null,function*(){try{const{data:t}=yield A.Wireless.List.GET(),{error:S,result:_}=t;if(S)throw S;_!=null&&_.ifaces&&(r.value=_.ifaces.map(y=>U(G({},y),{hidden:y.hidden||!1,disabled:y.disabled||!1,isGuest:y.isGuest||!1,channel:y.channel||0,txpower:y.txpower||0})));let B=!1;for(let y=0;y<r.value.length;y++)if(h(r.value[y])===b.value){k(r.value[y]),B=!0;break}!B&&r.value.length>0&&k(r.value[0])}catch(t){console.log(t)}});return[u,d]=te(()=>m()),yield u,d(),(t,S)=>(l(),i("div",Us,[e("div",Ms,[e("div",Ts,[(l(!0),i(E,null,C(r.value,_=>(l(),i("div",{key:h(_),class:ae(b.value===h(_)?"item activeItem":"item"),onClick:$(B=>k(_),["stop"])},P(f(_))+" "+P(_.isGuest?" \u8BBF\u5BA2":"")+" Wi-Fi ",11,Ns))),128))]),e("div",$s,[(l(!0),i(E,null,C(r.value,_=>(l(),i(E,{key:h(_)},[b.value===h(_)?(l(),oe(Gs,{key:0,data:_,onGetData:m},null,8,["data"])):c("v-if",!0)],64))),128))])])]))})}});var js=z(zs,[["__file","/projects/github/linkease/istorex/web/src/pages/router/wireless/index.vue"]]);export{js as default};
