var be=Object.defineProperty,ye=Object.defineProperties;var ge=Object.getOwnPropertyDescriptors;var de=Object.getOwnPropertySymbols;var Be=Object.prototype.hasOwnProperty,Ce=Object.prototype.propertyIsEnumerable;var _e=(n,t,u)=>t in n?be(n,t,{enumerable:!0,configurable:!0,writable:!0,value:u}):n[t]=u,pe=(n,t)=>{for(var u in t||(t={}))Be.call(t,u)&&_e(n,u,t[u]);if(de)for(var u of de(t))Ce.call(t,u)&&_e(n,u,t[u]);return n},ve=(n,t)=>ye(n,ge(t));var E=(n,t,u)=>new Promise((F,i)=>{var D=c=>{try{r(u.next(c))}catch(s){i(s)}},h=c=>{try{r(u.throw(c))}catch(s){i(s)}},r=c=>c.done?F(c.value):Promise.resolve(c.value).then(D,h);r((u=u.apply(n,t)).next())});import{_ as A,o as _,c as v,r as w,a as V,b as $e,d as N,F as k,e as Y,f as e,w as y,v as Ie,g as M,h as b,i as $,t as x,j as I,k as xe,T as C,l as R,m as Ae,n as Se,u as m,p as Z,q as ee,s as J,x as U,y as K,z as j,A as H,B as Q,C as fe,D as Pe,E as Ne,G as Fe,H as z,S as We}from"./index.js?v=bd1b282f";const Ue={},Ve={class:""};function Le(n,t){return _(),v("div",Ve)}var Te=A(Ue,[["render",Le],["__file","/projects/github/linkease/istorex/web/src/components/guideWifi/load.vue"]]),B=(n=>(n.wifi="wifi",n.wifiStatus="wifiStatus",n.status="status",n.network="network",n.networkLoad="networkLoad",n.networkPppoe="networkPppoe",n.networkDhcp="networkDhcp",n.networkDns="networkDns",n))(B||{});const q=w(!1),S=w(),De=w([]),he=Symbol("ifaces"),Ge=V(()=>De.value),me=Symbol("network"),we=w(),Me=V(()=>we.value),je=Symbol("ports"),W=w([]),qe=V(()=>W.value),ke=Symbol("isWan"),He=V(()=>{for(let n=0;n<W.value.length;n++)if(W.value[n].linkState!=="DOWN"){for(let t=0;t<W.value[n].interfaceNames.length;t++)if(W.value[n].interfaceNames[t]==="wan")return!0}return!1}),Oe=()=>{q.value=!1},ze=()=>{S.value="wifi"},Re=n=>{De.value=n,S.value="wifiStatus"},Je=(n,t)=>{W.value=t,we.value=n,S.value="network"},P=()=>{S.value="networkLoad"},X=()=>{Oe(),$e.push({path:"/router/network"})},Ke=()=>{S.value="networkDns"},Qe=()=>{S.value="networkDhcp"},Xe=()=>{S.value="networkPppoe"},Ye=e("div",{class:"form-item"},[e("div",{class:"form-item_desc"}," \u8BBE\u5B9A\u552F\u4E00\u7684\u540D\u79F0\u6216SSID\uFF08Service Set Identifier\uFF09\u65B9\u4FBF\u8FA8\u8BC6\u60A8\u7684\u65E0\u7EBF\u7F51\u7EDC ")],-1),Ze={class:"form-item"},et={class:"form-item_title"},tt={class:"form-item_conn"},st=["placeholder","onInput","onUpdate:modelValue","disabled"],ut={class:"form-item"},at={class:"form-item_title"},nt={class:"form-item_conn"},ot=["type","placeholder","onInput","onUpdate:modelValue","disabled"],lt=["src"],it={class:"form-item"},ct=["value"],rt=e("span",null,"\u540C\u6B65\u8BBE\u5B9A WIFI \u540D\u79F0\u53CA\u5BC6\u7801",-1),dt=e("div",{class:"",style:{height:"36px"}},null,-1),_t={class:"form-item"},pt={class:"form-item_actions"},vt=["disabled"],Ft="/luci-static/istorex/icon/eye-close.png",ft="/luci-static/istorex/icon/eye-on.png",Dt=N({__name:"wifi",setup(n){const t=w(!1),u=w([]),F=w(!0),i=w(!1),D=w(!1);(()=>E(this,null,function*(){D.value=!0;try{const{data:a}=yield $.Wireless.List.GET(),{error:d,result:o}=a;if(d)throw d;o!=null&&o.ifaces&&(u.value=o.ifaces.filter(p=>!p.isGuest).map(p=>ve(pe({},p),{hidden:p.hidden||!1,disabled:p.disabled||!1,isGuest:p.isGuest||!1,channel:p.channel||0,txpower:p.txpower||0})))}catch(a){console.log(a)}finally{D.value=!1}}))();const r=a=>{var d;return a.band==="2g"?"2.4G":(d=a.band)==null?void 0:d.toUpperCase()},c=(a,d)=>{var o;if(!!F.value&&d.band==="2g")for(let p=0;p<u.value.length;p++){const f=u.value[p];f.band!=="2g"&&!f.isGuest&&(u.value[p].ssid=`${d.ssid}_${(o=f.band)==null?void 0:o.toUpperCase()}`)}},s=(a,d)=>{if(!!F.value&&d.band==="2g")for(let o=0;o<u.value.length;o++){const p=u.value[o];p.band!=="2g"&&!p.isGuest&&(u.value[o].key=d.key)}},l=()=>E(this,null,function*(){if(t.value)return;t.value=!0;const a=C.Loading("\u914D\u7F6E\u4E2D...");try{const d={};for(let p=0;p<u.value.length;p++){const f=u.value[p];f.ifaceName&&(f.hidden=!1,f.disabled=!1,f.encryption="psk2",d[f.ifaceName]=f)}const{data:o}=yield $.Wireless.Setup.POST(d);if(o!=null&&o.error)throw o.error;Re(u.value)}catch(d){C.Error(`${d}`)}finally{a.Close(),t.value=!1}});return(a,d)=>D.value?b("v-if",!0):(_(),v("form",{key:0,onSubmit:M(l,["prevent"])},[Ye,(_(!0),v(k,null,Y(u.value,(o,p)=>(_(),v(k,{key:p},[e("div",Ze,[e("div",et,[e("span",null,x(r(o))+"Hz \u65E0\u7EBF\u540D\u79F0\uFF08SSID\uFF09",1)]),e("div",tt,[y(e("input",{type:"text",placeholder:`\u8BF7\u8F93\u5165 ${r(o)} WIFI \u540D\u79F0`,onInput:f=>c(f,o),"onUpdate:modelValue":f=>o.ssid=f,disabled:t.value,required:""},null,40,st),[[I,o.ssid,void 0,{trim:!0}]])])]),e("div",ut,[e("div",at,[e("span",null,x(r(o))+"Hz \u65E0\u7EBF\u5BC6\u7801",1)]),e("div",nt,[y(e("input",{type:i.value?"text":"password",placeholder:`\u8BF7\u8F93\u5165 ${r(o)} WIFI \u5BC6\u7801`,onInput:f=>s(f,o),"onUpdate:modelValue":f=>o.key=f,disabled:t.value,required:""},null,40,ot),[[xe,o.key,void 0,{trim:!0}]]),e("img",{class:"seeIcon",src:i.value?Ft:ft,onClick:d[0]||(d[0]=f=>i.value=!i.value)},null,8,lt)])])],64))),128)),e("div",it,[e("label",null,[y(e("input",{type:"checkbox","onUpdate:modelValue":d[1]||(d[1]=o=>F.value=o),value:!F.value},null,8,ct),[[Ie,F.value]]),rt])]),dt,e("div",_t,[e("div",pt,[e("button",{class:"submit",disabled:t.value},"\u4FDD\u5B58\u914D\u7F6E",8,vt)])])],32))}});var ht=A(Dt,[["__file","/projects/github/linkease/istorex/web/src/components/guideWifi/wifi.vue"]]);const O=n=>(Z("data-v-355ecd95"),n=n(),ee(),n),mt=O(()=>e("div",{class:"",style:{height:"36px"}},null,-1)),wt=O(()=>e("div",{class:"form-item"},[e("div",{class:"form-item_desc"}," \u8BF7\u5C06 WiFi \u94FE\u63A5\u5230\u65B0\u7684\u65E0\u7EBFSSID ")],-1)),kt={class:"form-item"},Et={class:"form-item_title"},bt={class:"form-item_conn"},yt=["placeholder","onUpdate:modelValue"],gt={class:"form-item"},Bt={class:"form-item_title"},Ct={class:"form-item_conn"},$t=["type","placeholder","value"],It=["src"],xt=O(()=>e("div",{class:"",style:{height:"36px"}},null,-1)),At={class:"form-item"},St={key:0,class:"form-item_msg",style:{"text-align":"center"}},Pt=O(()=>e("div",{class:"form-item_msg",style:{"text-align":"center"}}," WiFi \u94FE\u63A5\u6210\u529F ",-1)),Nt="/luci-static/istorex/icon/eye-close.png",Wt="/luci-static/istorex/icon/eye-on.png",Ut=N({__name:"wifiStatus",setup(n){const t=R(he),u=w(!1),F=s=>{var l;return s.band==="2g"?"2.4G":(l=s.band)==null?void 0:l.toUpperCase()},i=w(!1),D=()=>E(this,null,function*(){if(!i.value)try{const{data:s}=yield $.Wireless.List.GET(),{error:l,result:a}=s;if(l)throw l;i.value=!0}catch(s){console.log(s)}finally{}}),h=()=>E(this,null,function*(){P()});let r;const c=()=>{r&&clearInterval(r)};return Ae(()=>{setTimeout(()=>{D(),r=setInterval(()=>{D()},1e3)},3e3)}),Se(()=>{c()}),(s,l)=>(_(),v("form",{onSubmit:M(()=>{},["prevent"])},[mt,wt,(_(!0),v(k,null,Y(m(t),(a,d)=>(_(),v(k,{key:d},[e("div",kt,[e("div",Et,[e("span",null,x(F(a))+"Hz \u65E0\u7EBF\u540D\u79F0\uFF08SSID\uFF09",1)]),e("div",bt,[y(e("input",{type:"text",placeholder:`\u8BF7\u8F93\u5165 ${F(a)} WIFI \u540D\u79F0`,"onUpdate:modelValue":o=>a.ssid=o,disabled:"",required:""},null,8,yt),[[I,a.ssid,void 0,{trim:!0}]])])]),e("div",gt,[e("div",Bt,[e("span",null,x(F(a))+"Hz \u65E0\u7EBF\u5BC6\u7801",1)]),e("div",Ct,[e("input",{type:u.value?"text":"password",placeholder:`\u8BF7\u8F93\u5165 ${F(a)} WIFI \u5BC6\u7801`,value:a.key,disabled:"",required:""},null,8,$t),e("img",{class:"seeIcon",src:u.value?Nt:Wt,onClick:l[0]||(l[0]=o=>u.value=!u.value)},null,8,It)])])],64))),128)),xt,e("div",At,[i.value?(_(),v(k,{key:1},[Pt,e("div",{class:"form-item_actions"},[e("button",{class:"submit",type:"button",onClick:h},"\u4E0B\u4E00\u6B65")])],64)):(_(),v("div",St," \u7B49\u5F85 WiFi \u94FE\u63A5\u4E2D... "))])],32))}});var Vt=A(Ut,[["__scopeId","data-v-355ecd95"],["__file","/projects/github/linkease/istorex/web/src/components/guideWifi/wifiStatus.vue"]]);const g=n=>(Z("data-v-3a156e70"),n=n(),ee(),n),Lt={class:"network"},Tt={class:"text-container"},Gt={class:"text-container_item"},Mt=g(()=>e("div",{class:"text-container_item_title"},[e("span",null,"\u8054\u7F51\u72B6\u6001:")],-1)),jt={class:"text-container_item_value"},qt={key:0},Ht={key:1},Ot={key:2},zt={key:3},Rt={key:4},Jt={class:"text-container_item"},Kt=g(()=>e("div",{class:"text-container_item_title"},[e("span",null,"\u8FDE\u63A5\u65B9\u5F0F:")],-1)),Qt={class:"text-container_item_value"},Xt={class:"text-container_item"},Yt=g(()=>e("div",{class:"text-container_item_title"},[e("span",null,"\u8054\u7F51\u65B9\u5F0F:")],-1)),Zt={class:"text-container_item_value"},es={class:"text-container_item"},ts=g(()=>e("div",{class:"text-container_item_title"},[e("span",null,"IPv4\u5730\u5740:")],-1)),ss={class:"text-container_item_value"},us={key:0,class:"text-container_item"},as=g(()=>e("div",{class:"text-container_item_title"},[e("span",null,"IPv6\u5730\u5740:")],-1)),ns={class:"text-container_item_value"},os={class:"text-container_item"},ls=g(()=>e("div",{class:"text-container_item_title"},[e("span",null,"DNS:")],-1)),is={class:"text-container_item_value"},cs={style:{width:"100%",display:"block"}},rs={class:"text-container_item"},ds=g(()=>e("div",{class:"text-container_item_title"},[e("span")],-1)),_s={class:"text-container_item_value"},ps={key:0,class:"manual-desc"},vs=g(()=>e("span",null,"\u65E0\u6CD5\u68C0\u6D4B\u5230\u7F51\u7EDC,\u53EF\u4EE5\u5230",-1)),Fs=g(()=>e("span",null,"\u627E\u5230\u66F4\u591A\u914D\u7F6E",-1)),fs={key:1,class:"manual-desc"},Ds=g(()=>e("span",null,"\u65E0\u6CD5\u8FDE\u63A5\u7F51\u7EDC\uFF0C\u68C0\u6D4B\u5230\u60A8\u7684 WAN \u53E3\u7F51\u7EBF\u672A\u63A5\u5165\uFF0C\u8BF7\u63A5\u5165\u540E\u91CD\u8BD5",-1)),hs=[Ds],ms=g(()=>e("div",{class:"manual-label"},[e("span",null,"\u4F7F\u7528\u4EE5\u4E0B\u65B9\u5F0F\u914D\u7F6E\u60A8\u7684\u7F51\u7EDC:")],-1)),ws=g(()=>e("span",null,"\u66F4\u591A\u8054\u7F51\u65B9\u5F0F\u8BF7\u524D\u5F80",-1)),ks=g(()=>e("span",null,"\u8F6F\u4EF6\u6E90\u9519\u8BEF,\u53EF\u4EE5\u5230",-1)),Es=g(()=>e("span",null,"\u627E\u5230\u66F4\u591A\u914D\u7F6E",-1)),bs=g(()=>e("div",{class:"manual-label"},[e("span",null,"\u4F7F\u7528\u4EE5\u4E0B\u65B9\u5F0F\u914D\u7F6E\u60A8\u7684\u7F51\u7EDC:")],-1)),ys=g(()=>e("span",null,"\u66F4\u591A\u8054\u7F51\u65B9\u5F0F\u8BF7\u524D\u5F80",-1)),gs=g(()=>e("div",{class:"manual-desc"},[e("span",null,"\u65E0\u6CD5\u8FDE\u63A5\u7F51\u7EDC\uFF0CDNS \u9519\u8BEF\uFF0C\u8BF7\u624B\u52A8\u8BBE\u7F6E DNS")],-1)),Bs=N({__name:"network",setup(n){const t=d=>d.toUpperCase(),u=d=>{switch(d){case"pppoe":return"\u62E8\u53F7\u4E0A\u7F51";case"static":return"\u9759\u6001\u7F51\u7EDC";case"dhcp":return"DHCP"}},F=d=>{switch(d){case"manual":return"\u624B\u52A8\u914D\u7F6E";case"auto":return"\u81EA\u52A8\u83B7\u53D6";default:return""}},i=R(me);console.log(i==null?void 0:i.value);const D=R(ke),h=()=>{X()},r=()=>{Ke()},c=()=>{Xe()},s=()=>{Qe()},l=()=>{P()},a=()=>{X()};return(d,o)=>{var p,f,L,T,G,te,se,ue,ae,ne,oe,le,ie,ce,re;return _(),v("div",Lt,[b(" \u5DF2\u94FE\u63A5\u4E92\u8054\u7F51 "),e("div",Tt,[e("div",Gt,[Mt,e("div",jt,[((p=m(i))==null?void 0:p.networkInfo)=="netSuccess"?(_(),v("span",qt," \u5DF2\u8054\u7F51 ")):((f=m(i))==null?void 0:f.networkInfo)=="dnsFailed"?(_(),v("span",Ht," DNS\u9519\u8BEF,\u8BF7\u624B\u52A8\u8BBE\u7F6EDNS ")):((L=m(i))==null?void 0:L.networkInfo)=="softSourceFailed"?(_(),v("span",Ot," \u8F6F\u4EF6\u6E90\u89E3\u6790\u9519\u8BEF ")):((T=m(i))==null?void 0:T.networkInfo)=="netFailed"?(_(),v("span",zt," \u672A\u8054\u7F51 ")):(_(),v("span",Rt," \u68C0\u6D4B\u4E2D "))])]),e("div",Jt,[Kt,e("div",Qt,x(t(((G=m(i))==null?void 0:G.defaultInterface)||"")),1)]),e("div",Xt,[Yt,e("div",Zt,x(u(((te=m(i))==null?void 0:te.proto)||"")),1)]),e("div",es,[ts,e("div",ss,x((se=m(i))==null?void 0:se.ipv4addr),1)]),(ue=m(i))!=null&&ue.ipv6addr?(_(),v("div",us,[as,e("div",ns,x(m(i).ipv6addr),1)])):b("v-if",!0),e("div",os,[ls,e("div",is,[e("p",null,x(F((ae=m(i))==null?void 0:ae.dnsProto)),1),e("p",cs,x((oe=(ne=m(i))==null?void 0:ne.dnsList)==null?void 0:oe.join(", ")),1)])]),e("div",rs,[ds,e("div",_s,[b(" \u5982\u679C\u672A\u8054\u7F51 "),((le=m(i))==null?void 0:le.networkInfo)=="netFailed"?(_(),v(k,{key:0},[m(D)?(_(),v("div",ps,[vs,J(),e("a",{onClick:h},"\u7F51\u7EDC\u914D\u7F6E"),Fs])):(_(),v("div",fs,[...hs])),e("div",{class:"network-actions"},[e("button",{onClick:l,class:"reload"},"\u91CD\u8BD5")]),m(D)?(_(),v(k,{key:2},[ms,e("div",{class:"manual-links"},[e("li",null,[e("a",{onClick:c},"\u5BBD\u5E26\u62E8\u53F7(PPPOE)")]),e("li",null,[e("a",{onClick:s},"\u8FDE\u63A5\u5230\u73B0\u6709\u8DEF\u7531\u5668(DHCP)")]),e("li",null,[ws,e("a",{onClick:h},"\u7F51\u7EDC\u914D\u7F6E")])])],64)):b("v-if",!0)],64)):((ie=m(i))==null?void 0:ie.networkInfo)=="softSourceFailed"?(_(),v(k,{key:1},[b(" \u8F6F\u4EF6\u6E90\u9519\u8BEF "),e("div",{class:"manual-desc"},[ks,J(),e("a",{onClick:h},"\u7F51\u7EDC\u914D\u7F6E"),Es]),e("div",{class:"network-actions"},[e("button",{onClick:l,class:"reload"},"\u91CD\u8BD5")]),m(D)?(_(),v(k,{key:0},[bs,e("div",{class:"manual-links"},[e("li",null,[e("a",{onClick:c},"\u5BBD\u5E26\u62E8\u53F7(PPPOE)")]),e("li",null,[e("a",{onClick:s},"\u8FDE\u63A5\u5230\u73B0\u6709\u8DEF\u7531\u5668(DHCP)")]),e("li",null,[ys,e("a",{onClick:h},"\u7F51\u7EDC\u914D\u7F6E")])])],64)):b("v-if",!0)],64)):((ce=m(i))==null?void 0:ce.networkInfo)=="netSuccess"?(_(),v(k,{key:2},[b(" \u5DF2\u8054\u7F51 "),b(` <div class="manual-desc">
                            <span>\u5DF2\u6210\u529F\u8FDE\u63A5\u5230\u4E92\u8054\u7F51,\u60A8\u4E5F\u53EF\u4EE5\u5230</span> <a @click="hanldeToManual">\u7F51\u7EDC\u914D\u7F6E</a><span>\u627E\u5230\u66F4\u591A\u914D\u7F6E</span>
                        </div> `),e("div",{class:"network-actions"},[e("button",{class:"close",onClick:a},"\u5173\u95ED")])],64)):((re=m(i))==null?void 0:re.networkInfo)=="dnsFailed"?(_(),v(k,{key:3},[b(" dns\u9519\u8BEF "),gs,e("div",{class:"network-actions"},[e("button",{class:"close",onClick:r},"DNS\u914D\u7F6E"),e("button",{onClick:l,class:"reload"},"\u91CD\u8BD5")])],64)):(_(),v(k,{key:4},[b(" \u68C0\u6D4B\u4E2D "),e("div",{class:"network-actions"},[e("button",{onClick:l,class:"reload"},"\u91CD\u8BD5")])],64))])])])])}}});var Cs=A(Bs,[["__scopeId","data-v-3a156e70"],["__file","/projects/github/linkease/istorex/web/src/components/guideWifi/network.vue"]]);const Ee=n=>(Z("data-v-584fef14"),n=n(),ee(),n),$s={class:"network"},Is=Ee(()=>e("div",{class:"network-desc"}," \u8FDE\u63A5\u7F51\u7EDC\u8D85\u65F6 ",-1)),xs=Ee(()=>e("br",null,null,-1)),As=N({__name:"networkLoad",setup(n){const t=w(),u=w(!0),F=w(!1),i=o=>E(this,null,function*(){yield new Promise(p=>{setTimeout(()=>{p()},o)})});let D=0;const h=()=>E(this,null,function*(){D<5?(yield i(3e3),yield l(),D++):F.value=!0}),r=w([]),c=()=>E(this,null,function*(){const{data:o}=yield $.Network.PortList.GET(),{result:p,error:f}=o;if(f)throw f;r.value=(p==null?void 0:p.ports)||[]}),s=()=>E(this,null,function*(){var o,p;try{const{data:f}=yield $.Network.Status.SetupFinish();if(f.result)switch(t.value=f.result,((o=t.value)==null?void 0:o.networkInfo)==="netFailed"&&(yield c()),(p=t.value)==null?void 0:p.networkInfo){case"netFailed":case"netSuccess":case"dnsFailed":case"softSourceFailed":Je(t.value,r.value);break;default:yield h()}else yield h()}catch(f){}}),l=()=>E(this,null,function*(){try{C.Clear()}catch(p){}u.value=!0;const o=C.Loading("\u6B63\u5728\u68C0\u6D4B\u7F51\u7EDC");try{yield s()}catch(p){}finally{o.Close(),u.value=!1}});l();const a=()=>E(this,null,function*(){F.value=!1,D=0,yield l()}),d=()=>{X()};return(o,p)=>(_(),v("div",$s,[F.value?(_(),v(k,{key:0},[Is,e("div",{class:"network-actions"},[e("button",{onClick:a,class:"reload"},"\u91CD\u8BD5"),J(),xs,e("button",{class:"close",onClick:d},"\u624B\u52A8\u914D\u7F6E")])],64)):b("v-if",!0)]))}});var Ss=A(As,[["__scopeId","data-v-584fef14"],["__file","/projects/github/linkease/istorex/web/src/components/guideWifi/networkLoad.vue"]]);const Ps=e("div",{class:"label-name"},[e("span",null,"DNS\u9009\u9879")],-1),Ns={class:"label-value"},Ws=e("option",{value:"auto"},"\u4F7F\u7528\u8FD0\u8425\u5546\u63D0\u4F9B\u7684DNS",-1),Us=e("option",{value:"manual"},"\u81EA\u5B9A\u4E49DNS",-1),Vs=[Ws,Us],Ls=e("div",{class:"label-name"},[e("span",null,"DNS\u670D\u52A1\u5668\u5730\u5740")],-1),Ts={class:"label-value"},Gs=e("div",{class:"label-name"}," \u5907\u7528DNS\u670D\u52A1\u5668\u5730\u5740 ",-1),Ms={class:"label-value"},js={class:"label-btns"},qs=["disabled"],Hs=["disabled"],Os=N({__name:"networkDns",setup(n){const t=U({interfaceName:"",dnsProto:"auto",manualDnsIp:[]}),u=U({dns1:"",dns2:""}),F=w(!1);(()=>E(this,null,function*(){F.value=!0;try{const r=yield $.Guide.DnsConfig.GET();if(r!=null&&r.data){const{result:c}=r.data;if(c){t.dnsProto=c.dnsProto,t.manualDnsIp=c.manualDnsIp||[];for(let s=0;s<t.manualDnsIp.length;s++){s==0?u.dns1=t.manualDnsIp[s]:s==1&&(u.dns2=t.manualDnsIp[s]);break}}}}catch(r){C.Error(`${r}`)}F.value=!1}))();const D=()=>E(this,null,function*(){let r={};switch(t.dnsProto){case"auto":break;case"manual":r.manualDnsIp=[],t.manualDnsIp!=null&&t.manualDnsIp.length>0?r.manualDnsIp=t.manualDnsIp:(r.manualDnsIp.push(u.dns1),u.dns2&&r.manualDnsIp.push(u.dns2));break}r.dnsProto=t.dnsProto,r.interfaceName=t.interfaceName;const c=C.Loading("\u914D\u7F6E\u4E2D...");try{const s=yield $.Guide.DnsConfig.POST(r);if(s!=null&&s.data){const{success:l,error:a}=s==null?void 0:s.data;if(a)throw a;(l==null||l==0)&&P()}}catch(s){C.Error(`${s}`)}c.Close()}),h=()=>{P()};return(r,c)=>(_(),v("form",{class:"form-container",onSubmit:M(D,["prevent"])},[Ps,e("div",Ns,[y(e("select",{"onUpdate:modelValue":c[0]||(c[0]=s=>t.dnsProto=s)},[...Vs],512),[[K,t.dnsProto]])]),t.dnsProto=="manual"?(_(),v(k,{key:0},[Ls,e("div",Ts,[y(e("input",{type:"text",placeholder:"\u8BF7\u8F93\u5165 dns \u5730\u5740","onUpdate:modelValue":c[1]||(c[1]=s=>u.dns1=s),required:""},null,512),[[I,u.dns1,void 0,{trim:!0}]])]),Gs,e("div",Ms,[y(e("input",{type:"text",placeholder:"\u8BF7\u8F93\u5165\u5907\u7528 dns \u5730\u5740","onUpdate:modelValue":c[2]||(c[2]=s=>u.dns2=s)},null,512),[[I,u.dns2,void 0,{trim:!0}]])])],64)):b("v-if",!0),e("div",js,[e("button",{class:"back",type:"button",onClick:h,disabled:F.value},"\u8FD4\u56DE",8,qs),e("button",{class:"sumbit",disabled:F.value},"\u4FDD\u5B58",8,Hs)])],32))}});var zs=A(Os,[["__file","/projects/github/linkease/istorex/web/src/components/guideWifi/networkDns.vue"]]);const Rs=e("div",{class:"label-info"}," \u8BF7\u786E\u4FDD\u60A8\u5DF2\u5C06\u8DEF\u7531 WAN \u53E3\u8FDE\u63A5\u5230\u4E0A\u7EA7\u8DEF\u7531\u5C40\u57DF\u7F51\uFF08 LAN \uFF09\u63A5\u53E3 ",-1),Js=e("div",{class:"label-name"},[e("span",null,"WAN \u63A5\u53E3\u914D\u7F6E\u65B9\u5F0F")],-1),Ks={class:"label-value"},Qs=e("option",{value:"dhcp"},"\u81EA\u52A8\u83B7\u53D6 IP \u5730\u5740\uFF08DHCP\uFF09",-1),Xs=e("option",{value:"static"},"\u9759\u6001 IP \u5730\u5740",-1),Ys=[Qs,Xs],Zs=e("div",{class:"label-name"},[e("span",null,"IP\u5730\u5740")],-1),eu={class:"label-value"},tu=e("div",{class:"label-name"},[e("span",null,"\u5B50\u7F51\u63A9\u7801")],-1),su={class:"label-value"},uu=e("div",{class:"label-name"},[e("span",null,"\u7F51\u5173\u5730\u5740")],-1),au={class:"label-value"},nu=e("div",{class:"label-name"},[e("span",null,"DNS \u914D\u7F6E\u65B9\u5F0F")],-1),ou={class:"label-value"},lu=e("option",{value:"auto"},"\u81EA\u52A8\u83B7\u53D6\uFF08DHCP\uFF09",-1),iu=e("option",{value:"manual"},"\u624B\u52A8\u914D\u7F6E",-1),cu=[lu,iu],ru=e("div",{class:"label-name"},[e("span",null,"DNS\u670D\u52A1\u5668")],-1),du={class:"label-value"},_u=["onUpdate:modelValue"],pu=e("div",{class:"label-name"},[e("span",null,"DNS\u670D\u52A1\u5668")],-1),vu={class:"label-value"},Fu=e("div",{class:"label-name"}," \u5907\u7528DNS\u670D\u52A1\u5668 ",-1),fu={class:"label-value"},Du={class:"label-btns"},hu=["disabled"],mu=["disabled"],wu=N({__name:"networkDhcp",setup(n){const t=U({enableLanDhcp:!1,wanProto:"dhcp",dnsProto:"auto",staticIp:"",subnetMask:"",manualDnsIp:[],gateway:""}),u=U({staticIP:""}),F=U({dnsAddr1:"",dnsAddr2:""}),i=w(!1);(()=>E(this,null,function*(){i.value=!0;try{const s=yield Promise.all([$.Guide.ClientModel.GET(),$.Network.Status.SetupFinish()]);if(s[0]){const l=s[0],{result:a,error:d}=l.data;if(a){const{wanProto:o,dnsProto:p,staticIp:f,subnetMask:L,gateway:T,manualDnsIp:G}=a;o&&(t.wanProto=o),p&&(t.dnsProto=p),f&&(t.staticIp=f),L&&(t.subnetMask=L),T&&(t.gateway=T),G&&(t.manualDnsIp=G||[])}if(d)throw d}if(s[1]){const l=s[1],{result:a,error:d}=l.data;if(a&&a.ipv4addr&&(u.staticIP=a.ipv4addr),d)throw d}}catch(s){C.Error(`${s}`)}i.value=!1}))();const h=s=>{s.target.value=="static"&&((t.staticIp==null||t.staticIp=="")&&(t.staticIp=u.staticIP),(t.subnetMask==null||t.subnetMask=="")&&(t.subnetMask="255.255.255.0"))},r=()=>E(this,null,function*(){const s={};switch(t.wanProto){case"dhcp":break;case"static":s.staticIp=t.staticIp,s.subnetMask=t.subnetMask,s.gateway=t.gateway||"";break}switch(t.dnsProto){case"auto":break;case"manual":s.manualDnsIp=[],t.manualDnsIp!=null&&t.manualDnsIp.length>0?s.manualDnsIp=t.manualDnsIp:(s.manualDnsIp.push(F.dnsAddr1),F.dnsAddr2&&s.manualDnsIp.push(F.dnsAddr2));break}s.dnsProto=t.dnsProto,s.wanProto=t.wanProto,i.value=!0;const l=C.Loading("\u4FDD\u5B58\u4E2D...");try{const a=yield $.Guide.ClientModel.POST(s);if(a!=null&&a.data){const{success:d,error:o}=a==null?void 0:a.data;if(o)throw o;(d==null||d==0)&&P()}}catch(a){C.Error(`${a}`)}i.value=!1,l.Close()}),c=()=>{P()};return(s,l)=>(_(),v("form",{class:"form-container",onSubmit:M(r,["prevent"])},[Rs,Js,e("div",Ks,[y(e("select",{"onUpdate:modelValue":l[0]||(l[0]=a=>t.wanProto=a),onInput:h},[...Ys],544),[[K,t.wanProto]])]),t.wanProto=="static"?(_(),v(k,{key:0},[Zs,e("div",eu,[y(e("input",{type:"text",placeholder:"ip\u5730\u5740","onUpdate:modelValue":l[1]||(l[1]=a=>t.staticIp=a),required:""},null,512),[[I,t.staticIp,void 0,{trim:!0}]])]),tu,e("div",su,[y(e("input",{type:"text",placeholder:"\u5B50\u7F51\u63A9\u7801\u5730\u5740","onUpdate:modelValue":l[2]||(l[2]=a=>t.subnetMask=a),required:""},null,512),[[I,t.subnetMask,void 0,{trim:!0}]])]),uu,e("div",au,[y(e("input",{type:"text",placeholder:"\u7F51\u5173\u5730\u5740","onUpdate:modelValue":l[3]||(l[3]=a=>t.gateway=a),required:""},null,512),[[I,t.gateway,void 0,{trim:!0}]])])],64)):b("v-if",!0),nu,e("div",ou,[y(e("select",{"onUpdate:modelValue":l[4]||(l[4]=a=>t.dnsProto=a)},[...cu],512),[[K,t.dnsProto]])]),t.dnsProto=="manual"?(_(),v(k,{key:1},[t.manualDnsIp!=null&&t.manualDnsIp.length>0?(_(!0),v(k,{key:0},Y(t.manualDnsIp,(a,d)=>(_(),v(k,null,[ru,e("div",du,[y(e("input",{type:"text",placeholder:"DNS\u670D\u52A1\u5668\u5730\u5740","onUpdate:modelValue":o=>t.manualDnsIp[d]=o},null,8,_u),[[I,t.manualDnsIp[d],void 0,{trim:!0}]])])],64))),256)):(_(),v(k,{key:1},[pu,e("div",vu,[y(e("input",{type:"text",placeholder:"\u4E3BDNS\u670D\u52A1\u5668\u5730\u5740","onUpdate:modelValue":l[5]||(l[5]=a=>F.dnsAddr1=a),required:""},null,512),[[I,F.dnsAddr1,void 0,{trim:!0}]])]),Fu,e("div",fu,[y(e("input",{type:"text",placeholder:"\u5907\u7528DNS\u670D\u52A1\u5668\u5730\u5740","onUpdate:modelValue":l[6]||(l[6]=a=>F.dnsAddr2=a)},null,512),[[I,F.dnsAddr2,void 0,{trim:!0}]])])],64))],64)):b("v-if",!0),e("div",Du,[e("button",{class:"back",type:"button",onClick:c,disabled:i.value},"\u8FD4\u56DE",8,hu),e("button",{class:"sumbit",disabled:i.value},"\u4FDD\u5B58",8,mu)])],32))}});var ku=A(wu,[["__file","/projects/github/linkease/istorex/web/src/components/guideWifi/networkDhcp.vue"]]);const Eu=e("div",{class:"label-info"}," \u8BF7\u786E\u4FDD\u60A8\u5DF2\u5C06\u8DEF\u7531 WAN \u53E3\u8FDE\u63A5\u5230\u5149\u732B ",-1),bu=e("div",{class:"label-name"},[e("span",null,"\u8D26\u53F7")],-1),yu={class:"label-value"},gu=e("div",{class:"label-name"},[e("span",null,"\u5BC6\u7801")],-1),Bu={class:"label-value"},Cu={class:"label-btns"},$u=["disabled"],Iu=["disabled"],xu=N({__name:"networkPppoe",setup(n){const t=U({account:"",password:""}),u=w(!1),F=w(!1);(()=>E(this,null,function*(){u.value=!0;try{const r=yield $.Guide.Pppoe.GET(),{result:c}=r.data;c&&(t.account=c.account||"",t.password=c.password||"")}catch(r){C.Error(`${r}`)}finally{}u.value=!1,F.value=!0}))();const D=()=>E(this,null,function*(){if(t.account==""){C.Warning("\u8D26\u53F7\u4E0D\u80FD\u4E3A\u7A7A");return}if(t.password==""){C.Warning("\u5BC6\u7801\u4E0D\u80FD\u4E3A\u7A7A");return}u.value=!0;const r=C.Loading("\u4FDD\u5B58\u4E2D...");try{const c=yield $.Guide.Pppoe.POST({account:t.account,password:t.password});if(c.data){const{error:s,success:l}=c.data;if(s)throw s;(l==null||l==0)&&P()}}catch(c){C.Error(`${c}`)}finally{}u.value=!1,r.Close()}),h=()=>{P()};return(r,c)=>(_(),v("form",{class:"form-container",onSubmit:M(D,["prevent"])},[Eu,bu,e("div",yu,[y(e("input",{type:"text",placeholder:"\u5BBD\u5E26\u8D26\u53F7","onUpdate:modelValue":c[0]||(c[0]=s=>t.account=s),required:""},null,512),[[I,t.account,void 0,{trim:!0}]])]),gu,e("div",Bu,[y(e("input",{type:"password",placeholder:"\u5BBD\u5E26\u5BC6\u7801","onUpdate:modelValue":c[1]||(c[1]=s=>t.password=s),required:""},null,512),[[I,t.password,void 0,{trim:!0}]])]),e("div",Cu,[e("button",{class:"back",type:"button",onClick:h,disabled:u.value},"\u8FD4\u56DE",8,$u),e("button",{class:"sumbit",disabled:u.value},"\u4FDD\u5B58",8,Iu)])],32))}});var Au=A(xu,[["__file","/projects/github/linkease/istorex/web/src/components/guideWifi/networkPppoe.vue"]]);const Su=N({__name:"index",setup(n){j(he,Ge),j(me,Me),j(je,qe),j(ke,He);const t=V(()=>{switch(S.value){case B.wifi:return ht;case B.wifiStatus:return Vt;case B.network:return Cs;case B.networkLoad:return Ss;case B.networkDns:return zs;case B.networkDhcp:return ku;case B.networkPppoe:return Au}return Te}),u=V(()=>{switch(S.value){case B.wifi:return"\u65E0\u7EBF\u7F51\u7EDC\u914D\u7F6E";case B.wifiStatus:return"\u65E0\u7EBF\u7F51\u7EDC\u72B6\u6001";case B.network:return"\u7F51\u7EDC\u72B6\u6001";case B.networkLoad:return"\u7F51\u7EDC\u68C0\u6D4B";case B.networkDns:return"DNS\u914D\u7F6E";case B.networkDhcp:return"DHCP\u914D\u7F6E";case B.networkPppoe:return"\u62E8\u53F7\u914D\u7F6E"}return""}),F=()=>E(this,null,function*(){try{const{data:D}=yield $.Guide.Setup.GET(),{result:h}=D;h&&h.need&&(q.value=!0,h.wifi?ze():P())}catch(D){console.log(D)}}),i=()=>{q.value=!1};return F(),(D,h)=>m(q)?(_(),H(Pe,{key:0,title:u.value,width:"860px",beforeClose:i},{default:Q(()=>[(_(),H(fe(t.value)))]),_:1},8,["title"])):b("v-if",!0)}});var Pu=A(Su,[["__scopeId","data-v-4a856d94"],["__file","/projects/github/linkease/istorex/web/src/components/guideWifi/index.vue"]]);const Nu={class:"body"},Wu=N({__name:"index",setup(n){const t=Ne();return(u,F)=>{const i=Fe("layout-header"),D=Fe("router-view");return _(),v("div",{id:"main",key:m(t).reloadCount},[e("div",Nu,[z(i),z(D,null,{default:Q(({Component:h,route:r})=>[(_(),H(We,null,{default:Q(()=>[(_(),H(fe(h),{key:r.path}))]),_:2},1024))]),_:1}),b(" <toips-vue /> "),z(Pu)])])}}});var Lu=A(Wu,[["__scopeId","data-v-fee719e0"],["__file","/projects/github/linkease/istorex/web/src/pages/router/index.vue"]]);export{Lu as default};
