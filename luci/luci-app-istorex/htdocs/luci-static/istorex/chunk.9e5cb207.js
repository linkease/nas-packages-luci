var S=(y,d,a)=>new Promise((c,i)=>{var o=s=>{try{n(a.next(s))}catch(e){i(e)}},f=s=>{try{n(a.throw(s))}catch(e){i(e)}},n=s=>s.done?c(s.value):Promise.resolve(s.value).then(o,f);n((a=a.apply(y,d)).next())});import{d as g,r as b,x as w,M as E,o as _,c as m,f as r,F as x,e as F,t as h,h as L,g as D,w as G,N as T,s as B,i as p,T as v}from"./index.js?v=9df63d42";const k=r("div",{class:"label-name"},[r("span",null,"\u9009\u62E9\u8F6F\u4EF6\u6E90 ")],-1),C={class:"label-value"},I={class:"label-flex"},N=["value"],V={class:"label-btns"},M=["disabled"],q={key:0,class:"label-msg"},P=g({__name:"index",setup(y){return S(this,null,function*(){let d,a;const c=b(!1),i=b(""),o=w({softsourceListIfo:[],softSource:{},currSoftSource:{}}),f=()=>S(this,null,function*(){var s,e,u;try{const t=yield p.Guide.SoftSourceList.GET();if((s=t==null?void 0:t.data)!=null&&s.result){const l=(e=t==null?void 0:t.data)==null?void 0:e.result;o.softsourceListIfo=l.softSourceList||[]}}catch(t){console.log(t)}try{const t=yield p.Guide.GetSoftSource.GET();if((u=t==null?void 0:t.data)!=null&&u.result){const l=t.data.result;o.softSource=l.softSource,o.currSoftSource=l.softSource}}catch(t){console.log(t)}});[d,a]=E(()=>f()),yield d,a();const n=()=>S(this,null,function*(){const s=v.Loading("\u6B63\u5728\u5207\u6362\u4E2D...");c.value=!0;try{const e=yield p.Guide.SoftSource.POST({softSourceIdentity:o.softSource.identity});if(e!=null&&e.data){const{result:u,error:t,success:l}=e.data;t&&v.Warning(t),(e.data.success||0)==0&&(v.Success("\u5207\u6362\u6210\u529F"),yield f())}}catch(e){v.Error(`${e}`)}finally{c.value=!1,s.Close()}});return(s,e)=>(_(),m("form",{class:"form-container",onSubmit:D(n,["prevent"])},[k,r("div",C,[(_(!0),m(x,null,F(o.softsourceListIfo,u=>(_(),m("label",I,[G(r("input",{type:"radio",value:u.identity,"onUpdate:modelValue":e[0]||(e[0]=t=>o.softSource.identity=t)},null,8,N),[[T,o.softSource.identity,void 0,{trim:!0}]]),B(" "+h(u.name),1)]))),256))]),r("div",V,[r("button",{class:"sumbit",disabled:c.value},"\u4FDD\u5B58",8,M)]),i.value?(_(),m("div",q,[r("span",null,h(i.value),1)])):L("",!0)],32))})}});export{P as default};
