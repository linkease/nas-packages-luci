var z=Object.defineProperty,O=Object.defineProperties;var q=Object.getOwnPropertyDescriptors;var V=Object.getOwnPropertySymbols;var H=Object.prototype.hasOwnProperty,R=Object.prototype.propertyIsEnumerable;var I=(_,u,d)=>u in _?z(_,u,{enumerable:!0,configurable:!0,writable:!0,value:d}):_[u]=d,G=(_,u)=>{for(var d in u||(u={}))H.call(u,d)&&I(_,d,u[d]);if(V)for(var d of V(u))R.call(u,d)&&I(_,d,u[d]);return _},U=(_,u)=>O(_,q(u));var x=(_,u,d)=>new Promise((a,r)=>{var i=m=>{try{h(d.next(m))}catch(b){r(b)}},F=m=>{try{h(d.throw(m))}catch(b){r(b)}},h=m=>m.done?a(m.value):Promise.resolve(m.value).then(i,F);h((d=d.apply(_,u)).next())});import{d as N,r as D,o as l,c as n,f as e,w as g,N as M,u as p,s as T,j,y as k,k as K,h as c,F as E,e as C,g as $,n as L,T as W,t as P,_ as Q,p as J,q as X,O as Y,i as B,M as Z,D as ee,P as ae,Q as te,R as se,z as oe}from"./index.js?v=9df63d42";const o=_=>(J("data-v-840554fa"),_=_(),X(),_),le={class:"form-item"},ne=o(()=>e("div",{class:"label-name"},[e("span",null,"\u542F\u7528Wi-Fi")],-1)),ie={class:"label-value"},de={class:"label-flex"},ue=["disabled"],ce=["disabled"],_e={class:"form-item"},ve=o(()=>e("div",{class:"label-name"},[e("span",null,"Wi-Fi\u540D\u79F0\uFF08SSID\uFF09")],-1)),re={class:"label-value"},pe=["disabled"],he={class:"form-item"},be=o(()=>e("div",{class:"label-name"},[e("span",null,"Wi-Fi \u5B89\u5168\u6027")],-1)),me={class:"label-value"},fe=["disabled"],ye=Y('<option value="none" data-v-840554fa>OPEN</option><option value="psk2" data-v-840554fa>WPA2-PSK</option><option value="psk-mixed" data-v-840554fa>WPA/WPA2-PSK</option><option value="sae" data-v-840554fa>WPA3-SAE</option><option value="sae-mixed" data-v-840554fa>WPA2-PSK/WPA3-SEA</option>',5),ge=[ye],Fe={class:"form-item"},xe=o(()=>e("div",{class:"label-name"},[e("span",null,"Wi-Fi \u5BC6\u7801")],-1)),ke={class:"label-value"},Se=["type","disabled"],we=["src"],De={class:"form-item"},Ee=o(()=>e("div",{class:"label-name"},[e("span",null,"SSID \u53EF\u89C1\u6027")],-1)),Be={class:"label-value"},Ae=["disabled"],We=o(()=>e("option",{value:!1},"\u663E\u793A",-1)),Ce=o(()=>e("option",{value:!0},"\u9690\u85CF",-1)),Pe=[We,Ce],Ve={key:0,class:"form-item"},Ie=o(()=>e("div",{class:"label-name"},[e("span",null,"\u53D1\u5C04\u529F\u7387")],-1)),Ge={class:"label-value"},Ue=["disabled"],Me=o(()=>e("option",{value:100},"\u6700\u5927",-1)),Te=o(()=>e("option",{value:70},"\u9AD8",-1)),Ne=o(()=>e("option",{value:50},"\u4E2D",-1)),$e=o(()=>e("option",{value:30},"\u4F4E",-1)),ze=[Me,Te,Ne,$e],Oe={key:1,class:"form-item"},qe=o(()=>e("div",{class:"label-name"},[e("span",null,"\u65E0\u7EBF\u6A21\u5F0F")],-1)),He={class:"label-value"},Re=["disabled"],je={key:0,value:"11n/ax"},Ke={key:1,value:"11g/n/ax"},Le={key:2,value:"11b/g/n/ax"},Qe={key:3,value:"11b/g/n"},Je={key:4,value:"11ac/ax"},Xe={key:5,value:"11n/ac/ax"},Ye={key:6,value:"11a/n/ac/ax"},Ze={key:7,value:"11a/n/ac"},ea={key:2,class:"form-item"},aa=o(()=>e("div",{class:"label-name"},[e("span",null,"\u9891\u5BBD")],-1)),ta={class:"label-value"},sa=["disabled"],oa=o(()=>e("option",{value:"20"},"20 MHz",-1)),la=o(()=>e("option",{value:"40"},"40 MHz",-1)),na={key:0,value:"auto"},ia={key:1,value:"80"},da={key:2,value:"160"},ua={key:3,class:"form-item"},ca=o(()=>e("div",{class:"label-name"},[e("span",null,"\u4FE1\u9053")],-1)),_a={class:"label-value"},va=["disabled"],ra=o(()=>e("option",{value:0},"\u81EA\u52A8",-1)),pa=["value"],ha=["disabled"],ba=o(()=>e("option",{value:0},"\u81EA\u52A8",-1)),ma=o(()=>e("option",{value:36},"36",-1)),fa=o(()=>e("option",{value:40},"40",-1)),ya=o(()=>e("option",{value:44},"44",-1)),ga=o(()=>e("option",{value:48},"48",-1)),Fa=o(()=>e("option",{value:52},"52(DFS)",-1)),xa=o(()=>e("option",{value:56},"56(DFS)",-1)),ka=o(()=>e("option",{value:60},"60(DFS)",-1)),Sa=o(()=>e("option",{value:64},"64(DFS)",-1)),wa=o(()=>e("option",{value:149},"149",-1)),Da=o(()=>e("option",{value:153},"153",-1)),Ea=o(()=>e("option",{value:157},"157",-1)),Ba=o(()=>e("option",{value:161},"161",-1)),Aa=[ba,ma,fa,ya,ga,Fa,xa,ka,Sa,wa,Da,Ea,Ba],Wa={class:"label-btns"},Ca=["disabled"],Pa="/luci-static/istorex/icon/eye-close.png",Va="/luci-static/istorex/icon/eye-on.png",Ia=N({__name:"form",props:{data:{}},emits:["getData"],setup(_,{emit:u}){const d=_,a=D(Object.assign({},d.data)),r=u,i=L("disabled"),F=D(!0),h=()=>x(this,null,function*(){if(a.value.txpower===d.data.txpower)return;const{data:f}=yield B.Wireless.Power.POST({device:a.value.device||"",txpower:a.value.txpower||0}),{error:s}=f;if(s)throw s}),m=()=>x(this,null,function*(){if(a.value.disabled===d.data.disabled)return;const{data:f}=yield B.Wireless.Switch.POST({ifaceName:a.value.ifaceName||"",enable:!a.value.disabled}),{error:s}=f;if(s)throw s}),b=()=>x(this,null,function*(){const{data:f}=yield B.Wireless.Edit.POST(a.value),{error:s,success:t}=f;if(s)throw s;(t==null||t==0)&&W.Success("\u914D\u7F6E\u5B8C\u6210")}),S=()=>x(this,null,function*(){if(i.value)return;i.value=!0;const f=W.Loading("\u914D\u7F6E\u4E2D...");try{yield h(),yield b(),yield m(),yield r("getData")}catch(s){W.Error(`${s}`)}finally{f.Close(),i.value=!1}});return(f,s)=>(l(),n("form",{class:"form-container",onSubmit:$(S,["prevent"])},[e("div",le,[ne,e("div",ie,[e("div",de,[e("label",null,[g(e("input",{type:"radio",value:!1,"onUpdate:modelValue":s[0]||(s[0]=t=>a.value.disabled=t),disabled:p(i)},null,8,ue),[[M,a.value.disabled]]),T(" \u5F00\u542F ")]),e("label",null,[g(e("input",{type:"radio",value:!0,"onUpdate:modelValue":s[1]||(s[1]=t=>a.value.disabled=t),disabled:p(i)},null,8,ce),[[M,a.value.disabled]]),T(" \u5173\u95ED ")])])])]),e("div",_e,[ve,e("div",re,[g(e("input",{"onUpdate:modelValue":s[2]||(s[2]=t=>a.value.ssid=t),disabled:p(i),placeholder:"\u8BF7\u8F93\u5165WIFI\u540D\u79F0"},null,8,pe),[[j,a.value.ssid]])])]),e("div",he,[be,e("div",me,[g(e("select",{"onUpdate:modelValue":s[3]||(s[3]=t=>a.value.encryption=t),disabled:p(i)},ge,8,fe),[[k,a.value.encryption]])])]),e("div",Fe,[xe,e("div",ke,[g(e("input",{"onUpdate:modelValue":s[4]||(s[4]=t=>a.value.key=t),type:F.value?"password":"",disabled:p(i),placeholder:"\u8BF7\u8F93\u5165WIFI\u5BC6\u7801"},null,8,Se),[[K,a.value.key]]),p(i)?c("",!0):(l(),n("img",{key:0,class:"seeIcon",src:F.value?Va:Pa,onClick:s[5]||(s[5]=t=>F.value=!F.value)},null,8,we))])]),e("div",De,[Ee,e("div",Be,[g(e("select",{"onUpdate:modelValue":s[6]||(s[6]=t=>a.value.hidden=t),disabled:p(i)},Pe,8,Ae),[[k,a.value.hidden]])])]),a.value.isGuest?c("",!0):(l(),n("div",Ve,[Ie,e("div",Ge,[g(e("select",{"onUpdate:modelValue":s[7]||(s[7]=t=>a.value.txpower=t),disabled:p(i)},ze,8,Ue),[[k,a.value.txpower]])])])),a.value.isGuest?c("",!0):(l(),n("div",Oe,[qe,e("div",He,[g(e("select",{"onUpdate:modelValue":s[8]||(s[8]=t=>a.value.hwmode=t),disabled:p(i)},[a.value.band==="2g"?(l(),n("option",je," 11n/ax ")):c("",!0),a.value.band==="2g"?(l(),n("option",Ke," 11g/n/ax ")):c("",!0),a.value.band==="2g"?(l(),n("option",Le," 11b/g/n/ax ")):c("",!0),a.value.band==="2g"?(l(),n("option",Qe," 11b/g/n ")):c("",!0),a.value.band==="5g"?(l(),n("option",Je," 11ac/ax ")):c("",!0),a.value.band==="5g"?(l(),n("option",Xe," 11n/ac/ax ")):c("",!0),a.value.band==="5g"?(l(),n("option",Ye," 11a/n/ac/ax ")):c("",!0),a.value.band==="5g"?(l(),n("option",Ze," 11b/g/n ")):c("",!0)],8,Re),[[k,a.value.hwmode]])])])),a.value.isGuest?c("",!0):(l(),n("div",ea,[aa,e("div",ta,[g(e("select",{"onUpdate:modelValue":s[9]||(s[9]=t=>a.value.htmode=t),disabled:p(i)},[oa,la,a.value.band==="2g"?(l(),n("option",na," 20/40 MHz ")):c("",!0),a.value.band==="5g"?(l(),n("option",ia," 80 MHz ")):c("",!0),a.value.band==="5g"?(l(),n("option",da," 160 MHz ")):c("",!0)],8,sa),[[k,a.value.htmode]])])])),a.value.isGuest?c("",!0):(l(),n("div",ua,[ca,e("div",_a,[a.value.band==="2g"?g((l(),n("select",{key:0,"onUpdate:modelValue":s[10]||(s[10]=t=>a.value.channel=t),disabled:p(i)},[ra,(l(),n(E,null,C(13,t=>e("option",{value:t},P(t),9,pa)),64))],8,va)),[[k,a.value.channel]]):c("",!0),a.value.band==="5g"?g((l(),n("select",{key:1,"onUpdate:modelValue":s[11]||(s[11]=t=>a.value.channel=t),disabled:p(i)},Aa,8,ha)),[[k,a.value.channel]]):c("",!0)])])),e("div",Wa,[e("button",{class:"sumit btn primary-btn",disabled:p(i),onClick:S},"\u4FDD\u5B58\u914D\u7F6E",8,Ca)])],32))}});var Ga=Q(Ia,[["__scopeId","data-v-840554fa"]]);const Ua={id:"page",class:"page-container"},Ma={class:"page-flex"},Ta={class:"page-sidebar"},Na=["onClick"],$a={class:"page-main"},qa=N({__name:"index",setup(_){return x(this,null,function*(){var s;let u,d;const a=D(!1);ee("disabled",a);const r=D([]),i=ae(),F=te(),h=D(String((s=i==null?void 0:i.query)==null?void 0:s.tab)),m=t=>{var w;return t.band==="2g"?"2.4G":(w=t.band)==null?void 0:w.toUpperCase()},b=t=>t.isGuest?t.band+"_Guest":t.band,S=t=>{a.value||(h.value=b(t),h.value!==i.query.tab&&F.push({query:{tab:h.value}}))},f=()=>x(this,null,function*(){try{const{data:t}=yield B.Wireless.List.GET(),{error:w,result:v}=t;if(w)throw w;v!=null&&v.ifaces&&(r.value=v.ifaces.map(y=>U(G({},y),{hidden:y.hidden||!1,disabled:y.disabled||!1,isGuest:y.isGuest||!1,channel:y.channel||0,txpower:y.txpower||0})));let A=!1;for(let y=0;y<r.value.length;y++)if(b(r.value[y])===h.value){S(r.value[y]),A=!0;break}!A&&r.value.length>0&&S(r.value[0])}catch(t){console.log(t)}});return[u,d]=Z(()=>f()),yield u,d(),(t,w)=>(l(),n("div",Ua,[e("div",Ma,[e("div",Ta,[(l(!0),n(E,null,C(r.value,v=>(l(),n("div",{key:b(v),class:se(h.value===b(v)?"item activeItem":"item"),onClick:$(A=>S(v),["stop"])},P(m(v))+" "+P(v.isGuest?" \u8BBF\u5BA2":"")+" Wi-Fi ",11,Na))),128))]),e("div",$a,[(l(!0),n(E,null,C(r.value,v=>(l(),n(E,{key:b(v)},[h.value===b(v)?(l(),oe(Ga,{key:0,data:v,onGetData:f},null,8,["data"])):c("",!0)],64))),128))])])]))})}});export{qa as default};
