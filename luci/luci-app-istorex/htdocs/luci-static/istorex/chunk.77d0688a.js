var qe=Object.defineProperty,je=Object.defineProperties;var He=Object.getOwnPropertyDescriptors;var he=Object.getOwnPropertySymbols;var Oe=Object.prototype.hasOwnProperty,Ue=Object.prototype.propertyIsEnumerable;var Fe=(e,u,s)=>u in e?qe(e,u,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[u]=s,vt=(e,u)=>{for(var s in u||(u={}))Oe.call(u,s)&&Fe(e,s,u[s]);if(he)for(var s of he(u))Ue.call(u,s)&&Fe(e,s,u[s]);return e},ht=(e,u)=>je(e,He(u));var L=(e,u,s)=>new Promise((o,c)=>{var _=d=>{try{r(s.next(d))}catch(a){c(a)}},v=d=>{try{r(s.throw(d))}catch(a){c(a)}},r=d=>d.done?o(d.value):Promise.resolve(d.value).then(_,v);r((s=s.apply(e,u)).next())});import{d as P,Q as Re,r as b,G as Zt,o as n,c as l,f as t,w as z,a7 as ke,h as E,F as N,e as J,u as y,H as A,B as T,t as p,a0 as Lt,L as K,i as M,T as x,a4 as Ge,_ as I,p as j,q as H,a6 as et,a5 as yt,m as nt,n as wt,A as q,a as U,v as we,j as Y,g as ct,aa as ot,ab as We,y as gt,s as W,O as jt,a2 as xe,x as mt,I as qt,R as Xt,E as Be,V as it,ac as Ae,ad as Ze,ae as me,X as Xe,a1 as Qe,N as lt,U as Ye,D as Se,a3 as Je,J as Ke}from"./index.js?v=bd1b282f";import{i as Ft}from"./chunk.65c296e1.js";import{u as tu,i as eu,b as uu,c as su,d as nu,e as ou,f as au,g as iu,G as Ut,F as lu,a as cu}from"./chunk.37b2b1c8.js";var du="/luci-static/istorex/logo.png?v=d233e332",ru="/luci-static/istorex/task.svg?v=f6a42032",_u="/luci-static/istorex/safari.svg?v=1bf8526f",pu="/luci-static/istorex/setup.svg?v=69c7a200",vu="/luci-static/istorex/logout.svg?v=e9e539f8",hu="/luci-static/istorex/icon_language_auto.png?v=45447541",Fu="/luci-static/istorex/icon_language_cantonese.png?v=77010a8d",mu="/luci-static/istorex/icon_language_cn.png?v=9b80c184",fu="/luci-static/istorex/icon_language_en.png?v=ea39cc2b";const Et=e=>(j("data-v-c68ab438"),e=e(),H(),e),gu={class:"header"},Eu=Et(()=>t("img",{src:du,alt:"logo"},null,-1)),Cu={class:"menu"},bu={class:"language"},yu={class:"actions"},Du=["onClick"],$u=["src"],ku=["src"],wu=["src"],xu=["src"],Bu={class:"task"},Au={key:0,class:"dropdown-container"},Su={class:"title"},Iu=Et(()=>t("span",null,"\u5B89\u88C5\u4EFB\u52A1",-1)),Vu=Et(()=>t("div",{class:"auto"},null,-1)),Pu={class:"dropdown-container_menus"},Mu={class:"dropdown-menu_item"},Tu=Et(()=>t("div",{class:"auto"},null,-1)),Lu={class:"status"},Nu={key:0},zu={key:1},qu={class:"btn"},ju=Et(()=>t("span",null," \u5B89\u88C5\u4E2D ",-1)),Hu={class:"wizard"},Ou={key:0,class:"dropdown-container",style:{width:"140px"}},Uu=Et(()=>t("h2",{class:"title"},"\u5207\u6362\u5411\u5BFC\u6A21\u5F0F",-1)),Ru=Et(()=>t("a",{href:"/cgi-bin/luci/admin/quickstart/"},[t("img",{width:"28",height:"28",title:"\u5207\u6362\u81F3\u666E\u901A\u7248\u672C",src:pu,alt:"setup"})],-1)),Gu=Et(()=>t("a",{href:"/cgi-bin/luci/admin/logout"},[t("img",{width:"28",height:"28",title:"\u6CE8\u9500",src:vu,alt:"logout"})],-1)),Wu=P({__name:"index",setup(e){const u=Re(),s=b(!1),o=b(K.defaultLanguage),c=()=>{s.value=!s.value},_=D=>C.value.indexOf(D)!=-1,v=D=>$.value.indexOf(D)!=-1,r=D=>{let B="";D===0&&(B="auto"),D===1&&(B="zh-CN"),D===2&&(B="zh-TW"),D===3&&(B="en"),o.value=B},d=b(!1),a=b(!1),i=b(!1),F=b([]),C=b([]),$=b([]),m=()=>L(this,null,function*(){try{const D=yield M.Quickstart.SetupResult.GET();if(D.data){const{result:B,error:G}=D.data;D.data.success==0&&B&&(F.value=B.packages||[],C.value=B.success||[],$.value=B.failed||[])}}catch(D){console.log(D)}});let f=!1;setTimeout(()=>L(this,null,function*(){yield m(),localStorage.getItem("nas_guide_init")&&(f=!0,d.value=!0)}),1e3);const g=()=>L(this,null,function*(){i.value||(yield w("router"))}),h=()=>L(this,null,function*(){i.value||(yield w("next-nas"))}),w=D=>L(this,null,function*(){i.value=!0;try{const B=yield M.Istorex.Updata.POST({model:D});if(x.Success("\u64CD\u4F5C\u6210\u529F"),B.data){const{success:G,error:V}=B.data;if(V)throw V;G===0&&u.push({path:`/${D}`})}}catch(B){x.Error(`${B}`)}finally{i.value=!1}}),S=()=>{d.value=!1,f&&localStorage.removeItem("nas_guide_init")},k=()=>{Ge.autoSetup.Open()};return(D,B)=>{const G=Zt("icon-loading");return n(),l("div",gu,[Eu,t("div",Cu,[t("span",bu,[z(t("div",yu,[E(" \u70B9\u51FB\u80CC\u666F\u5173\u95ED\u6309\u94AE "),t("div",{class:"menu_background",onClick:c}),t("ul",null,[(n(),l(N,null,J(["Auto","\u7B80\u4F53\u4E2D\u6587","\u7E41\u4F53\u4E2D\u6587","\u82F1\u6587"],(V,O)=>t("li",{onClick:st=>r(O)},p(V),9,Du)),64))])],512),[[ke,s.value]]),o.value==="auto"?(n(),l("img",{key:0,width:"28",height:"28",src:y(hu),onClick:c},null,8,$u)):E("v-if",!0),o.value==="zh-CN"?(n(),l("img",{key:1,width:"28",height:"28",src:y(mu),onClick:c},null,8,ku)):E("v-if",!0),o.value==="zh-TW"?(n(),l("img",{key:2,width:"28",height:"28",src:y(Fu),onClick:c},null,8,wu)):E("v-if",!0),o.value==="en"?(n(),l("img",{key:3,width:"28",height:"28",src:y(fu),onClick:c},null,8,xu)):E("v-if",!0)]),t("div",Bu,[t("img",{onClick:B[0]||(B[0]=V=>d.value=!d.value),width:"28",height:"28",title:"\u5B89\u88C5\u4EFB\u52A1\u8FDB\u5EA6",src:ru,alt:"logo"}),d.value?(n(),l("div",{key:0,class:"dropdown-bg",onClick:S})):E("v-if",!0),A(Lt,null,{default:T(()=>[d.value?(n(),l("div",Au,[t("h2",Su,[Iu,t("span",null,"("+p(C.value.length+$.value.length+"/"+F.value.length)+")",1),Vu,t("a",{onClick:k},"\u67E5\u770B\u65E5\u5FD7")]),t("div",Pu,[(n(!0),l(N,null,J(F.value,V=>(n(),l("div",Mu,[t("span",null,p(V),1),Tu,t("div",Lu,[_(V)?(n(),l("span",Nu," \u6210\u529F ")):v(V)?(n(),l("span",zu," \u5931\u8D25 ")):(n(),l(N,{key:2},[t("div",qu,[A(G)]),ju],64))])]))),256))])])):E("v-if",!0)]),_:1})]),E(' <img title="\u9996\u9875\u6A21\u5757\u8BBE\u7F6E" src="./svg/arrange.svg" alt="arrange" /> '),t("div",Hu,[t("img",{onClick:B[1]||(B[1]=V=>a.value=!a.value),width:"28",height:"28",title:"\u5411\u5BFC\u6A21\u5F0F",src:_u,alt:"safari"}),a.value?(n(),l("div",{key:0,class:"dropdown-bg",onClick:B[2]||(B[2]=V=>a.value=!1)})):E("v-if",!0),A(Lt,{name:"fade"},{default:T(()=>[a.value?(n(),l("div",Ou,[Uu,t("div",{class:"dropdown-menu_item",style:{"margin-bottom":"8px"},onClick:g}," \u8DEF\u7531\u6A21\u5F0F "),t("div",{class:"dropdown-menu_item",onClick:h},"NAS\u6A21\u5F0F")])):E("v-if",!0)]),_:1})]),Ru,Gu])])}}});var Zu=I(Wu,[["__scopeId","data-v-c68ab438"],["__file","/projects/github/linkease/istorex/web/src/pages/next-nas/components/header/index.vue"]]);const Xu={class:"SearchBar"},Qu=["placeholder"],Yu=P({__name:"index",setup(e){const{$gettext:u}=K;return(s,o)=>(n(),l("div",Xu,[t("input",{placeholder:y(u)("\u5E94\u7528\u641C\u7D22")},null,8,Qu)]))}});var Ju=I(Yu,[["__scopeId","data-v-7db513b7"],["__file","/projects/github/linkease/istorex/web/src/pages/next-nas/components/widget/SearchBar/index.vue"]]);const Ku={class:"widget"},ts={key:0,class:"title"},es=P({__name:"index",props:{title:{type:String,required:!1},height:{type:String,required:!1},maxHeight:{type:String,required:!1},contentStyle:{type:String,required:!1}},setup(e){const u=e;return(s,o)=>(n(),l("div",Ku,[t("div",{style:et(`height: ${u.height};max-height:${u.maxHeight}`)},[u.title?(n(),l("span",ts,p(u.title),1)):E("v-if",!0),t("div",{style:et(u.contentStyle)},[yt(s.$slots,"default",{},void 0,!0)],4)],4)]))}});var ft=I(es,[["__scopeId","data-v-52bfb64a"],["__file","/projects/github/linkease/istorex/web/src/pages/next-nas/components/widget/index.vue"]]);const us={},ss={t:"1640746738262",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"1216",width:"128",height:"128"},ns=t("path",{d:"M511.232 438.8352L112.9984 40.6016A51.2 51.2 0 0 0 40.6016 112.9984L438.784 511.232 40.6016 909.4656a51.2 51.2 0 1 0 72.3968 72.448l398.2336-398.2848 398.2336 398.2848a51.2 51.2 0 1 0 72.448-72.448l-398.2848-398.2336 398.2848-398.2336A51.2 51.2 0 0 0 909.4656 40.6016L511.232 438.784z","p-id":"1217"},null,-1),os=[ns];function as(e,u){return n(),l("svg",ss,[...os])}var is=I(us,[["render",as],["__file","/projects/github/linkease/istorex/web/src/components/svg/close.vue"]]);const ls=e=>(j("data-v-3025916e"),e=e(),H(),e),cs={id:"actioner"},ds={key:0,class:"action-container"},rs={class:"action-container_header"},_s=ls(()=>t("div",null,null,-1)),ps={class:"title"},vs={class:"action-container_body"},hs=P({__name:"index",props:{Close:{type:Function},type:{type:Number},title:String},setup(e){const u=e,s=b(!1);nt(()=>{s.value=!0,document.body.setAttribute("lock-scroll","true")}),wt(()=>{document.body.removeAttribute("lock-scroll")});const o=()=>{u.Close&&(s.value=!1,setTimeout(()=>{u.Close&&u.Close()},300))};return(c,_)=>(n(),l("div",cs,[t("div",{class:"bg",onClick:o}),e.type!=null?(n(),l(N,{key:0},[E(' <transition name="dialog"> '),yt(c.$slots,"default",{},void 0,!0),E(" </transition> ")],64)):(n(),l(N,{key:1},[s.value?(n(),l("div",ds,[t("div",rs,[_s,t("div",ps,p(e.title),1),t("button",{class:"close",title:"\u5173\u95ED",onClick:o},[A(is)])]),t("div",vs,[yt(c.$slots,"default",{},void 0,!0)])])):E("v-if",!0)],64))]))}});var Fs=I(hs,[["__scopeId","data-v-3025916e"],["__file","/projects/github/linkease/istorex/web/src/components/action/index.vue"]]);const ms=P({__name:"modal",props:{Close:{type:Function},type:{type:Number},title:String},setup(e){return(u,s)=>(n(),q(Fs,{Close:e.Close,type:e.type,title:e.title},{default:T(()=>[yt(u.$slots,"default")]),_:3},8,["Close","type","title"]))}});var at=I(ms,[["__file","/projects/github/linkease/istorex/web/src/components/action/modal.vue"]]);const fs={},gs={t:"1649907260906",viewBox:"-8 248 1042 530",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2793","xmlns:xlink":"http://www.w3.org/1999/xlink"},Es=t("path",{d:"M764.904497 251.418146 259.086289 251.418146c-143.076626 0-259.065314 115.989711-259.065314 259.065314 0 143.077649 115.988688 259.063267 259.065314 259.063267l505.818207 0c143.074579 0 259.063267-115.985618 259.063267-259.063267C1023.967764 367.407857 907.980099 251.418146 764.904497 251.418146zM764.904497 747.164974c-130.507356 0-236.682537-106.175181-236.682537-236.682537S634.397141 273.798876 764.904497 273.798876s236.683561 106.176205 236.683561 236.683561S895.411853 747.164974 764.904497 747.164974z","p-id":"2794",fill:"#52C41A"},null,-1),Cs=[Es];function bs(e,u){return n(),l("svg",gs,[...Cs])}var ys=I(fs,[["render",bs],["__file","/projects/github/linkease/istorex/web/src/components/svg/switch-on.vue"]]);const Ds={},$s={t:"1649907515643",viewBox:"-8 248 1042 530",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2971","xmlns:xlink":"http://www.w3.org/1999/xlink"},ks=t("path",{d:"M764.867148 249.793136 259.0735 249.793136c-143.070486 0-259.052011 115.984594-259.052011 259.052011 0 143.07151 115.982548 259.050987 259.052011 259.050987l505.793648 0c143.067416 0 259.050987-115.979478 259.050987-259.050987C1023.917112 365.778754 907.933541 249.793136 764.867148 249.793136zM259.0735 745.516428c-130.501216 0-236.671281-106.172111-236.671281-236.671281 0-130.501216 106.170065-236.671281 236.671281-236.671281S495.744781 378.344954 495.744781 508.84617C495.744781 639.34534 389.574716 745.516428 259.0735 745.516428z","p-id":"2972",fill:"#999"},null,-1),ws=[ks];function xs(e,u){return n(),l("svg",$s,[...ws])}var Bs=I(Ds,[["render",xs],["__file","/projects/github/linkease/istorex/web/src/components/svg/switch-off.vue"]]);const As={class:"checkbox_switch_on"},Ss={class:"checkbox_switch_off"},Is=P({__name:"index",props:{modelValue:{type:Boolean,required:!0},height:{type:String,default:"100%"}},emits:["update:modelValue"],setup(e,{emit:u}){const s=e,o=u,c=U({get:()=>s.modelValue.valueOf(),set:_=>o("update:modelValue",_)});return(_,v)=>(n(),l("label",{class:"checkbox_switch",style:et({height:e.height})},[z(t("input",{type:"checkbox","onUpdate:modelValue":v[0]||(v[0]=r=>c.value=r)},null,512),[[we,c.value]]),t("span",As,[A(ys)]),t("span",Ss,[A(Bs)]),yt(_.$slots,"default",{},void 0,!0)],4))}});var Vs=I(Is,[["__scopeId","data-v-7abccac7"],["__file","/projects/github/linkease/istorex/web/src/components/switch/index.vue"]]);const tt=e=>(j("data-v-e0f3e900"),e=e(),H(),e),Ps=tt(()=>t("div",{class:"actioner-dns_header"},[t("span",null,"\u5185\u7F51\u914D\u7F6E")],-1)),Ms={class:"actioner-dns_body"},Ts={class:"label-item"},Ls=tt(()=>t("div",{class:"label-item_key"},[t("span",null,"IPv4\u5730\u5740")],-1)),Ns={class:"label-item_value"},zs={class:"label-item"},qs=tt(()=>t("div",{class:"label-item_key"},[t("span",null,"IPv4\u5B50\u7F51\u63A9\u7801")],-1)),js={class:"label-item_value"},Hs={key:0,class:"chose_dhcp"},Os={key:0,class:"dhcp_info"},Us={key:1,class:"dhcp_info"},Rs={class:"label-item"},Gs=tt(()=>t("div",{class:"label-item_key"},[t("span",null,"IP\u6C60\u8D77\u59CB\u5730\u5740")],-1)),Ws={class:"label-item_value"},Zs={class:"label-item"},Xs=tt(()=>t("div",{class:"label-item_key"},[t("span",null,"IP\u6C60\u7ED3\u675F\u5730\u5740")],-1)),Qs={class:"label-item_value"},Ys={class:"actioner-dns_footer"},Js=["disabled"],Ks={key:1,class:"actioner-dns"},tn=tt(()=>t("div",{class:"actioner-dns_header"},[t("span",null,"\u66F4\u6362\u914D\u7F6E")],-1)),en={class:"actioner-dns_body"},un={key:0,class:"setting_status"},sn=tt(()=>t("div",{class:"success_icon"},[t("svg",{t:"1642063181211",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"5062",width:"128",height:"128"},[t("path",{d:"M512 85.333333c235.648 0 426.666667 191.018667 426.666667 426.666667s-191.018667 426.666667-426.666667 426.666667S85.333333 747.648 85.333333 512 276.352 85.333333 512 85.333333z m-74.965333 550.4L346.453333 545.152a42.666667 42.666667 0 1 0-60.330666 60.330667l120.704 120.704a42.666667 42.666667 0 0 0 60.330666 0l301.653334-301.696a42.666667 42.666667 0 1 0-60.288-60.330667l-271.530667 271.488z",fill:"#52C41A","p-id":"5063"})])],-1)),nn=tt(()=>t("div",{class:"config-message"},"\u914D\u7F6E\u6210\u529F",-1)),on=["href"],an=tt(()=>t("div",{class:"success_icon"},[t("svg",{t:"1642063200324",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"5898",width:"128",height:"128"},[t("path",{d:"M549.044706 512l166.189176-166.249412a26.383059 26.383059 0 0 0 0-36.98447 26.383059 26.383059 0 0 0-37.044706 0L512 475.015529l-166.249412-166.249411a26.383059 26.383059 0 0 0-36.98447 0 26.383059 26.383059 0 0 0 0 37.044706L475.015529 512l-166.249411 166.249412a26.383059 26.383059 0 0 0 0 36.98447 26.383059 26.383059 0 0 0 37.044706 0L512 548.984471l166.249412 166.249411a26.383059 26.383059 0 0 0 36.98447 0 26.383059 26.383059 0 0 0 0-37.044706L548.984471 512zM512 1024a512 512 0 1 1 0-1024 512 512 0 0 1 0 1024z",fill:"#E84335","p-id":"5899"})])],-1)),ln=tt(()=>t("div",{class:"config-message"},"\u914D\u7F6E\u5931\u8D25",-1)),cn=tt(()=>t("p",null,"\u8BF7\u5C1D\u8BD5\u91CD\u65B0\u914D\u7F6E",-1)),dn=tt(()=>t("div",{class:"success_icon"},[t("svg",{width:"128px",height:"128px",viewBox:"0 0 128 128",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},[t("g",{id:"icon_yellow",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},[t("g",{id:"Icon/Warning"},[t("rect",{id:"\u77E9\u5F62",fill:"#000000","fill-rule":"nonzero",opacity:"0",x:"0",y:"0",width:"128",height:"128"}),t("path",{d:"M64,8 C33.075,8 8,33.075 8,64 C8,94.925 33.075,120 64,120 C94.925,120 120,94.925 120,64 C120,33.075 94.925,8 64,8 Z M60,37 C60,36.45 60.45,36 61,36 L67,36 C67.55,36 68,36.45 68,37 L68,71 C68,71.55 67.55,72 67,72 L61,72 C60.45,72 60,71.55 60,71 L60,37 Z M64,92 C60.6875,92 58,89.3125 58,86 C58,82.6875 60.6875,80 64,80 C67.3125,80 70,82.6875 70,86 C70,89.3125 67.3125,92 64,92 Z",id:"\u5F62\u72B6",fill:"#FAAD14"})])])])],-1)),rn=tt(()=>t("div",{class:"config-message"},"\u914D\u7F6E\u8D85\u65F6",-1)),_n=tt(()=>t("p",null," \u8DEF\u7531\u5668 IP \u53EF\u80FD\u5DF2\u7ECF\u4FEE\u6539\u6210\u529F\u3002\u82E5\u5237\u65B0\u9875\u9762\u5931\u8D25\uFF0C\u8BF7\u91CD\u65B0\u8FDE\u63A5\u8DEF\u7531\u5668\uFF0C\u5426\u5219\u8BF7\u5C1D\u8BD5\u91CD\u65B0\u914D\u7F6E\u3002 ",-1)),pn=P({__name:"index",props:{Close:{type:Function,required:!0}},setup(e){const u=e,s=b(0),o=b({lanIp:"",netMask:"255.255.255.0",enableDhcp:!1,dhcpStart:"",dhcpEnd:""});b("");const c=b(!1);b(!0),b(!1);const _=b(""),v=b(2),r=b(!1),d=b("timeout");let a=!0;(()=>{M.Guide.GetLan.GET().then(f=>{f.data.result&&(r.value=f.data.result.enableDhcp||!1,f.data.result.enableDhcp=!1,o.value=f.data.result,f.data.result.lanIp!==location.hostname&&(a=!1))})})();const F=()=>{const f=o.value;if(!Ft.isValidIPv4(f.lanIp)){x.Warning("IPv4\u5730\u5740\u683C\u5F0F\u9519\u8BEF");return}if(!Ft.isValidMask(f.netMask)){x.Warning("IPv4\u5B50\u7F51\u63A9\u7801\u683C\u5F0F\u9519\u8BEF");return}const g=Ft.calcMaskRange(f.lanIp,f.netMask);f.dhcpStart=g[0],f.dhcpEnd=g[1],o.value=f},C=()=>{const f=o.value;if(!Ft.isValidIPv4(f.lanIp)){x.Warning("IPv4\u5730\u5740\u683C\u5F0F\u9519\u8BEF");return}if(!Ft.isValidMask(f.netMask)){x.Warning("IPv4\u5B50\u7F51\u63A9\u7801\u683C\u5F0F\u9519\u8BEF");return}if(f.enableDhcp&&!(Ft.isValidIPv4(f.dhcpStart)&&Ft.isValidIPv4(f.dhcpEnd)&&Ft.isValidMaskRange(f.lanIp,f.netMask,f.dhcpStart,f.dhcpEnd))){x.Warning("DHCP\u7684IP\u6C60\u683C\u5F0F\u9519\u8BEF\u6216\u8D85\u51FA\u5B50\u7F51\u8303\u56F4");return}const g=x.Loading("\u6B63\u5728\u914D\u7F6E\u2026\u8BF7\u7A0D\u7B49",30);let h=0;const w=k=>{d.value=k,s.value=1,h=1,g.Close()},S=()=>{const k=new Date().getTime()+3e4,D=a?location.protocol+"//"+f.lanIp+(location.port?":"+location.port:""):location.origin,B=D+"/luci-static/resources/icons/loading.gif",G=()=>{h==0&&(new Date().getTime()>k?w("timeout"):window.setTimeout(O,2e3))},V=()=>{h==0&&(_.value=D+location.pathname,w("success"),window.setTimeout(()=>{v.value=1},1e3),window.setTimeout(()=>{location.href=_.value},2e3))},O=()=>{if(h!=0)return;console.log("check online ",B);const st=new Image;st.onload=V,st.onerror=G,st.src=B};window.setTimeout(O,5e3)};M.Guide.LanIp.POST(f).then(k=>{var D;if(k!=null&&k.data){if((k.data.success||0)==0)return;if((D=k.data)!=null&&D.error)throw k.data.error}throw"\u672A\u77E5\u9519\u8BEF"}).catch(k=>{h==0&&(w("fail"),x.Error(k))}),S(),window.setTimeout(()=>{h==0&&w("timeout")},3e4)},$=f=>{f.preventDefault(),u.Close&&u.Close()},m=f=>{location.reload()};return(f,g)=>(n(),q(at,{Close:e.Close,type:1},{default:T(()=>[s.value==0?(n(),l("form",{key:0,class:"actioner-dns",onSubmit:ct(C,["prevent"])},[Ps,t("div",Ms,[t("div",Ts,[Ls,t("div",Ns,[z(t("input",{type:"text",placeholder:"192.168.100.1",required:"","onUpdate:modelValue":g[0]||(g[0]=h=>o.value.lanIp=h),onChange:F},null,544),[[Y,o.value.lanIp,void 0,{trim:!0}]])])]),t("div",zs,[qs,t("div",js,[z(t("input",{type:"text",placeholder:"255.255.255.0",required:"","onUpdate:modelValue":g[1]||(g[1]=h=>o.value.netMask=h),onChange:F},null,544),[[Y,o.value.netMask,void 0,{trim:!0}]])])]),r.value?(n(),l("div",Hs,[A(Vs,{modelValue:o.value.enableDhcp,"onUpdate:modelValue":g[2]||(g[2]=h=>o.value.enableDhcp=h)},{default:T(()=>[o.value.enableDhcp?(n(),l("span",Os,"\u4FEE\u6539DHCP\u670D\u52A1")):(n(),l("span",Us,"\u4FDD\u6301DHCP\u670D\u52A1\u8BBE\u7F6E"))]),_:1},8,["modelValue"])])):E("v-if",!0),o.value.enableDhcp?(n(),l(N,{key:1},[t("div",Rs,[Gs,t("div",Ws,[z(t("input",{type:"text",placeholder:"192.168.100.100",required:"","onUpdate:modelValue":g[3]||(g[3]=h=>o.value.dhcpStart=h)},null,512),[[Y,o.value.dhcpStart,void 0,{trim:!0}]])])]),t("div",Zs,[Xs,t("div",Qs,[z(t("input",{type:"text",placeholder:"192.168.100.100",required:"","onUpdate:modelValue":g[4]||(g[4]=h=>o.value.dhcpEnd=h)},null,512),[[Y,o.value.dhcpEnd,void 0,{trim:!0}]])])])],64)):E("v-if",!0)]),t("div",Ys,[t("button",{class:"cbi-button cbi-button-apply app-btn",disabled:c.value}," \u786E\u8BA4 ",8,Js),t("button",{class:"cbi-button cbi-button-remove app-btn app-back",onClick:$}," \u53D6\u6D88 ")])],32)):s.value==1?(n(),l("div",Ks,[tn,E(" \u914D\u7F6E\u7ED3\u679C "),t("div",en,[E(" \u914D\u7F6E\u6210\u529F "),d.value=="success"?(n(),l("div",un,[sn,nn,t("a",{href:_.value,class:"NewAdress"},p(v.value)+"s\u540E \u8DF3\u8F6C\u65B0\u5730\u5740",9,on)])):d.value=="fail"?(n(),l(N,{key:1},[E(" \u914D\u7F6E\u5931\u8D25 "),t("div",{class:"setting_status"},[an,ln,cn,t("button",{class:"cbi-button cbi-button-apply app-btn",onClick:m}," \u6211\u77E5\u9053\u4E86 ")])],2112)):d.value=="timeout"?(n(),l(N,{key:2},[E(" \u914D\u7F6E\u8D85\u65F6 "),t("div",{class:"setting_status"},[dn,rn,_n,t("button",{class:"cbi-button cbi-button-apply app-btn",onClick:m}," \u5237\u65B0\u9875\u9762 ")])],2112)):E("v-if",!0)])])):E("v-if",!0)]),_:1},8,["Close"]))}});var vn=I(pn,[["__scopeId","data-v-e0f3e900"],["__file","/projects/github/linkease/istorex/web/src/components/action-netip/index.vue"]]);const fe=()=>{const e=document.createElement("div");document.body.appendChild(e);const u=ot(vn,{Close:()=>{s()}});u.mount(e);const s=()=>{u.unmount(),e.remove()};return{Close:s}};const Dt=e=>(j("data-v-7009c725"),e=e(),H(),e),hn=Dt(()=>t("div",{class:"actioner-dns_header"},[t("span",null,"DNS\u914D\u7F6E")],-1)),Fn={class:"actioner-dns_body"},mn={class:"label-item"},fn=Dt(()=>t("div",{class:"label-item_key"},[t("span",null,"DNS\u9009\u9879")],-1)),gn={class:"label-item_value"},En=["disabled"],Cn=Dt(()=>t("option",{value:"manual"},"\u81EA\u5B9A\u4E49DNS",-1)),bn={class:"label-item"},yn=Dt(()=>t("div",{class:"label-item_key"},[t("span",null,"DNS\u670D\u52A1\u5668\u5730\u5740")],-1)),Dn={class:"label-item_value"},$n=["onUpdate:modelValue"],kn=Dt(()=>t("div",{class:"label-item_key"},"\u5907\u7528DNS\u670D\u52A1\u5668\u5730\u5740",-1)),wn={class:"label-item_value"},xn=["onUpdate:modelValue"],Bn={key:1,class:"label-message"},An={class:"actioner-dns_footer"},Sn=["disabled"],In={key:1,class:"actioner-dns"},Vn=Dt(()=>t("div",{class:"actioner-dns_header"},[t("span",null,"DNS\u914D\u7F6E")],-1)),Pn=Dt(()=>t("div",{class:"actioner-dns_body"},[t("div",{class:"config-message"},"DNS\u914D\u7F6E\u5DF2\u4FDD\u5B58")],-1)),Mn=P({__name:"index",props:{Close:{type:Function,required:!0}},setup(e){const u=e,s=b(0),o=We(),c=o.status,_=U(()=>o.status.proto!="static"),v=()=>{let $=c.dnsList||[];for($=$.filter(m=>m);$.length<2;)$.push("");return $},r=b({interfaceName:c.defaultInterface||"",dnsProto:c.dnsProto||"manual",manualDnsIp:v()}),d=b(""),a=b(!1),i=()=>L(this,null,function*(){d.value="";let $={};switch(r.value.dnsProto){case"auto":break;case"manual":if($.manualDnsIp=[],!r.value.manualDnsIp[0]){x.Error("\u81F3\u5C11\u9700\u8981\u586B\u5199\u4E00\u4E2ADNS");return}$.manualDnsIp=r.value.manualDnsIp.filter(f=>f);break}$.dnsProto=r.value.dnsProto,$.interfaceName=r.value.interfaceName;const m=x.Loading("\u914D\u7F6E\u4E2D...");try{const f=yield M.Guide.DnsConfig.POST($);if(f!=null&&f.data){const{success:g,error:h}=f==null?void 0:f.data;h&&(d.value=h),(g==null||g==0)&&(x.Success("\u914D\u7F6E\u6210\u529F"),s.value=1)}}catch(f){d.value=f}m.Close()}),F=$=>{$.preventDefault(),u.Close&&u.Close()},C=$=>{location.reload()};return($,m)=>(n(),q(at,{Close:e.Close,type:1},{default:T(()=>[s.value==0?(n(),l("form",{key:0,class:"actioner-dns",onSubmit:ct(i,["prevent"])},[hn,t("div",Fn,[t("div",mn,[fn,t("div",gn,[z(t("select",{"onUpdate:modelValue":m[0]||(m[0]=f=>r.value.dnsProto=f)},[t("option",{value:"auto",disabled:!_.value}," \u81EA\u52A8\u83B7\u53D6DNS ",8,En),Cn],512),[[gt,r.value.dnsProto]])])]),r.value.dnsProto=="manual"?(n(!0),l(N,{key:0},J(r.value.manualDnsIp,(f,g)=>(n(),l("div",bn,[g==0?(n(),l(N,{key:0},[yn,t("div",Dn,[z(t("input",{type:"text",placeholder:"\u8BF7\u8F93\u5165DNS\u5730\u5740",required:"","onUpdate:modelValue":h=>r.value.manualDnsIp[g]=h},null,8,$n),[[Y,r.value.manualDnsIp[g],void 0,{trim:!0}]])])],64)):(n(),l(N,{key:1},[kn,t("div",wn,[z(t("input",{type:"text",placeholder:"\u5907\u7528DNS\u5730\u5740","onUpdate:modelValue":h=>r.value.manualDnsIp[g]=h},null,8,xn),[[Y,r.value.manualDnsIp[g],void 0,{trim:!0}]])])],64))]))),256)):E("v-if",!0),d.value?(n(),l("div",Bn,p(d.value),1)):E("v-if",!0)]),t("div",An,[t("button",{class:"cbi-button cbi-button-apply app-btn",disabled:a.value}," \u786E\u8BA4 ",8,Sn),t("button",{class:"cbi-button cbi-button-remove app-btn app-back",onClick:F}," \u53D6\u6D88 ")])],32)):s.value==1?(n(),l("div",In,[Vn,Pn,t("div",{class:"actioner-dns_footer"},[t("button",{class:"cbi-button cbi-button-remove app-btn app-back",onClick:C}," \u5B8C\u6210 ")])])):E("v-if",!0)]),_:1},8,["Close"]))}});var Tn=I(Mn,[["__scopeId","data-v-7009c725"],["__file","/projects/github/linkease/istorex/web/src/components/action-dns/index.vue"]]);const ge=()=>{const e=document.createElement("div");document.body.appendChild(e);const u=ot(Tn,{Close:()=>{s()}});u.mount(e);const s=()=>{u.unmount(),e.remove()};return{Close:s}},Ln={},Nn={width:"14px",height:"14px",viewBox:"0 0 14 14",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},zn=t("g",{id:"icon_alert",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},[t("g",{id:"Icon/Warning"},[t("rect",{id:"\u77E9\u5F62",fill:"#000000","fill-rule":"nonzero",opacity:"0",x:"0",y:"0",width:"14",height:"14"}),t("path",{d:"M7,0.875 C3.61757813,0.875 0.875,3.61757813 0.875,7 C0.875,10.3824219 3.61757813,13.125 7,13.125 C10.3824219,13.125 13.125,10.3824219 13.125,7 C13.125,3.61757813 10.3824219,0.875 7,0.875 Z M6.5625,4.046875 C6.5625,3.98671875 6.61171875,3.9375 6.671875,3.9375 L7.328125,3.9375 C7.38828125,3.9375 7.4375,3.98671875 7.4375,4.046875 L7.4375,7.765625 C7.4375,7.82578125 7.38828125,7.875 7.328125,7.875 L6.671875,7.875 C6.61171875,7.875 6.5625,7.82578125 6.5625,7.765625 L6.5625,4.046875 Z M7,10.0625 C6.63769531,10.0625 6.34375,9.76855469 6.34375,9.40625 C6.34375,9.04394531 6.63769531,8.75 7,8.75 C7.36230469,8.75 7.65625,9.04394531 7.65625,9.40625 C7.65625,9.76855469 7.36230469,10.0625 7,10.0625 Z",id:"\u5F62\u72B6",fill:"#FAAD14"})])],-1),qn=[zn];function jn(e,u){return n(),l("svg",Nn,[...qn])}var dt=I(Ln,[["render",jn],["__file","/projects/github/linkease/istorex/web/src/components/svg/hint.vue"]]);const ut=e=>(j("data-v-d921ca7a"),e=e(),H(),e),Hn={key:0,class:"actioner-dns"},On=ut(()=>t("div",{class:"actioner-dns_header"},[t("span",null,"\u6C99\u7BB1\u6A21\u5F0F\u914D\u7F6E\u5411\u5BFC")],-1)),Un={class:"actioner-dns_body"},Rn=ut(()=>t("p",{class:"sandbox_info"}," \u4E00\u4E2A\u7B80\u6613\u6C99\u7BB1\uFF0C\u65B9\u4FBF\u7528\u6765\u5B9E\u9A8C\u7CFB\u7EDF\u914D\u7F6E\u548C\u7A0B\u5E8F\uFF0C\u65B9\u4FBF\u5F00\u53D1\u672A\u5B8C\u6210\u7684\u8F6F\u4EF6\uFF0C\u4F46\u4E0D\u4FDD\u62A4Docker\u548C\u786C\u76D8\u7684\u6570\u636E ",-1)),Gn={key:0,class:"disk_loading_icon"},Wn=ut(()=>t("span",{class:"disk_loading_info"},"\u6B63\u5728\u52A0\u8F7D\u4E2D...",-1)),Zn={key:1,class:"disk_tips"},Xn=ut(()=>t("span",null,"\u68C0\u6D4B\u4E0D\u5230\u6302\u8F7D\u7684\u78C1\u76D8\u4FE1\u606F\uFF0C\u8BF7\u5148\u63D2\u4E0A\u78C1\u76D8\uFF0C\u5EFA\u8BAE\u4F7F\u7528U\u76D8\u6216\u8005\u79FB\u52A8\u786C\u76D8\uFF0C\u65B9\u4FBF\u88C5\u5378",-1)),Qn={class:"label-item"},Yn=ut(()=>t("div",{class:"label-item_key"},[t("span",null,"\u76EE\u6807\u78C1\u76D8\uFF08\u5EFA\u8BAE\u9009\u62E9U\u76D8\u6216\u8005\u79FB\u52A8\u786C\u76D8\uFF0C\u65B9\u4FBF\u88C5\u5378\uFF09")],-1)),Jn={class:"label-item_value"},Kn=ut(()=>t("option",{value:""},"\u8BF7\u9009\u62E9\u76EE\u6807\u78C1\u76D8",-1)),to=["value"],eo={class:"label-item"},uo=ut(()=>t("div",{class:"label-item_key"},[t("span",null,"\u76EE\u6807\u5206\u533A\uFF08\u5206\u533A\u5927\u5C0F\u987B\u5927\u4E8E2G\uFF0C\u5C06\u6B64\u5206\u533A\u4F5C\u4E3A\u5916\u90E8 overlay \u4F7F\u7528\uFF09")],-1)),so={class:"label-item_value"},no=ut(()=>t("option",{selected:"true",value:""},"\u8BF7\u9009\u62E9\u76EE\u6807\u5206\u533A",-1)),oo=["value","disabled"],ao={class:"sandbox_tips"},io=ut(()=>t("span",null,"\u6B64\u64CD\u4F5C\u4F1A\u5C06\u4F1A\u5220\u9664\u8BE5\u5206\u533A\u5168\u90E8\u6570\u636E",-1)),lo={class:"sandbox_info timeout"},co=ut(()=>t("p",{class:"sandbox_roboot_tips"},[W(" \u7B49\u5F85\u8BBE\u5907\u91CD\u542F\uFF0C\u91CD\u542F\u5B8C\u6210\u540E"),t("span",{class:"sandbox_roboot_refresh"},"\u8BF7\u5237\u65B0\u754C\u9762")],-1)),ro={key:0,class:"actioner-dns_footer"},_o=["disabled"],po={key:1,class:"actioner-tips"},vo=ut(()=>t("div",{class:"actioner-tips_header"},[t("span",null,"\u6E29\u99A8\u63D0\u793A")],-1)),ho=ut(()=>t("div",{class:"actioner-tips_body"},[t("p",{class:"sandbox_info"}," \u6B64\u64CD\u4F5C\u4F1A\u5C06\u4F1A\u5220\u9664\u8BE5\u5206\u533A\u5168\u90E8\u6570\u636E\uFF0C\u5E76\u683C\u5F0F\u5316\u6210EXT4\uFF0C\u968F\u540E\u81EA\u52A8\u91CD\u542F\u8FDB\u5165\u6C99\u7BB1\u6A21\u5F0F\uFF0C\u662F\u5426\u7EE7\u7EED\uFF1F ")],-1)),Fo={key:2,class:"actioner-tips"},mo=ut(()=>t("div",{class:"actioner-tips_header"},[t("span",null,"\u9519\u8BEF")],-1)),fo={class:"actioner-tips_body"},go={class:"sandbox_info"},Eo=P({__name:"index",props:{Close:{type:Function,required:!0}},setup(e){const u=e,s=b(0);b("disk");const o=b(""),c=b(3),_=b(""),v=b([]),r=b(""),d=b(null);(()=>{M.Nas.SandboxDisks.GET().then(h=>{var w;if(h!=null&&h.data&&(w=h.data)!=null&&w.result){d.value=h.data.result;return}throw"\u52A0\u8F7D\u78C1\u76D8\u4FE1\u606F\u5931\u8D25"}).catch(h=>{o.value=h,s.value=3})})();const i=()=>request.System.Reboot.POST({name:_.value,path:r.value}).then(h=>{var w;if(!(h!=null&&h.data&&(((w=h==null?void 0:h.data)==null?void 0:w.success)||0)==0))throw"\u672A\u77E5\u9519\u8BEF"}),F=h=>{var w,S;r.value="",v.value=_.value&&((S=(w=d.value)==null?void 0:w.disks.find(k=>k.path==_.value))==null?void 0:S.childrens)||[]},C=()=>{c.value>0&&(c.value-=1,window.setTimeout(C,1e3))},$=h=>{h.preventDefault(),u.Close&&u.Close()},m=()=>{new Promise((h,w)=>{const S="/luci-static/resources/icons/loading.gif",k=()=>{window.setTimeout(D,2e3)},D=()=>{const B=new Image;B.onload=h,B.onerror=k,B.src=S};window.setTimeout(D,1e4)}).then(()=>{window.setTimeout(()=>{location.reload()},2e3)})},f=h=>{const w=x.Loading("\u914D\u7F6E\u6C99\u7BB1\u91CD\u542F\u4E2D...");request.Nas.Sandbox.POST({path:r.value}).then(S=>{var k;if(S!=null&&S.data){if((S.data.success||0)==0)return s.value=2,window.setTimeout(C,1e3),i();if((k=S.data)!=null&&k.error)throw S.data.error}throw"\u672A\u77E5\u9519\u8BEF"}).then(m).catch(S=>x.Warning(S)).finally(()=>w.Close())},g=()=>{s.value=0};return(h,w)=>{const S=Zt("icon-loading");return n(),q(at,{Close:e.Close,type:1},{default:T(()=>[s.value==0||s.value==2?(n(),l("div",Hn,[On,t("div",Un,[Rn,s.value==0?(n(),l(N,{key:0},[d.value?E("v-if",!0):(n(),l("div",Gn,[A(S,{size:38,color:"currentColor"}),Wn])),d.value&&d.value.disks.length==0?(n(),l("div",Zn,[A(dt),Xn])):E("v-if",!0),d.value&&d.value.disks.length>0?(n(),l(N,{key:2},[t("div",Qn,[Yn,t("div",Jn,[z(t("select",{name:"",id:"",onChange:F,"onUpdate:modelValue":w[0]||(w[0]=k=>_.value=k)},[Kn,(n(!0),l(N,null,J(d.value.disks,(k,D)=>(n(),l("option",{value:k.path,key:D},p(k.venderModel)+"\uFF08"+p(k.size)+"\uFF09 ",9,to))),128))],544),[[gt,_.value]])])]),t("div",eo,[uo,t("div",so,[z(t("select",{name:"",id:"","onUpdate:modelValue":w[1]||(w[1]=k=>r.value=k)},[no,(n(!0),l(N,null,J(v.value,(k,D)=>(n(),l("option",{value:k.path,key:D,disabled:k.sizeInt<(1<<30)*1||k.isSystemRoot},p(k.name)+"\uFF08"+p(k.filesystem||"\u672A\u683C\u5F0F\u5316")+"\uFF09"+p(k.total),9,oo))),128))],512),[[gt,r.value]])])]),t("div",ao,[A(dt),io])],64)):E("v-if",!0)],64)):E("v-if",!0),s.value==2?(n(),l(N,{key:1},[t("p",lo,[W(" \u5373\u5C06\u91CD\u542F\u8BBE\u5907 "),t("span",null,"\uFF08"+p(c.value)+"s\uFF09",1)]),co],64)):E("v-if",!0)]),s.value==0?(n(),l("div",ro,[t("button",{class:"cbi-button cbi-button-apply app-btn",disabled:!r.value,onClick:w[2]||(w[2]=k=>s.value=1)}," \u5F00\u542F\u6C99\u7BB1 ",8,_o),t("button",{class:"cbi-button cbi-button-remove app-btn app-back",onClick:$}," \u53D6\u6D88 ")])):E("v-if",!0)])):E("v-if",!0),s.value==1?(n(),l("div",po,[vo,ho,t("div",{class:"actioner-tips_footer"},[t("button",{class:"cbi-button cbi-button-apply app-btn",onClick:f}," \u7EE7\u7EED "),t("button",{class:"cbi-button cbi-button-remove app-btn app-back",onClick:g}," \u53D6\u6D88 ")])])):E("v-if",!0),s.value==3?(n(),l("div",Fo,[mo,t("div",fo,[t("p",go,p(o.value),1)]),t("div",{class:"actioner-tips_footer"},[t("button",{class:"cbi-button cbi-button-remove app-btn app-back",onClick:g}," \u53D6\u6D88 ")])])):E("v-if",!0)]),_:1},8,["Close"])}}});var Co=I(Eo,[["__scopeId","data-v-d921ca7a"],["__file","/projects/github/linkease/istorex/web/src/components/action-sandbox/index.vue"]]);const bo=()=>{const e=document.createElement("div");document.body.appendChild(e);const u=ot(Co,{Close:()=>{s()}});u.mount(e);const s=()=>{u.unmount(),e.remove()};return{Close:s}},yo={},Do={width:"82px",height:"82px",viewBox:"0 0 82 82",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},$o=jt('<title>icon_finished</title><g id="icon_finished" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="circle" transform="translate(2.000000, 2.000000)"><circle id="Oval" stroke="#553AFE" stroke-width="4" cx="39" cy="39" r="39"></circle><circle id="Oval" fill="#553AFE" cx="39.028463" cy="39.028463" r="35.028463"></circle><path d="M41.0148619,52.8014169 C39.924327,53.7754409 39.8138203,55.4674462 40.7680384,56.5806164 C41.7222564,57.6937867 43.3798562,57.8065871 44.4703911,56.8325631 L54.9654709,47.4587599 C56.1301083,46.4185505 56.1643255,44.5807064 55.0392485,43.4960788 L31.4253189,20.7311283 C30.3718273,19.7155123 28.7112257,19.7639428 27.7162614,20.8393009 C26.7212971,21.914659 26.7687429,23.6097284 27.8222345,24.6253444 L49.3379698,45.3675358 L41.0148619,52.8014169 Z" id="Shape" fill="#FFFFFF" fill-rule="nonzero" transform="translate(41.430740, 38.747628) rotate(-270.000000) translate(-41.430740, -38.747628) "></path></g></g>',2),ko=[$o];function wo(e,u){return n(),l("svg",Do,[...ko])}var Qt=I(yo,[["render",wo],["__file","/projects/github/linkease/istorex/web/src/components/svg/finished.vue"]]);const xt=e=>(j("data-v-400c745c"),e=e(),H(),e),xo=xt(()=>t("div",{class:"actioner-dns_header"},[t("span",null,"\u8F6F\u4EF6\u6E90\u914D\u7F6E")],-1)),Bo={class:"actioner-dns_body"},Ao={class:"label-item"},So=xt(()=>t("div",{class:"label-item_key"},[t("span",null,"\u5F53\u524D\u8F6F\u4EF6\u6E90")],-1)),Io={class:"label-item_value"},Vo={class:"item_info"},Po={class:"label-item"},Mo=xt(()=>t("div",{class:"label-item_key"},[t("span",null,"\u5207\u6362\u8F6F\u4EF6\u6E90")],-1)),To={class:"label-item_value"},Lo=xt(()=>t("option",{selected:"true",value:""},"\u8BF7\u9009\u62E9\u8F6F\u4EF6\u6E90",-1)),No=["value"],zo={class:"actioner-dns_footer"},qo=["disabled"],jo={key:1,class:"actioner-dns"},Ho=xt(()=>t("div",{class:"actioner-dns_header"},[t("span",{class:"softsource_tit"},"\u8F6F\u4EF6\u6E90\u914D\u7F6E")],-1)),Oo={class:"actioner-dns_body"},Uo={class:"finished"},Ro=xt(()=>t("p",{class:"successed"},"\u914D\u7F6E\u6210\u529F\uFF01",-1)),Go=P({__name:"index",props:{Close:{type:Function,required:!0}},setup(e){const u=e,s=b(0),o=b(""),c=b(),_=b();(()=>{M.Guide.SoftSourceList.GET().then(i=>{var F,C;if((F=i==null?void 0:i.data)!=null&&F.result){const $=(C=i==null?void 0:i.data)==null?void 0:C.result;_.value=$}}).then(()=>M.Guide.GetSoftSource.GET()).then(i=>{var F,C;if((F=i==null?void 0:i.data)!=null&&F.result){const $=i.data.result;c.value=$.softSource,(C=_.value)!=null&&C.softSourceList.find(m=>m.identity==$.softSource.identity)&&(o.value=$.softSource.identity)}})})();const r=i=>{i.preventDefault(),u.Close&&u.Close()},d=i=>{const F=x.Loading("\u6B63\u5728\u5207\u6362\u4E2D...");request.Guide.SoftSource.POST({softSourceIdentity:o.value}).then(C=>{if(C!=null&&C.data){if((C.data.success||0)==0){s.value=1;return}else if(C.data.error)throw C.data.error}throw"\u672A\u77E5\u9519\u8BEF"}).catch(C=>{x.Error(C)}).finally(()=>F.Close())},a=i=>{i.preventDefault(),location.reload()};return(i,F)=>(n(),q(at,{Close:e.Close,type:1},{default:T(()=>{var C,$;return[s.value==0?(n(),l("form",{key:0,class:"actioner-dns",onSubmit:ct(d,["prevent"])},[xo,t("div",Bo,[t("div",Ao,[So,t("div",Io,[t("p",Vo,p((C=c.value)==null?void 0:C.name),1)])]),t("div",Po,[Mo,t("div",To,[z(t("select",{name:"",id:"","onUpdate:modelValue":F[0]||(F[0]=m=>o.value=m)},[Lo,(n(!0),l(N,null,J(($=_.value)==null?void 0:$.softSourceList,(m,f)=>(n(),l("option",{value:m.identity,key:f},p(m.name),9,No))),128))],512),[[gt,o.value,void 0,{trim:!0}]])])])]),t("div",zo,[t("button",{class:"cbi-button cbi-button-apply app-btn",disabled:o.value==""}," \u786E\u8BA4 ",8,qo),t("button",{class:"cbi-button cbi-button-remove app-btn app-back",onClick:r}," \u53D6\u6D88 ")])],32)):E("v-if",!0),s.value==1?(n(),l("form",jo,[Ho,t("div",Oo,[t("div",Uo,[A(Qt)]),Ro,t("div",{class:"btns"},[t("button",{class:"cbi-button cbi-button-apply softsource_successed",onClick:a}," \u786E\u5B9A ")])])])):E("v-if",!0)]}),_:1},8,["Close"]))}});var Wo=I(Go,[["__scopeId","data-v-400c745c"],["__file","/projects/github/linkease/istorex/web/src/components/action-softwaresource/index.vue"]]);const Ee=()=>{const e=document.createElement("div");document.body.appendChild(e);const u=ot(Wo,{Close:()=>{s()}});u.mount(e);const s=()=>{u.unmount(),e.remove()};return{Close:s}};const Zo={class:"utilities"},Xo=P({__name:"index",setup(e){const{$gettext:u}=K,s=b(!1),o=b(),c=()=>{window.location.href="/cgi-bin/luci/admin/system/ota"},_=()=>{o.value.status=="unsupport"&&alert("\u8BE5\u56FA\u4EF6\u4E0D\u652F\u6301\u6C99\u7BB1\u6A21\u5F0F"),o.value.status=="stopped"&&bo()},v=()=>L(this,null,function*(){try{if((yield M.Quickstart.Guide.GlobalFolders.GET()).status!==200)return}catch(i){console.log(i);return}s.value=!0;try{const i=yield M.Storage.Get.POST({key:"nas_guide_init"});if(i.data){const{success:F,error:C,result:$}=i.data;if($&&$.key=="nas_guide_init")return}}catch(i){return}r()}),r=()=>{if(!s.value){x.Warning("\u8BF7\u5148\u66F4\u65B0\u7CFB\u7EDF\u5230\u6700\u65B0\u7248\u672C");return}xe.OpenGuideWindow()},d=()=>{var i,F,C,$;window.open(`${(F=(i=window.quickstart_configs)==null?void 0:i.ttyd)!=null&&F.ssl?"https":"http"}://${window.location.hostname}:${(($=(C=window.quickstart_configs)==null?void 0:C.ttyd)==null?void 0:$.port)||7681}/`,"_blank")};return(()=>{M.Nas.GetSandbox.GET().then(i=>{var F;console.log("getSandBox",i),(F=i==null?void 0:i.data)!=null&&F.result&&(o.value=i.data.result)}).catch(i=>x.Warning(i))})(),v(),(i,F)=>(n(),q(ft,{title:y(u)("\u5E38\u7528\u5DE5\u5177")},{default:T(()=>{var C;return[t("div",Zo,[t("div",{onClick:d},[t("span",null,"\u300B"+p(y(u)("\u7EC8\u7AEF")),1)]),t("div",{onClick:c},[t("span",null,p(y(u)("\u56FA\u4EF6\u66F4\u65B0")),1)]),t("div",{onClick:F[0]||(F[0]=(...$)=>y(fe)&&y(fe)(...$))},[t("span",null,p(y(u)("\u5185\u7F51\u914D\u7F6E")),1)]),t("div",{onClick:F[1]||(F[1]=(...$)=>y(ge)&&y(ge)(...$))},[t("span",null,p(y(u)("DNS\u914D\u7F6E")),1)]),t("div",{onClick:F[2]||(F[2]=(...$)=>y(Ee)&&y(Ee)(...$))},[t("span",null,p(y(u)("\u8F6F\u4EF6\u6E90\u914D\u7F6E")),1)]),t("div",{onClick:_},[t("span",null,p(((C=o.value)==null?void 0:C.status)=="running"?y(u)("\u6C99\u7BB1\u5DF2\u5F00\u542F"):y(u)("\u5F00\u542F\u6C99\u7BB1")),1)])])]}),_:1},8,["title"]))}});var Qo=I(Xo,[["__scopeId","data-v-d6b5ea94"],["__file","/projects/github/linkease/istorex/web/src/pages/next-nas/components/widget/Utilities/index.vue"]]),Yo="/luci-static/istorex/network.svg?v=3025665f",Jo="/luci-static/istorex/device.svg?v=9068551e";const Ko={},ta={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},ea=t("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M3.375 12C3.375 12.4973 3.57254 12.9742 3.92417 13.3258C4.27581 13.6775 4.75272 13.875 5.25 13.875C5.74728 13.875 6.22419 13.6775 6.57583 13.3258C6.92746 12.9742 7.125 12.4973 7.125 12C7.125 11.5027 6.92746 11.0258 6.57583 10.6742C6.22419 10.3225 5.74728 10.125 5.25 10.125C4.75272 10.125 4.27581 10.3225 3.92417 10.6742C3.57254 11.0258 3.375 11.5027 3.375 12ZM10.125 12C10.125 12.4973 10.3225 12.9742 10.6742 13.3258C11.0258 13.6775 11.5027 13.875 12 13.875C12.4973 13.875 12.9742 13.6775 13.3258 13.3258C13.6775 12.9742 13.875 12.4973 13.875 12C13.875 11.5027 13.6775 11.0258 13.3258 10.6742C12.9742 10.3225 12.4973 10.125 12 10.125C11.5027 10.125 11.0258 10.3225 10.6742 10.6742C10.3225 11.0258 10.125 11.5027 10.125 12ZM17.4242 13.3258C17.0725 12.9742 16.875 12.4973 16.875 12C16.875 11.5027 17.0725 11.0258 17.4242 10.6742C17.7758 10.3225 18.2527 10.125 18.75 10.125C19.2473 10.125 19.7242 10.3225 20.0758 10.6742C20.4275 11.0258 20.625 11.5027 20.625 12C20.625 12.4973 20.4275 12.9742 20.0758 13.3258C19.7242 13.6775 19.2473 13.875 18.75 13.875C18.2527 13.875 17.7758 13.6775 17.4242 13.3258Z",fill:"black","fill-opacity":"0.8"},null,-1),ua=[ea];function sa(e,u){return n(),l("svg",ta,[...ua])}var na=I(Ko,[["render",sa],["__file","/projects/github/linkease/istorex/web/src/pages/next-nas/components/card/more.vue"]]);const oa=e=>(j("data-v-0e75a5a7"),e=e(),H(),e),aa={key:0,class:"title"},ia=["href"],la=oa(()=>t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 14 14",fill:"none"},[t("path",{d:"M7 14C3.1338 14 0 10.8662 0 7C0 3.1338 3.1338 0 7 0C10.8662 0 14 3.1338 14 7C14 10.8662 10.8662 14 7 14ZM7 10.9375C7.25944 10.9375 7.46988 10.8535 7.63175 10.6859C7.79362 10.5179 7.875 10.3101 7.875 10.0625C7.875 9.81487 7.79407 9.61099 7.63175 9.45131C7.46987 9.29119 7.25944 9.20368 7 9.1875C6.65962 9.20369 6.4085 9.3555 6.24663 9.64292C6.08475 9.93081 6.08475 10.2182 6.24663 10.5061C6.4085 10.7936 6.65962 10.9375 7 10.9375ZM7.67025 8.07931C7.67025 8.02901 7.65275 7.88463 7.65493 7.90519C7.637 7.72319 7.66107 7.56131 7.76081 7.40513C7.83344 7.29094 7.94588 7.18375 8.11388 7.08444C9.10175 6.50081 9.46312 5.85068 9.44256 5.17431C9.41195 4.16106 8.66556 3.16663 7.04682 3.15218C5.69361 3.1395 4.80418 3.79312 4.59376 5.02031C4.56892 5.18979 4.61132 5.36226 4.71192 5.50089C4.81251 5.63952 4.96332 5.73333 5.13214 5.76229C5.30096 5.79124 5.47441 5.75305 5.61545 5.65586C5.75649 5.55867 5.85394 5.41019 5.88699 5.24212C5.98282 4.6865 6.29388 4.4577 7.03456 4.46425C7.84699 4.47169 8.11956 4.83481 8.13094 5.21325C8.13376 5.27833 8.11633 5.34268 8.08106 5.39744C7.9905 5.56018 7.79405 5.7492 7.44669 5.95438C7.10324 6.15694 6.83899 6.40894 6.6535 6.70032C6.36518 7.15313 6.3022 7.60113 6.35119 8.05656C6.35862 8.12525 6.35776 8.1165 6.35776 8.07932C6.35734 8.16577 6.374 8.25145 6.4068 8.33143C6.43959 8.41142 6.48786 8.48414 6.54884 8.54542C6.60982 8.60669 6.6823 8.65532 6.76213 8.68849C6.84196 8.72167 6.92756 8.73875 7.014 8.73875C7.10045 8.73875 7.18605 8.72167 7.26587 8.68849C7.3457 8.65532 7.41819 8.60669 7.47917 8.54542C7.54015 8.48414 7.58842 8.41142 7.62121 8.33143C7.654 8.25145 7.67067 8.16575 7.67025 8.07931Z",fill:"#E1B8B2"})],-1)),ca=[la],da={class:"toolbar"},ra={key:1,class:"more-icon"},_a={class:"actions"},pa=["onClick"],va=P({__name:"index",props:{span:{type:Number,required:!0},height:{type:Number,required:!1},title:{type:String,required:!1},padding:{type:String,required:!1},helpLink:{type:String,required:!1},moreActions:{type:Array,required:!1},action:{type:Object,required:!1}},setup(e){const u=e,s=b(!1),o=()=>{s.value=!s.value},c=mt({width:`calc(${u.span*100/24}% - 10px)`,height:u.height+"px"});return(_,v)=>{var r,d,a;return n(),l("div",{class:"card",style:et(c)},[t("div",null,[u.title?(n(),l("div",aa,[t("span",null,p(u.title),1),u.helpLink?(n(),l("a",{key:0,href:u.helpLink,target:"_blank"},[...ca],8,ia)):E("v-if",!0),t("div",da,[u.action&&u.action.show!==!1?(n(),l("div",{key:0,class:"action",onClick:v[0]||(v[0]=(...i)=>{var F,C;return((F=u.action)==null?void 0:F.onClick)&&((C=u.action)==null?void 0:C.onClick(...i))})},p((r=u.action)==null?void 0:r.text),1)):E("v-if",!0),(a=(d=u.moreActions)==null?void 0:d.filter(({show:i})=>i!==!1))!=null&&a.length?(n(),l("span",ra,[A(na,{onClick:o})])):E("v-if",!0),z(t("div",_a,[E(" \u70B9\u51FB\u80CC\u666F\u5173\u95ED\u6309\u94AE "),t("div",{class:"menu_background",onClick:o}),t("ul",null,[(n(!0),l(N,null,J(u.moreActions,i=>(n(),l("li",{onClick:i.onClick},p(i.text),9,pa))),256))])],512),[[ke,s.value]])])])):E("v-if",!0),t("div",{class:"card-body",style:et(`padding:${u.padding}`)},[yt(_.$slots,"default",{},void 0,!0)],4)])],4)}}});var Z=I(va,[["__scopeId","data-v-0e75a5a7"],["__file","/projects/github/linkease/istorex/web/src/pages/next-nas/components/card/index.vue"]]);const ha={class:"flow"},Fa={class:"flow-data"},ma={key:0},fa={key:1},ga=P({__name:"flow-chart",setup(e){const{$gettext:u}=K;tu([eu,uu,su,nu,ou,au]);const s=b(),o=m=>{var g;const f=(g=s.value)==null?void 0:g[m];return!f||f.startTime==0?"":a(f.startTime*1e3)+"-"+a(f.endTime*1e3)},c=U(()=>{var f;let m=[];return(f=s.value)==null||f.forEach(g=>{m.push({value:g.uploadSpeed})}),m}),_=U(()=>{var f;let m=[];return(f=s.value)==null||f.forEach(g=>{m.push({value:g.downloadSpeed})}),m}),v=U(()=>{var f;let m="";if(s.value){let g=((f=s.value)==null?void 0:f.length)||0;if(g>0){let h=s.value[g-1];m=i(h.uploadSpeed)+"/s"}}return m}),r=U(()=>{var f;let m="";if(s.value){let g=((f=s.value)==null?void 0:f.length)||0;if(g>0){let h=s.value[g-1];m=i(h.downloadSpeed)+"/s"}}return m});U(()=>{var f;let m=[];return(f=s.value)==null||f.forEach(g=>{m.push({value:g.downloadSpeed+g.uploadSpeed})}),m});const d=()=>L(this,null,function*(){var m;try{const f=yield M.Network.Statistics.GET();if(f.data&&(m=f.data.result)!=null&&m.items){const g=f.data.result.slots||10;if(f.data.result.items.length<g){let h=f.data.result.items;for(;h.length<g;)h=[{downloadSpeed:0,endTime:0,startTime:0,uploadSpeed:0}].concat(h);s.value=h}else f.data.result.items.length>g?s.value=f.data.result.items.slice(g-f.data.result.items.length):s.value=f.data.result.items}}catch(f){console.log(f)}}),a=qt.dateForm,i=qt.byteToSize,F=b();let C=null;const $=m=>(C=iu(m,"dark"),C.setOption({animation:!1,backgroundColor:"transparent",color:["transparent","transparent"],tooltip:{trigger:"axis",formatter:f=>{if(Array.isArray(f)){let g="";f.length>0&&(g=o(f[0].axisValue));for(let h=0;h<f.length;h++)g=`${g}<br>${f[h].seriesName}: ${i(f[h].value)}/s`;return g.toString()}else{const g=f;return`${o(g.axisValue)}<br>${g.seriesName}: ${i(g.value)}/s`}}},xAxis:{type:"category",boundaryGap:!1,splitLine:{lineStyle:{color:["#999"]},show:!1},name:"",show:!1,nameGap:0,nameTextStyle:{height:0,lineHeight:0,padding:0}},yAxis:{type:"value",name:"",minInterval:1e4,interval:1e3,axisLabel:{formatter:function(f,g){return`${i(f)}/s`},color:"#fff",show:!1},nameTextStyle:{color:"#fff"},splitLine:{lineStyle:{color:["#999"]},show:!1}},series:[{name:"\u4E0B\u8F7D",data:_.value,type:"line",smooth:!0,areaStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"rgba(32, 199, 247, 1)"},{offset:1,color:"rgba(32, 199, 247, 0.1)"}],global:!1}}},{name:"\u4E0A\u4F20",data:c.value,type:"line",smooth:!0,areaStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"rgba(85, 58, 254, 1)"},{offset:1,color:"rgba(85, 58, 254, 0.1)"}],global:!1}}}],grid:{left:"0%",right:"0%",bottom:"0%",top:"0w",containLabel:!0}}),C);return nt(()=>{setTimeout(()=>L(this,null,function*(){if(F.value){yield d();const m=$(F.value),f=F.value;m.resize({width:f.clientWidth,height:f.clientHeight}),window.addEventListener("resize",()=>{m.resize({width:f.clientWidth,height:f.clientHeight})});const g=()=>L(this,null,function*(){C!=null&&(yield d(),C!=null&&(m.setOption({series:[{name:"\u4E0B\u8F7D",data:_.value,type:"line",areaStyle:{},smooth:!0},{name:"\u4E0A\u4F20",data:c.value,type:"line",areaStyle:{},smooth:!0}]}),setTimeout(g,5e3)))});setTimeout(g,5e3)}}),900)}),wt(()=>{C!=null&&(C.dispose(),C=null)}),(m,f)=>(n(),l("div",ha,[t("div",{ref_key:"el",ref:F,class:"echart"},null,512),t("div",Fa,[v.value?(n(),l("span",ma,p(y(u)("\u4E0A\u4F20"))+": "+p(v.value),1)):E("v-if",!0),r.value?(n(),l("span",fa,p(y(u)("\u4E0B\u8F7D"))+": "+p(r.value),1)):E("v-if",!0)])]))}});var Ea=I(ga,[["__scopeId","data-v-cea2fdc2"],["__file","/projects/github/linkease/istorex/web/src/pages/next-nas/components/widget/DataFlow/flow-chart.vue"]]);const Ie=e=>(j("data-v-02848c3c"),e=e(),H(),e),Ca={class:"width-45 responsive"},ba={class:"width-55 responsive"},ya={class:"network"},Da=Ie(()=>t("img",{src:Yo,alt:"network"},null,-1)),$a={class:"device"},ka=Ie(()=>t("img",{src:Jo,alt:"device"},null,-1)),wa={class:"ip-dns"},xa={class:"title"},Ba={class:"ip"},Aa={class:"title"},Sa={class:"dns"},Ia=P({__name:"index",setup(e){const{$gettext:u}=K,s=qt.stampForm,o=a=>{switch(a){case"pppoe":return u("\u62E8\u53F7\u4E0A\u7F51");case"static":return u("\u9759\u6001\u7F51\u7EDC");case"dhcp":return"DHCP"}return a&&a.toUpperCase()},c=a=>{switch(a){case"manual":return u("\u624B\u52A8\u914D\u7F6E");case"auto":return u("\u81EA\u52A8\u83B7\u53D6");default:return""}},_=mt({ipv4addr:"",ipv6addr:"",internetConnected:!1,proto:"",dnsProto:"",dnsList:[],uptimeStamp:0}),v=b({devices:[]}),r=()=>L(this,null,function*(){M.Network.Status.GET().then(a=>{if(a!=null&&a.data){const{result:i}=a==null?void 0:a.data;i&&(_.ipv4addr=i.ipv4addr,_.proto=i.proto,_.dnsProto=i.dnsProto,_.ipv6addr=i.ipv6addr,_.dnsList=i.dnsList,_.uptimeStamp=i.uptimeStamp,window.setInterval(()=>{_.uptimeStamp&&(_.uptimeStamp=_.uptimeStamp+1)},1e3))}})}),d=()=>L(this,null,function*(){M.Network.Device.List.GET().then(a=>{if(a!=null&&a.data){const{result:i}=a==null?void 0:a.data;v.value={devices:(i==null?void 0:i.devices)||[]}}})});return r(),d(),(a,i)=>(n(),q(ft,null,{default:T(()=>[t("div",Ca,[A(Z,{title:y(u)("\u6D41\u91CF\u7EDF\u8BA1"),span:24,padding:"0 8px"},{default:T(()=>[A(Ea)]),_:1},8,["title"])]),t("div",ba,[A(Z,{span:12},{default:T(()=>[t("div",ya,[Da,t("div",null,[t("span",null,p(y(u)("\u5DF2\u8FDE\u63A5\u4E92\u8054\u7F51")),1),t("span",null,p(y(s)(_.uptimeStamp)),1)])])]),_:1}),A(Z,{span:12},{default:T(()=>{var F;return[t("div",$a,[ka,t("div",null,[t("span",null,p(y(u)("\u5DF2\u8FDE\u63A5\u8BBE\u5907")),1),t("span",null,p(`${(F=v.value.devices)==null?void 0:F.length}${y(u)("\u53F0")}`),1)])])]}),_:1}),A(Z,{span:24},{default:T(()=>[t("div",wa,[t("span",xa,p(y(u)("IP\u5730\u5740")),1),t("div",Ba,[t("span",null,p(`IPv4\uFF1A${_.ipv4addr}\uFF08${o(_.proto||"")}\uFF09`),1),t("span",null,p(`IPv6\uFF1A${_.ipv6addr||"-"}`),1)]),t("span",Aa,p(`DNS\uFF08${c(_.dnsProto||"")}\uFF09`),1),t("div",Sa,[(n(!0),l(N,null,J(_.dnsList,F=>(n(),l("span",null,p(F),1))),256))])])]),_:1})])]),_:1}))}});var Va=I(Ia,[["__scopeId","data-v-02848c3c"],["__file","/projects/github/linkease/istorex/web/src/pages/next-nas/components/widget/DataFlow/index.vue"]]),Pa="/luci-static/istorex/open.svg?v=84274947",Ma="/luci-static/istorex/info.svg?v=7035c5f2";const Ct=e=>(j("data-v-f17bb4ba"),e=e(),H(),e),Ta=Ct(()=>t("div",{class:"action-header"},[t("div",{class:"action-header_title"},"\u786C\u76D8\u914D\u7F6E")],-1)),La={class:"action-body"},Na={class:"disk-info"},za=Ct(()=>t("div",{class:"disk-info_icon"},[t("svg",{t:"1642589762094",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"11301",width:"128",height:"128"},[t("path",{d:"M899.892468 123.889088c0-44.342099-36.286708-80.620486-80.624646-80.620486H204.728017C160.385918 43.268602 124.107532 79.546988 124.107532 123.889088v802.847056c0 44.342099 36.278386 80.620486 80.620485 80.620486h614.539805c44.337938 0 80.624646-36.278386 80.624646-80.620486V123.889088z",fill:"#D0D0DB","p-id":"11302"}),t("path",{d:"M169.8768 977.7772V174.930143c0-44.342099 36.278386-80.620486 80.620486-80.620485h614.539804c9.936092 0 19.426974 1.905666 28.239639 5.23434-11.525534-30.507298-40.996782-52.389169-75.398629-52.389169H203.342457c-44.342099 0-80.620486 36.278386-80.620486 80.620486v802.851217c0 34.410168 21.881871 63.873094 52.385008 75.381985A79.730065 79.730065 0 0 1 169.8768 977.7772z",fill:"#FFFFFF","p-id":"11303"}),t("path",{d:"M820.657543 40.497481H206.117739c-44.342099 0-80.620486 36.278386-80.620486 80.620485v802.847057c0 44.342099 36.278386 80.620486 80.620486 80.620486h614.539804c44.337938 0 80.624646-36.278386 80.624647-80.620486V121.117966c0-44.342099-36.286708-80.620486-80.624647-80.620485z m19.60173 828.785749c0 40.846992-33.43237 74.279362-74.287684 74.279361H199.780776c-40.855313 0-74.279362-33.424048-74.279362-74.279361V129.593603c0-40.855313 33.424048-74.279362 74.279362-74.279362h566.203296c40.842831 0 74.283522 33.424048 74.283522 74.279362l-0.008321 739.689627z",fill:"#6E6E96","p-id":"11304"}),t("path",{d:"M815.106979 1024H200.567175C146.933914 1024 103.303319 980.369405 103.303319 926.736144V123.889088C103.303319 70.255827 146.933914 26.625232 200.567175 26.625232h614.539804c53.633261 0 97.268017 43.630595 97.268017 97.263856v802.847056c0 53.633261-43.634756 97.263856-97.268017 97.263856zM200.567175 59.911972C165.287391 59.911972 136.590059 88.609303 136.590059 123.889088v802.847056c0 35.279784 28.697331 63.977115 63.977116 63.977115h614.539804c35.279784 0 63.981276-28.697331 63.981276-63.977115V123.889088c0-35.279784-28.701492-63.977115-63.981276-63.977116H200.567175z",fill:"#6E6E96","p-id":"11305"}),t("path",{d:"M301.946104 941.515457h429.985632v65.841173H301.946104z",fill:"#8A8AA1","p-id":"11306"}),t("path",{d:"M731.931736 1024H301.946104a16.64337 16.64337 0 0 1-16.64337-16.64337V941.515457a16.64337 16.64337 0 0 1 16.64337-16.64337h429.985632a16.64337 16.64337 0 0 1 16.64337 16.64337v65.841173a16.64337 16.64337 0 0 1-16.64337 16.64337z m-413.342262-33.286741h396.698892v-32.554432H318.589474v32.554432z",fill:"#6E6E96","p-id":"11307"}),t("path",{d:"M337.230049 960.318304h20.804213v47.038326h-20.804213zM386.565159 960.318304h20.804213v47.038326h-20.804213zM435.891948 960.318304h20.804213v47.038326h-20.804213zM485.231219 960.318304h20.804213v47.038326h-20.804213zM534.558008 960.318304h20.804213v47.038326h-20.804213zM583.897279 960.318304h20.804213v47.038326h-20.804213zM633.224068 960.318304h20.804213v47.038326h-20.804213zM682.563339 960.318304h20.804213v47.038326h-20.804213z",fill:"#FFE599","p-id":"11308"}),t("path",{d:"M219.153659 140.794591m-26.874883 0a26.874882 26.874882 0 1 0 53.749765 0 26.874882 26.874882 0 1 0-53.749765 0Z",fill:"#ADADD1","p-id":"11309"}),t("path",{d:"M219.153659 184.312843c-23.995579 0-43.518252-19.522673-43.518253-43.518252s19.522673-43.518252 43.518253-43.518253 43.518252 19.522673 43.518252 43.518253-19.522673 43.518252-43.518252 43.518252z m0-53.749764c-5.642103 0-10.231512 4.589409-10.231512 10.231512s4.589409 10.231512 10.231512 10.231512 10.231512-4.589409 10.231511-10.231512-4.589409-10.231512-10.231511-10.231512z",fill:"#6E6E96","p-id":"11310"}),t("path",{d:"M801.28466 140.794591m-26.870721 0a26.870721 26.870721 0 1 0 53.741442 0 26.870721 26.870721 0 1 0-53.741442 0Z",fill:"#ADADD1","p-id":"11311"}),t("path",{d:"M801.28466 184.308683c-23.995579 0-43.514092-19.518512-43.514091-43.514092s19.518512-43.514092 43.514091-43.514092 43.514092 19.518512 43.514092 43.514092-19.518512 43.514092-43.514092 43.514092z m0-53.741443c-5.637942 0-10.227351 4.589409-10.227351 10.227351s4.589409 10.227351 10.227351 10.227351 10.227351-4.589409 10.227351-10.227351-4.589409-10.227351-10.227351-10.227351z",fill:"#6E6E96","p-id":"11312"}),t("path",{d:"M801.280499 905.23291m-26.870721 0a26.870721 26.870721 0 1 0 53.741443 0 26.870721 26.870721 0 1 0-53.741443 0Z",fill:"#ADADD1","p-id":"11313"}),t("path",{d:"M801.280499 948.747001c-23.995579 0-43.514092-19.518512-43.514091-43.514091s19.518512-43.514092 43.514091-43.514092 43.514092 19.518512 43.514092 43.514092-19.518512 43.514092-43.514092 43.514091z m0-53.741442c-5.637942 0-10.227351 4.589409-10.227351 10.227351s4.589409 10.227351 10.227351 10.227351 10.227351-4.589409 10.227351-10.227351-4.589409-10.227351-10.227351-10.227351z",fill:"#6E6E96","p-id":"11314"}),t("path",{d:"M219.153659 905.23291m-26.870722 0a26.870721 26.870721 0 1 0 53.741443 0 26.870721 26.870721 0 1 0-53.741443 0Z",fill:"#ADADD1","p-id":"11315"}),t("path",{d:"M219.153659 948.747001c-23.995579 0-43.514092-19.518512-43.514092-43.514091s19.518512-43.514092 43.514092-43.514092 43.514092 19.518512 43.514091 43.514092-19.522673 43.514092-43.514091 43.514091z m0-53.741442c-5.637942 0-10.227351 4.589409-10.227351 10.227351s4.589409 10.227351 10.227351 10.227351 10.227351-4.589409 10.227351-10.227351-4.589409-10.227351-10.227351-10.227351z",fill:"#6E6E96","p-id":"11316"}),t("path",{d:"M520.972857 777.43263c-142.542145 0-258.508988-115.971004-258.508988-258.52147a16.64337 16.64337 0 0 1 33.28674 0c0 124.19699 101.033579 225.23473 225.222248 225.23473s225.222248-101.03774 225.222248-225.23473c0-124.188668-101.033579-225.218087-225.222248-225.218087a16.64337 16.64337 0 0 1 0-33.286741c142.542145 0 258.508988 115.966843 258.508988 258.504828 0 142.550466-115.966843 258.521471-258.508988 258.52147z",fill:"#6E6E96","p-id":"11317"}),t("path",{d:"M520.968696 518.919481m-83.312551 0a83.312551 83.312551 0 1 0 166.625102 0 83.312551 83.312551 0 1 0-166.625102 0Z",fill:"#A9A9BA","p-id":"11318"}),t("path",{d:"M520.968696 618.875402c-55.114521 0-99.955921-44.83724-99.955921-99.95176 0-55.118682 44.8414-99.955921 99.955921-99.955921s99.95176 44.8414 99.95176 99.955921c0 55.11036-44.83724 99.95176-99.95176 99.95176z m0-166.625101c-36.761044 0-66.669181 29.908136-66.66918 66.66918s29.908136 66.66502 66.66918 66.66502 66.66502-29.908136 66.66502-66.66502c0-36.761044-29.903976-66.669181-66.66502-66.66918z",fill:"#6E6E96","p-id":"11319"}),t("path",{d:"M301.946104 941.515457h429.985632v36.977408H301.946104z",fill:"#6E6E96","p-id":"11320"})])],-1)),qa={key:0,class:"disk-info_mount-name"},ja={key:1,class:"disk-info_mount-name"},Ha={key:0,class:"label-item"},Oa=Ct(()=>t("div",{class:"label-item_key"},[t("span",null,"\u76EE\u6807\u5206\u533A")],-1)),Ua={class:"label-item_path"},Ra={class:"label-item"},Ga=Ct(()=>t("div",{class:"label-item_key"},[t("span",null,"\u683C\u5F0F\u5316\u9009\u9879")],-1)),Wa={class:"label-item_value"},Za=["disabled"],Xa={key:0,value:""},Qa=Ct(()=>t("option",{value:"format"},"\u683C\u5F0F\u5316",-1)),Ya={key:1,value:"default"},Ja={class:"label-item_value"},Ka={key:0,class:"msg"},ti={key:1,class:"msg"},ei={class:"action-footer"},ui=Ct(()=>t("div",{class:"auto"},null,-1)),si=["disabled"],ni=["disabled"],oi={key:1,class:"action result"},ai={class:"action-body"},ii=Ct(()=>t("div",{class:"action-body_icon"},[t("svg",{t:"1642063181211",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"5062",width:"128",height:"128","data-v-cda444e0":""},[t("path",{d:"M512 85.333333c235.648 0 426.666667 191.018667 426.666667 426.666667s-191.018667 426.666667-426.666667 426.666667S85.333333 747.648 85.333333 512 276.352 85.333333 512 85.333333z m-74.965333 550.4L346.453333 545.152a42.666667 42.666667 0 1 0-60.330666 60.330667l120.704 120.704a42.666667 42.666667 0 0 0 60.330666 0l301.653334-301.696a42.666667 42.666667 0 1 0-60.288-60.330667l-271.530667 271.488z",fill:"#52C41A","p-id":"5063","data-v-cda444e0":""})])],-1)),li=Ct(()=>t("div",{class:"action-body_msg"},"\u683C\u5F0F\u5316\u6210\u529F",-1)),ci={key:0,class:"action-body_info"},di={key:1,class:"action-body_info"},ri={class:"btns"},_i=P({__name:"index",props:{action:String,disk:{type:Object,required:!0},mount:{type:Object},Close:{type:Function},Cancel:{type:Function},Next:{type:Function}},setup(e){const u=e,s=()=>{u.Close&&u.Close()},o=h=>{h.preventDefault(),u.Cancel&&u.Cancel(),s()},c=h=>{u.Next&&u.Next(h),s()},_=b(!1),v=b(0),r=h=>{v.value=h},d=b(u.action=="nas"?"":"format"),a=b(),i=b(),F=()=>{switch(d.value){case"format":$();return;case"default":C();return;default:x.Warning("\u8BF7\u9009\u62E9\u9009\u7EBF");return}},C=()=>{let h="";const w=u.mount;if(w!=null&&w.mountPoint!=null&&(h=w.mountPoint),h!=""){c(h);return}x.Warning("\u65E0\u6CD5\u8BC6\u522B\u8DEF\u5F84")},$=()=>{const h=u.disk,w=u.mount;if(w){const S=w.mountPoint||w.path;if(!confirm(`\u8B66\u544A\uFF1A\u683C\u5F0F\u5316\u4F1A\u6E05\u7A7A ${S} \u5206\u533A\u6570\u636E\uFF0C\u8BF7\u4F60\u8C28\u614E\u64CD\u4F5C`)||!confirm(`\u662F\u5426\u786E\u5B9A\u683C\u5F0F\u5316 ${S}?`))return;f(w);return}if(h){if(!confirm(`\u8B66\u544A\uFF1A\u8BE5\u64CD\u4F5C\u5C06\u521D\u59CB\u5316 ${h.venderModel} \u786C\u76D8\u5E76\u521B\u5EFA\u5206\u533A\uFF0C\u8BF7\u4F60\u8C28\u614E\u64CD\u4F5C`)||!confirm("\u662F\u5426\u786E\u5B9A\u521D\u59CB\u5316?"))return;m(h);return}x.Warning("\u65E0\u6CD5\u8BC6\u522B\u6570\u636E")},m=h=>L(this,null,function*(){if(h.name==null||h.path==""){x.Warning("\u83B7\u53D6\u4E0D\u5230\u8BBE\u5907\u540D\u79F0");return}if(h.path==null||h.path==""){x.Warning("\u83B7\u53D6\u4E0D\u5230\u8BBE\u5907\u8DEF\u5F84");return}_.value=!0;const w=x.Loading("\u521D\u59CB\u5316\u4E2D...");try{const S=yield M.Nas.Disk.Init.POST({name:h.name,path:h.path});if(S!=null&&S.data){const{result:k,error:D}=S==null?void 0:S.data;D&&x.Warning(D),k&&(k.errorInfo?x.Warning(k.errorInfo):(x.Success("\u521D\u59CB\u5316\u6210\u529F"),k.childrens&&k.childrens.length>0&&(i.value=k.childrens[0]),a.value=k,r(1)))}}catch(S){x.Error(S)}w.Close(),_.value=!1}),f=h=>L(this,null,function*(){if(h.path==null||h.path==""){x.Warning("\u83B7\u53D6\u4E0D\u5230\u5206\u533A\u8DEF\u5F84");return}_.value=!0;const w=x.Loading("\u683C\u5F0F\u5316\u4E2D...");try{const S=yield M.Nas.Disk.Partition.Format.POST({path:h.path,uuid:h.uuid,mountPoint:h.mountPoint});if(S!=null&&S.data){const{result:k,error:D}=S==null?void 0:S.data;D&&x.Warning(D),k&&(x.Success("\u683C\u5F0F\u5316\u6210\u529F"),i.value=k,r(1))}}catch(S){x.Error(S)}w.Close(),_.value=!1}),g=()=>{if(i.value&&i.value.mountPoint){c(i.value.mountPoint);return}x.Warning("\u8BFB\u53D6\u7ED3\u679C\u5931\u8D25")};return(h,w)=>(n(),q(at,{type:1},{default:T(()=>[A(Lt,{name:"rotate",mode:"out-in"},{default:T(()=>{var S;return[v.value==0?(n(),l("form",{key:0,class:"action format",onSubmit:ct(F,["prevent"])},[Ta,t("div",La,[t("div",Na,[za,e.mount?(n(),l("div",qa,[t("span",null,"\u3010"+p(e.mount.total)+"\u3011",1),t("span",null,p(e.mount.mountPoint||e.mount.path),1)])):e.disk?(n(),l("div",ja,[t("span",null,"\u3010"+p(e.disk.size)+"\u3011",1),t("span",null,p(e.disk.venderModel),1)])):E("v-if",!0)]),e.mount?(n(),l("div",Ha,[Oa,t("div",Ua,p(e.mount.mountPoint||e.mount.path)+"\uFF08"+p(e.mount.total)+"\uFF09 ",1)])):E("v-if",!0),t("div",Ra,[Ga,t("div",Wa,[z(t("select",{"onUpdate:modelValue":w[0]||(w[0]=k=>d.value=k),required:"",disabled:e.action=="disk"},[e.mount!=null?(n(),l("option",Xa,"\u8BF7\u9009\u62E9\u9009\u9879")):E("v-if",!0),Qa,e.mount!=null?(n(),l("option",Ya," \u4E0D\u683C\u5F0F\u5316,\u4F7F\u7528\u539F\u6587\u4EF6\u7CFB\u7EDF ")):E("v-if",!0)],8,Za),[[gt,d.value]])]),t("div",Ja,[d.value=="format"?(n(),l("p",Ka," \u683C\u5F0F\u5316\u4E3AEXT4\u6587\u4EF6\u7CFB\u7EDF\uFF0C\u4F20\u8F93\u901F\u5EA6\u66F4\u5FEB ")):d.value=="default"?(n(),l("p",ti)):E("v-if",!0)])])]),t("div",ei,[ui,t("button",{class:"cbi-button cbi-button-remove app-btn app-back",onClick:o,type:"button",disabled:_.value}," \u8FD4\u56DE ",8,si),t("button",{class:"cbi-button cbi-button-apply app-btn app-next",disabled:_.value}," \u4E0B\u4E00\u6B65 ",8,ni)])],32)):v.value==1?(n(),l("div",oi,[t("div",ai,[ii,li,a.value?(n(),l("div",ci,[W(" \u5DF2\u7ECF\u6210\u529F\u683C\u5F0F\u5316\u78C1\u76D8 "+p(a.value.venderModel)+" \u5E76\u6302\u8F7D\u5230 ",1),t("a",null,p((S=i.value)==null?void 0:S.mountPoint),1)])):E("v-if",!0),i.value?(n(),l("div",di,[W(" \u5DF2\u7ECF\u6210\u529F\u521D\u59CB\u5316\u5206\u533A "),t("a",null,p(i.value.mountPoint),1)])):E("v-if",!0),t("div",ri,[t("button",{class:"cbi-button cbi-button-apply app-btn app-next",type:"button",onClick:g},p(e.action=="nas"?"\u4E0B\u4E00\u6B65":"\u5B8C\u6210"),1)])])])):E("v-if",!0)]}),_:1})]),_:1}))}});var pi=I(_i,[["__scopeId","data-v-f17bb4ba"],["__file","/projects/github/linkease/istorex/web/src/components/action-disk-format/index.vue"]]),Ve=e=>{const u=document.createElement("div");document.body.appendChild(u);const s=ot(pi,ht(vt({},e),{Close:()=>{o()}}));s.mount(u);const o=()=>{s.unmount(),u.remove()};return{Close:o}};const $t=e=>(j("data-v-33565a83"),e=e(),H(),e),vi=$t(()=>t("div",{class:"action-header"},[t("div",{class:"action-header_title"})],-1)),hi={class:"action-body"},Fi={class:"disk-info"},mi=$t(()=>t("div",{class:"disk-info_icon"},[t("svg",{t:"1642589762094",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"11301",width:"128",height:"128"},[t("path",{d:"M899.892468 123.889088c0-44.342099-36.286708-80.620486-80.624646-80.620486H204.728017C160.385918 43.268602 124.107532 79.546988 124.107532 123.889088v802.847056c0 44.342099 36.278386 80.620486 80.620485 80.620486h614.539805c44.337938 0 80.624646-36.278386 80.624646-80.620486V123.889088z",fill:"#D0D0DB","p-id":"11302"}),t("path",{d:"M169.8768 977.7772V174.930143c0-44.342099 36.278386-80.620486 80.620486-80.620485h614.539804c9.936092 0 19.426974 1.905666 28.239639 5.23434-11.525534-30.507298-40.996782-52.389169-75.398629-52.389169H203.342457c-44.342099 0-80.620486 36.278386-80.620486 80.620486v802.851217c0 34.410168 21.881871 63.873094 52.385008 75.381985A79.730065 79.730065 0 0 1 169.8768 977.7772z",fill:"#FFFFFF","p-id":"11303"}),t("path",{d:"M820.657543 40.497481H206.117739c-44.342099 0-80.620486 36.278386-80.620486 80.620485v802.847057c0 44.342099 36.278386 80.620486 80.620486 80.620486h614.539804c44.337938 0 80.624646-36.278386 80.624647-80.620486V121.117966c0-44.342099-36.286708-80.620486-80.624647-80.620485z m19.60173 828.785749c0 40.846992-33.43237 74.279362-74.287684 74.279361H199.780776c-40.855313 0-74.279362-33.424048-74.279362-74.279361V129.593603c0-40.855313 33.424048-74.279362 74.279362-74.279362h566.203296c40.842831 0 74.283522 33.424048 74.283522 74.279362l-0.008321 739.689627z",fill:"#6E6E96","p-id":"11304"}),t("path",{d:"M815.106979 1024H200.567175C146.933914 1024 103.303319 980.369405 103.303319 926.736144V123.889088C103.303319 70.255827 146.933914 26.625232 200.567175 26.625232h614.539804c53.633261 0 97.268017 43.630595 97.268017 97.263856v802.847056c0 53.633261-43.634756 97.263856-97.268017 97.263856zM200.567175 59.911972C165.287391 59.911972 136.590059 88.609303 136.590059 123.889088v802.847056c0 35.279784 28.697331 63.977115 63.977116 63.977115h614.539804c35.279784 0 63.981276-28.697331 63.981276-63.977115V123.889088c0-35.279784-28.701492-63.977115-63.981276-63.977116H200.567175z",fill:"#6E6E96","p-id":"11305"}),t("path",{d:"M301.946104 941.515457h429.985632v65.841173H301.946104z",fill:"#8A8AA1","p-id":"11306"}),t("path",{d:"M731.931736 1024H301.946104a16.64337 16.64337 0 0 1-16.64337-16.64337V941.515457a16.64337 16.64337 0 0 1 16.64337-16.64337h429.985632a16.64337 16.64337 0 0 1 16.64337 16.64337v65.841173a16.64337 16.64337 0 0 1-16.64337 16.64337z m-413.342262-33.286741h396.698892v-32.554432H318.589474v32.554432z",fill:"#6E6E96","p-id":"11307"}),t("path",{d:"M337.230049 960.318304h20.804213v47.038326h-20.804213zM386.565159 960.318304h20.804213v47.038326h-20.804213zM435.891948 960.318304h20.804213v47.038326h-20.804213zM485.231219 960.318304h20.804213v47.038326h-20.804213zM534.558008 960.318304h20.804213v47.038326h-20.804213zM583.897279 960.318304h20.804213v47.038326h-20.804213zM633.224068 960.318304h20.804213v47.038326h-20.804213zM682.563339 960.318304h20.804213v47.038326h-20.804213z",fill:"#FFE599","p-id":"11308"}),t("path",{d:"M219.153659 140.794591m-26.874883 0a26.874882 26.874882 0 1 0 53.749765 0 26.874882 26.874882 0 1 0-53.749765 0Z",fill:"#ADADD1","p-id":"11309"}),t("path",{d:"M219.153659 184.312843c-23.995579 0-43.518252-19.522673-43.518253-43.518252s19.522673-43.518252 43.518253-43.518253 43.518252 19.522673 43.518252 43.518253-19.522673 43.518252-43.518252 43.518252z m0-53.749764c-5.642103 0-10.231512 4.589409-10.231512 10.231512s4.589409 10.231512 10.231512 10.231512 10.231512-4.589409 10.231511-10.231512-4.589409-10.231512-10.231511-10.231512z",fill:"#6E6E96","p-id":"11310"}),t("path",{d:"M801.28466 140.794591m-26.870721 0a26.870721 26.870721 0 1 0 53.741442 0 26.870721 26.870721 0 1 0-53.741442 0Z",fill:"#ADADD1","p-id":"11311"}),t("path",{d:"M801.28466 184.308683c-23.995579 0-43.514092-19.518512-43.514091-43.514092s19.518512-43.514092 43.514091-43.514092 43.514092 19.518512 43.514092 43.514092-19.518512 43.514092-43.514092 43.514092z m0-53.741443c-5.637942 0-10.227351 4.589409-10.227351 10.227351s4.589409 10.227351 10.227351 10.227351 10.227351-4.589409 10.227351-10.227351-4.589409-10.227351-10.227351-10.227351z",fill:"#6E6E96","p-id":"11312"}),t("path",{d:"M801.280499 905.23291m-26.870721 0a26.870721 26.870721 0 1 0 53.741443 0 26.870721 26.870721 0 1 0-53.741443 0Z",fill:"#ADADD1","p-id":"11313"}),t("path",{d:"M801.280499 948.747001c-23.995579 0-43.514092-19.518512-43.514091-43.514091s19.518512-43.514092 43.514091-43.514092 43.514092 19.518512 43.514092 43.514092-19.518512 43.514092-43.514092 43.514091z m0-53.741442c-5.637942 0-10.227351 4.589409-10.227351 10.227351s4.589409 10.227351 10.227351 10.227351 10.227351-4.589409 10.227351-10.227351-4.589409-10.227351-10.227351-10.227351z",fill:"#6E6E96","p-id":"11314"}),t("path",{d:"M219.153659 905.23291m-26.870722 0a26.870721 26.870721 0 1 0 53.741443 0 26.870721 26.870721 0 1 0-53.741443 0Z",fill:"#ADADD1","p-id":"11315"}),t("path",{d:"M219.153659 948.747001c-23.995579 0-43.514092-19.518512-43.514092-43.514091s19.518512-43.514092 43.514092-43.514092 43.514092 19.518512 43.514091 43.514092-19.522673 43.514092-43.514091 43.514091z m0-53.741442c-5.637942 0-10.227351 4.589409-10.227351 10.227351s4.589409 10.227351 10.227351 10.227351 10.227351-4.589409 10.227351-10.227351-4.589409-10.227351-10.227351-10.227351z",fill:"#6E6E96","p-id":"11316"}),t("path",{d:"M520.972857 777.43263c-142.542145 0-258.508988-115.971004-258.508988-258.52147a16.64337 16.64337 0 0 1 33.28674 0c0 124.19699 101.033579 225.23473 225.222248 225.23473s225.222248-101.03774 225.222248-225.23473c0-124.188668-101.033579-225.218087-225.222248-225.218087a16.64337 16.64337 0 0 1 0-33.286741c142.542145 0 258.508988 115.966843 258.508988 258.504828 0 142.550466-115.966843 258.521471-258.508988 258.52147z",fill:"#6E6E96","p-id":"11317"}),t("path",{d:"M520.968696 518.919481m-83.312551 0a83.312551 83.312551 0 1 0 166.625102 0 83.312551 83.312551 0 1 0-166.625102 0Z",fill:"#A9A9BA","p-id":"11318"}),t("path",{d:"M520.968696 618.875402c-55.114521 0-99.955921-44.83724-99.955921-99.95176 0-55.118682 44.8414-99.955921 99.955921-99.955921s99.95176 44.8414 99.95176 99.955921c0 55.11036-44.83724 99.95176-99.95176 99.95176z m0-166.625101c-36.761044 0-66.669181 29.908136-66.66918 66.66918s29.908136 66.66502 66.66918 66.66502 66.66502-29.908136 66.66502-66.66502c0-36.761044-29.903976-66.669181-66.66502-66.66918z",fill:"#6E6E96","p-id":"11319"}),t("path",{d:"M301.946104 941.515457h429.985632v36.977408H301.946104z",fill:"#6E6E96","p-id":"11320"})])],-1)),fi={key:0,class:"disk-info_mount-name"},gi={key:1,class:"disk-info_mount-name"},Ei={key:0,class:"label-item"},Ci=$t(()=>t("div",{class:"label-item_key"},[t("span",null,"\u76EE\u6807\u5206\u533A")],-1)),bi={class:"label-item_path"},yi={class:"label-item"},Di=$t(()=>t("div",{class:"label-item_key"},[t("span",null,"\u6302\u8F7D\u70B9")],-1)),$i={class:"label-item_value"},ki={class:"action-footer"},wi=$t(()=>t("div",{class:"auto"},null,-1)),xi=["disabled"],Bi=["disabled"],Ai={key:1,class:"action result"},Si={class:"action-body"},Ii=$t(()=>t("div",{class:"action-body_icon"},[t("svg",{t:"1642063181211",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"5062",width:"128",height:"128","data-v-cda444e0":""},[t("path",{d:"M512 85.333333c235.648 0 426.666667 191.018667 426.666667 426.666667s-191.018667 426.666667-426.666667 426.666667S85.333333 747.648 85.333333 512 276.352 85.333333 512 85.333333z m-74.965333 550.4L346.453333 545.152a42.666667 42.666667 0 1 0-60.330666 60.330667l120.704 120.704a42.666667 42.666667 0 0 0 60.330666 0l301.653334-301.696a42.666667 42.666667 0 1 0-60.288-60.330667l-271.530667 271.488z",fill:"#52C41A","p-id":"5063","data-v-cda444e0":""})])],-1)),Vi=$t(()=>t("div",{class:"action-body_msg"},"\u6302\u8F7D\u6210\u529F",-1)),Pi={key:0,class:"action-body_info"},Mi={class:"btns"},Ti=P({__name:"index",props:{action:String,disk:{type:Object,required:!0},mount:{type:Object},Close:{type:Function},Cancel:{type:Function},Next:{type:Function}},setup(e){var $;const u=e,s=()=>{u.Close&&u.Close()},o=m=>{m.preventDefault(),u.Cancel&&u.Cancel(),s()},c=m=>{u.Next&&u.Next(m),s()},_=b(!1),v=b(0),r=b("/mnt/data_"+(($=u==null?void 0:u.mount)==null?void 0:$.name)),d=m=>{v.value=m};b(u.mount?"":"format"),b();const a=b(),i=()=>L(this,null,function*(){const m=u.mount;if(m==null){x.Warning("\u83B7\u53D6\u4E0D\u5230\u5206\u533A");return}if(m.path==null||m.path==""){x.Warning("\u83B7\u53D6\u4E0D\u5230\u5206\u533A\u8DEF\u5F84");return}if(m.uuid==null||m.uuid==""){x.Warning("\u83B7\u53D6\u4E0D\u5230\u5206\u533AID");return}_.value=!0;const f=x.Loading("\u6302\u8F7D\u4E2D...");try{const g=yield M.Nas.Disk.Partition.Mount.POST({path:m.path,uuid:m.uuid,mountPoint:r.value});if(g!=null&&g.data){const{result:h,error:w}=g==null?void 0:g.data;w&&x.Warning(w),h&&(x.Success("\u6302\u8F7D\u6210\u529F"),a.value=h,d(1))}}catch(g){x.Error(g)}f.Close(),_.value=!1}),F=()=>{if(a.value&&a.value.mountPoint){c(a.value.mountPoint);return}x.Warning("\u8BFB\u53D6\u7ED3\u679C\u5931\u8D25")},C=()=>{};return(m,f)=>(n(),q(at,{type:1},{default:T(()=>[A(Lt,{name:"rotate",mode:"out-in"},{default:T(()=>{var g,h;return[v.value==0?(n(),l("form",{key:0,class:"action format",onSubmit:ct(C,["prevent"])},[vi,t("div",hi,[t("div",Fi,[mi,e.mount?(n(),l("div",fi,[t("span",null,"\u3010"+p(e.mount.total)+"\u3011",1),t("span",null,p(e.mount.mountPoint),1)])):e.disk?(n(),l("div",gi,[t("span",null,"\u3010"+p(e.disk.size)+"\u3011",1),t("span",null,p(e.disk.venderModel),1)])):E("v-if",!0)]),e.mount?(n(),l("div",Ei,[Ci,t("div",bi,p(e.mount.path)+"\uFF08"+p(e.mount.total)+"\uFF0C"+p((h=(g=e.mount)==null?void 0:g.filesystem)==null?void 0:h.toUpperCase())+"\uFF09 ",1)])):E("v-if",!0),t("div",yi,[Di,t("div",$i,[z(t("input",{type:"text","onUpdate:modelValue":f[0]||(f[0]=w=>r.value=w)},null,512),[[Y,r.value,void 0,{trim:!0}]])])])]),t("div",ki,[wi,t("button",{class:"cbi-button cbi-button-apply app-btn app-next",disabled:_.value,onClick:i}," \u786E\u5B9A ",8,xi),t("button",{class:"cbi-button cbi-button-remove app-btn app-back",onClick:o,type:"button",disabled:_.value}," \u8FD4\u56DE ",8,Bi)])],32)):v.value==1?(n(),l("div",Ai,[t("div",Si,[Ii,Vi,a.value?(n(),l("div",Pi,[W(" \u5DF2\u6210\u529F\u5C06\u5206\u533A "+p(a.value.path)+" \u6302\u8F7D\u5230 ",1),t("a",null,p(a.value.mountPoint),1)])):E("v-if",!0),t("div",Mi,[t("button",{class:"cbi-button cbi-button-apply app-btn app-next",type:"button",onClick:F},p(e.action=="nas"?"\u5B8C\u6210":"\u4E0B\u4E00\u6B65"),1)])])])):E("v-if",!0)]}),_:1})]),_:1}))}});var Li=I(Ti,[["__scopeId","data-v-33565a83"],["__file","/projects/github/linkease/istorex/web/src/components/action-disk-mount/index.vue"]]),Pe=e=>{const u=document.createElement("div");document.body.appendChild(u);const s=ot(Li,ht(vt({},e),{Close:()=>{o()}}));s.mount(u);const o=()=>{s.unmount(),u.remove()};return{Close:o}};const Ni={class:"progress"},zi=P({__name:"index",props:{value:{type:Number,required:!0},text:{type:String}},setup(e){const u=e,s=U(()=>u.value>=80?"#e45e5e":u.value>=70?"#ff9800":u.value>=60?"#297ff3":u.value>0?"#53c31b":"");return(o,c)=>(n(),l("div",Ni,[t("div",{class:Xt(["progress-value",`${e.value>50}`]),style:et({width:`${e.value}%`,backgroundColor:s.value})},[t("span",null,p(e.text),1)],6),yt(o.$slots,"default",{},void 0,!0)]))}});var qi=I(zi,[["__scopeId","data-v-e4dc9700"],["__file","/projects/github/linkease/istorex/web/src/components/progress/index.vue"]]);const Me=e=>(j("data-v-30ac4516"),e=e(),H(),e),ji={class:"disk-content"},Hi={class:"disk-item"},Oi={class:"disk-item_name"},Ui={key:0},Ri={key:1},Gi={key:2},Wi={class:"disk_value"},Zi={key:0,class:"disk-item_value"},Xi={class:"value-data"},Qi={key:1,class:"disk-item_value"},Yi={key:0,class:"disk-item"},Ji={class:"disk-item_name"},Ki=["href"],tl={class:"disk_status"},el={class:"disk_status_item"},ul={key:0,class:"tooltip-trigger disk_tip"},sl=Me(()=>t("div",{class:"tooltip-text tooltip-top"},[t("div",{class:"disk_dir_tip"}," \u5F53\u524D\u78C1\u76D8\u4E3A\u53EA\u8BFB\u72B6\u6001\uFF0C\u53EF\u80FD\u5BFC\u81F4\u65E0\u6CD5\u5199\u5165\u6570\u636E ")],-1)),nl={class:"disk_status_item"},ol={key:0,class:"tooltip-trigger disk_tip"},al=Me(()=>t("div",{class:"tooltip-text tooltip-top"},[t("span",{class:"disk_dir_tip"},"\u5F53\u524D\u78C1\u76D8\u786C\u76D8\u683C\u5F0F\u4E3ANTFS\uFF0C\u53EF\u80FD\u5BFC\u81F4\u786C\u76D8\u51FA\u73B0\u517C\u5BB9\u6027\u95EE\u9898\uFF0C\u5EFA\u8BAE\u683C\u5F0F\u5316\u6210EXT4\u6587\u4EF6\u7CFB\u7EDF")],-1)),il=P({__name:"item",props:{part:{type:Object,required:!0},disk:{type:Object,required:!0}},setup(e){const u=e,s=U(()=>u.part.filesystem=="No FileSystem"),o=U(()=>s.value||!u.part.isSystemRoot&&u.part.mountPoint&&(u.part.isReadOnly||u.part.filesystem=="ntfs")),c=function(){Ve({action:"disk",disk:u.disk,mount:u.part,Cancel:()=>{},Next:a=>{location.reload()}})},_=()=>{Pe({action:"nas",disk:u.disk,mount:u.part,Cancel:()=>{},Next:()=>{location.reload()}})},v=()=>L(this,null,function*(){const a=x.Loading("\u5904\u7406\u4E2D...");try{const i=yield M.Nas.Disk.InitRest.POST({name:u.disk.name,path:u.disk.path});if(i!=null&&i.data){const{result:F,error:C}=i==null?void 0:i.data;C&&x.Warning(C),F&&(x.Success("\u6302\u8F7D\u6210\u529F"),location.reload())}}catch(i){x.Error(i)}a.Close()}),r=U(()=>u.part.filesystem=="Free Space"),d=U(()=>{const a=u.part.mountPoint?u.part.mountPoint:"";return a.indexOf("/mnt/")==0?"/cgi-bin/luci/admin/services/linkease/file/?path=/"+a.substring(5):"/cgi-bin/luci/admin/services/linkease/file/?path=/root"+a});return(a,i)=>{var C;const F=Zt("progress-item");return n(),l("div",ji,[t("li",Hi,[t("div",Oi,[r.value?(n(),l("span",Ui,"\u672A\u5206\u533A")):(n(),l("span",Ri,p(e.part.name)+p(e.part.mountPoint?"":s.value?"\uFF08\u672A\u683C\u5F0F\u5316\uFF09":"\uFF08\u672A\u6302\u8F7D\uFF09"),1)),e.part.isSystemRoot?(n(),l("span",Gi,"\uFF08\u7CFB\u7EDF\u5206\u533A\uFF09")):E("v-if",!0)]),t("div",Wi,[e.part.mountPoint||r.value?(n(),l("div",Zi,[t("div",Xi,[A(F,{value:r.value||!e.part.usage?0:e.part.usage,text:r.value?"\u672A\u5206\u533A\uFF08"+e.part.total+"\uFF09":e.part.used+"/"+e.part.total,style:{backgroundColor:"#767676"}},null,8,["value","text"])])])):s.value?E("v-if",!0):(n(),l("div",Qi,[t("div",{class:"value-data buttondiv",onClick:_},"\u624B\u52A8\u6302\u8F7D")])),r.value?(n(),l("button",{key:2,class:"cbi-button cbi-button-apply",onClick:v}," \u5206\u533A\u5E76\u683C\u5F0F\u5316 ")):o.value?(n(),l("button",{key:3,class:"cbi-button cbi-button-apply",onClick:c}," \u683C\u5F0F\u5316\u5206\u533A ")):E("v-if",!0)])]),e.part.mountPoint?(n(),l("li",Yi,[t("span",Ji,[t("a",{href:d.value,target:"_blank"},p(e.part.mountPoint),9,Ki)]),t("div",tl,[t("div",el,[t("div",null,"\u78C1\u76D8\u8BFB\u5199\u72B6\u6001\uFF1A"+p(e.part.isReadOnly?"\u53EA\u8BFB":"\u8BFB\u5199"),1),!e.part.isSystemRoot&&e.part.isReadOnly?(n(),l("div",ul,[A(dt),sl])):E("v-if",!0)]),t("div",nl,[t("div",null,"\u78C1\u76D8\u683C\u5F0F\uFF1A"+p((C=e.part.filesystem)==null?void 0:C.toUpperCase()),1),e.part.filesystem=="ntfs"?(n(),l("div",ol,[A(dt),al])):E("v-if",!0)])])])):E("v-if",!0)])}}});var ll=I(il,[["__scopeId","data-v-30ac4516"],["__file","/projects/github/linkease/istorex/web/src/components/action-disk-part/item.vue"]]);const Te=e=>(j("data-v-36fa66df"),e=e(),H(),e),cl={key:0,class:"action"},dl={class:"title"},rl=Te(()=>t("div",{class:"app-container_info"},[t("span",null,"\u5206\u533A / \u6302\u8F7D\u70B9"),t("span",null,"\u5BB9\u91CF")],-1)),_l={class:"app-container_body"},pl=Te(()=>t("div",{class:"auto"},null,-1)),vl=P({__name:"index",props:{disk:{type:Object,required:!0},Close:{type:Function},Cancel:{type:Function},Next:{type:Function}},setup(e){const u=e,s=b(0),o=()=>{u.Close&&u.Close()},c=_=>{_.preventDefault(),u.Cancel&&u.Cancel(),o()};return(_,v)=>(n(),q(at,{Close:e.Close,type:1},{default:T(()=>[A(Lt,{name:"rotate",mode:"out-in"},{default:T(()=>[s.value==0?(n(),l("div",cl,[t("h2",dl," \u5206\u533A\u4FE1\u606F - "+p((e.disk.name||"?")+(e.disk.isSystemRoot?"\uFF08\u7CFB\u7EDF\u76D8\uFF09":"")),1),t("ul",null,[t("li",null,[rl,t("div",_l,[(n(!0),l(N,null,J(e.disk.childrens,(r,d)=>(n(),q(ll,{key:d,part:r,disk:e.disk},null,8,["part","disk"]))),128))])])]),t("div",{class:"action-footer"},[pl,t("button",{class:"cbi-button cbi-button-remove app-btn app-back",onClick:c,type:"button"}," \u8FD4\u56DE ")])])):E("v-if",!0)]),_:1})]),_:1},8,["Close"]))}});var hl=I(vl,[["__scopeId","data-v-36fa66df"],["__file","/projects/github/linkease/istorex/web/src/components/action-disk-part/index.vue"]]),Fl=e=>{const u=document.createElement("div");document.body.appendChild(u);const s=ot(hl,ht(vt({},e),{Close:()=>{o()}}));s.component("progress-item",qi),s.mount(u);const o=()=>{s.unmount(),u.remove()};return{Close:o}},ml="/luci-static/istorex/warning.svg?v=69d55c8f";const Ht=e=>(j("data-v-3fb21505"),e=e(),H(),e),fl={class:"disk"},gl={key:0,class:"title"},El={class:"not-progress"},Cl={key:0},bl={class:"progress"},yl={class:"button"},Dl=["src"],$l=Ht(()=>t("span",null,"S.M.A.R.T\u5F02\u5E38",-1)),kl={key:1},wl={class:"progress"},xl={class:"button"},Bl={key:0,class:"tooltip-trigger"},Al={class:"disk_tip"},Sl=Ht(()=>t("div",null,[t("div",{class:"tooltip-text tooltip-top"},[t("span",{class:"disk_dir_tip"},"\u60A8\u7684\u7CFB\u7EDF\u7A7A\u95F4\u5DF2\u4E0D\u8DB3\uFF0C\u68C0\u6D4B\u5230\u60A8\u7684Docker\u6839\u76EE\u5F55\u4F4D\u4E8E\u7CFB\u7EDF\u6839\u76EE\u5F55\u4E0A\uFF0C\u53EF\u80FD\u4F1A\u5F71\u54CD\u7CFB\u7EDF\u7684\u6B63\u5E38\u8FD0\u884C\uFF0C\u5EFA\u8BAE\u4F7F\u7528Docker\u8FC1\u79FB\u5411\u5BFC\u5C06Docker\u6839\u76EE\u5F55\u8FC1\u79FB\u5230\u5916\u7F6E\u786C\u76D8\u4E0A\u3002")])],-1)),Il={key:1,class:"tooltip-trigger"},Vl={class:"disk_tip"},Pl=Ht(()=>t("div",null,[t("div",{class:"tooltip-text tooltip-top"},[t("span",{class:"disk_dir_tip"},"\u5206\u533A\u5B58\u5728\u5F02\u5E38\uFF0C\u70B9\u51FB\u5206\u533A\u5217\u8868\u67E5\u770B\u9519\u8BEF")])],-1)),Ml={key:2,class:"tooltip-trigger"},Tl={class:"disk_tip"},Ll=Ht(()=>t("div",null,[t("div",{class:"tooltip-text tooltip-top"},[t("span",{class:"disk_dir_tip"},"\u60A8\u7684\u7CFB\u7EDF\u7A7A\u95F4\u5DF2\u4E0D\u8DB3\uFF0C\u70B9\u51FB\u5206\u533A\u5217\u8868\u67E5\u770B\u9519\u8BEF")])],-1)),Nl=["onClick"],zl=["onClick"],ql={class:"progress"},jl={class:"button"},Hl=["onClick"],Ol={key:0},Ul={class:"progress"},Rl={class:"button"},Gl=["onClick"],Wl={key:1},Zl={class:"progress"},Xl={class:"button"},Ql=["onClick"],Yl=P({__name:"disk",props:{title:String,type:String,smartWarning:Boolean},setup(e){const u=e,s=Be(),o=U(()=>{var F,C,$,m;if(u.type==="systemRoot")return((C=(F=s==null?void 0:s.disk)==null?void 0:F.disks)==null?void 0:C.filter(f=>f.isSystemRoot))||[];if(u.type==="notSystemRoot")return[...($=s==null?void 0:s.disk)==null?void 0:$.disks].filter(f=>!f.isSystemRoot)||[];if(u.type==="raid")return[...(m=s==null?void 0:s.raid)==null?void 0:m.disks]}),c=F=>F.usage>80?"linear-gradient(91deg, #e7ab67 0.27%, #fa5b29 99.46%)":"linear-gradient(91deg, #4BCAE7 0.27%, #8ADE86 99.46%)",_=()=>{it({title:"S.M.A.R.T.",src:"/cgi-bin/luci/admin/nas/smart"})},v=F=>{Ve({action:"disk",disk:F,Cancel:()=>{},Next:()=>{location.reload()}})},r=F=>{Fl({action:"disk",disk:F,Cancel:()=>{},Next:()=>{location.reload()}})},d=F=>{const C=F.childrens||[];Pe({action:"nas",disk:F,mount:C[0],Cancel:()=>{},Next:()=>{location.reload()}})},a=F=>F.errorInfo?"error":F.childrens==null||F.childrens.length==0||F.childrens.length==1&&F.childrens[0].filesystem=="No FileSystem"?"load":F.childrens.filter(C=>C.mountPoint).length===0?"unmounted":"success",i=F=>{let C=F.name;return F.size&&(C+=`\u3010${F.size}\u3011`),F.venderModel&&(C+=`(${F.venderModel})`),C};return(F,C)=>{var $;return n(),l("div",fl,[($=o.value)!=null&&$.length?(n(),l("span",gl,p(u.title),1)):E("v-if",!0),(n(!0),l(N,null,J(o.value,(m,f)=>{var g,h,w,S,k;return n(),l("div",{class:"item",key:f},[E(" \u9519\u8BEF\u5185\u5BB9 "),a(m)==="error"?(n(),l(N,{key:0},[t("span",null,p(i(m)),1),t("div",El,[t("span",null,p(m.errorInfo),1)])],64)):a(m)=="success"?(n(),l(N,{key:1},[E(" \u6210\u529F\u5185\u5BB9 "),t("span",null,p(i(m)),1),m.smartWarning&&e.smartWarning?(n(),l("div",Cl,[t("div",bl,[t("div",{style:et({background:c(m),width:`${m.usage||0}%`})},null,4),t("span",null,p(`${m.used}/${m.total}`),1)]),t("div",yl,[t("span",{class:"btn",onClick:C[0]||(C[0]=D=>_())},[t("img",{src:y(ml)},null,8,Dl),$l])])])):(n(),l("div",kl,[t("div",wl,[t("div",{style:et({background:c(m),width:`${m.usage||0}%`})},null,4),t("span",null,p(`${m.used}/${m.total}`),1)]),t("div",xl,[m.isDockerRoot&&m.isSystemRoot&&m.usage&&m.usage>=90?(n(),l("span",Bl,[t("span",Al,[A(dt)]),Sl])):E("v-if",!0),!m.isSystemRoot&&(((g=m.childrens)==null?void 0:g.filter(D=>D.isReadOnly||D.filesystem=="ntfs").length)||0)>0?(n(),l("span",Il,[t("span",Vl,[A(dt)]),Pl])):E("v-if",!0),(h=m.childrens)!=null&&h.filter(D=>D.isSystemRoot&&D.usage&&D.usage>80).length?(n(),l("span",Ml,[t("span",Tl,[A(dt)]),Ll])):E("v-if",!0),!m.isSystemRoot&&(((w=m.childrens)==null?void 0:w.filter(D=>D.isReadOnly||D.filesystem=="ntfs").length)||0)>0?(n(),l("img",{key:3,src:Pa,onClick:D=>v(m),alt:""},null,8,Nl)):E("v-if",!0),t("img",{onClick:D=>r(m),src:Ma,alt:""},null,8,zl)])]))],64)):a(m)==="load"?(n(),l(N,{key:2},[E(" \u683C\u5F0F\u5316\u5E76\u6302\u8F7D\u5185\u5BB9 "),t("span",null,p(i(m)),1),t("div",ql,[t("div",{style:et({width:`${m.usage||0}%`})},null,4),t("span",null,p(`${m.used}/${m.total}`),1)]),t("div",jl,[t("span",{class:"btn",onClick:D=>v(m)},"\u683C\u5F0F\u5316\u5E76\u6302\u8F7D",8,Hl)])],64)):a(m)==="unmounted"?(n(),l(N,{key:3},[E(" \u672A\u6302\u8F7D\u5185\u5BB9 "),t("span",null,p(i(m)),1),((S=m.childrens)==null?void 0:S.length)==1?(n(),l("div",Ol,[t("div",Ul,[t("div",{style:et({background:c(m),width:`${m.usage||0}%`})},null,4),t("span",null,p(`${m.used}/${m.total}`),1)]),t("div",Rl,[t("span",{class:"btn",onClick:D=>d(m)},"\u624B\u52A8\u6302\u8F7D",8,Gl)])])):E("v-if",!0),(((k=m.childrens)==null?void 0:k.length)||0)>1?(n(),l("div",Wl,[t("div",Zl,[t("div",{style:et({background:c(m),width:`${m.usage||0}%`})},null,4),t("span",null,p(`${m.used}/${m.total}`),1)]),t("div",Xl,[t("span",{class:"btn",onClick:D=>r(m)},"\u624B\u52A8\u6302\u8F7D",8,Ql)])])):E("v-if",!0)],64)):E("v-if",!0)])}),128))])}}});var Rt=I(Yl,[["__scopeId","data-v-3fb21505"],["__file","/projects/github/linkease/istorex/web/src/pages/next-nas/components/widget/Network/disk.vue"]]),Ce="/luci-static/istorex/right.svg?v=173d63f8";const Jl=jt('<div class="app-container_status-label_iconer" data-v-0cec89d1><svg xmlns="http://www.w3.org/2000/svg" width="36" height="28" viewBox="0 0 36 28" fill="none" data-v-0cec89d1><rect width="36" height="28" rx="2" fill="#E6E6E6" data-v-0cec89d1></rect><rect x="3" y="19" width="6" height="6" fill="#CCCCCC" data-v-0cec89d1></rect><path fill-rule="evenodd" clip-rule="evenodd" d="M5 3C3.89543 3 3 3.89543 3 5V17H11V21H14V25H22V21H25V17H33V5C33 3.89543 32.1046 3 31 3H5ZM5.5 5H6.5V13H5.5V5ZM8.5 5H9.5V13H8.5V5ZM12.5 5H11.5V13H12.5V5ZM14.5 5H15.5V13H14.5V5ZM18.5 5H17.5V13H18.5V5ZM20.5 5H21.5V13H20.5V5ZM24.5 5H23.5V13H24.5V5ZM26.5 5H27.5V13H26.5V5ZM30.5 5H29.5V13H30.5V5Z" fill="#999999" data-v-0cec89d1></path></svg></div>',1),Kl={class:"app-container_status-label_text"},tc={class:"text_status"},ec={class:"text_info"},uc=jt('<div class="app-container_status-label_iconer" data-v-0cec89d1><svg xmlns="http://www.w3.org/2000/svg" width="36" height="28" viewBox="0 0 36 28" fill="none" data-v-0cec89d1><rect width="36" height="28" rx="2" fill="#E6E6E6" data-v-0cec89d1></rect><rect x="3" y="19" width="6" height="6" fill="#8ECF57" data-v-0cec89d1></rect><path fill-rule="evenodd" clip-rule="evenodd" d="M5 3C3.89543 3 3 3.89543 3 5V17H11V21H14V25H22V21H25V17H33V5C33 3.89543 32.1046 3 31 3H5ZM5.5 5H6.5V13H5.5V5ZM8.5 5H9.5V13H8.5V5ZM12.5 5H11.5V13H12.5V5ZM14.5 5H15.5V13H14.5V5ZM18.5 5H17.5V13H18.5V5ZM20.5 5H21.5V13H20.5V5ZM24.5 5H23.5V13H24.5V5ZM26.5 5H27.5V13H26.5V5ZM30.5 5H29.5V13H30.5V5Z" fill="#4D4D4D" data-v-0cec89d1></path></svg></div>',1),sc={class:"app-container_status-label_text"},nc={class:"text_info"},oc=P({__name:"item",props:{item:{type:Object,required:!0},transform:{type:Number,default:0}},setup(e){const{$gettext:u}=K,s=Ae(),o=e,c=b(null),_=r=>{const d=r.target,{left:a,top:i}=d.getBoundingClientRect();s.portitemStyle.show=!0,s.portitemStyle.left=a,s.portitemStyle.top=i,s.portitemStyle.portitem=o.item},v=r=>{s.portitemStyle.show=!1};return(r,d)=>(n(),l("div",{class:"app-container_status-label_bg",style:et(`transform: translateX(${e.transform}px);`),ref_key:"el",ref:c,onMouseenter:_,onMouseleave:v},[e.item.linkState=="DOWN"?(n(),l(N,{key:0},[Jl,t("div",Kl,[t("div",tc,p(y(u)("\u5DF2\u65AD\u5F00")),1),t("div",ec,p(e.item.name)+" "+p(e.item.interfaceNames?`(${e.item.interfaceNames.join(",").toLocaleUpperCase()})`:""),1)])],64)):(n(),l(N,{key:1},[uc,t("div",sc,[t("div",null,p(e.item.linkSpeed),1),t("div",nc,p(e.item.name)+" "+p(e.item.interfaceNames?`(${e.item.interfaceNames.join(",").toLocaleUpperCase()})`:""),1)])],64))],36))}});var ac=I(oc,[["__scopeId","data-v-0cec89d1"],["__file","/projects/github/linkease/istorex/web/src/pages/next-nas/components/widget/Network/interfacer/item.vue"]]);const ic=P({__name:"index",props:{portList:{type:Array,required:!0}},setup(e){const u=b(),s=b(0),o=b(0),c=b(0),_=b(!1),v=()=>{if(c.value>=0){c.value=0;return}c.value+=100},r=()=>{if(c.value<=0-s.value+o.value){c.value=0-s.value+o.value;return}c.value-=100};return nt(()=>{Ze(()=>{u.value&&(s.value=u.value.scrollWidth,o.value=u.value.clientWidth,_.value=s.value>o.value)})}),(d,a)=>(n(),l("div",{class:"app-interfaces",ref_key:"el",ref:u},[_.value?(n(),l(N,{key:0},[t("img",{src:Ce,class:"btn-f",alt:"",onClick:v}),t("img",{src:Ce,class:"btn-r",alt:"",onClick:r})],64)):E("v-if",!0),(n(!0),l(N,null,J(e.portList,(i,F)=>(n(),q(ac,{item:i,transform:c.value},null,8,["item","transform"]))),256))],512))}});var lc=I(ic,[["__scopeId","data-v-3a7a8cf8"],["__file","/projects/github/linkease/istorex/web/src/pages/next-nas/components/widget/Network/interfacer/index.vue"]]);const cc={class:"status-card"},dc=P({__name:"interfacer-status",setup(e){const u=mt({portList:[],load:!1});return(()=>{M.Network.PortList.GET().then(o=>{if(o!=null&&o.data){const{result:c}=o==null?void 0:o.data;c&&(u.portList=c.ports||[])}}).finally(()=>{u.load=!0})})(),(o,c)=>(n(),l("div",cc,[u.load?(n(),q(lc,{key:0,portList:u.portList},null,8,["portList"])):E("v-if",!0)]))}});var rc=I(dc,[["__scopeId","data-v-30ab202e"],["__file","/projects/github/linkease/istorex/web/src/pages/next-nas/components/widget/Network/interfacer-status.vue"]]);const rt={installApp:(e,u)=>new Promise((s,o)=>{let c=0;M.App.Install.POST({name:e}).then(()=>{const _=setTimeout(()=>{c==0&&(c=1,s(!1))},(u||60)*1e3),v=()=>{c==0&&M.App.Check.POST({name:e}).then(r=>{if(c==0&&r!=null&&r.data){const{result:d}=r.data;if((d==null?void 0:d.status)=="installed"){clearTimeout(_),c=1,s(!0);return}}}).catch(r=>{}).finally(()=>{c==0&&setTimeout(v,3e3)})};setTimeout(v,3e3)}).catch(_=>{c==0&&(c=1,o("\u5B89\u88C5\u5931\u8D25\uFF0C"+_))})}),checkAndInstallApp:(e,u,s)=>L(void 0,null,function*(){let o=x.Loading("\u68C0\u67E5\u4E2D...");try{const c=yield M.App.Check.POST({name:e});if(o.Close(),c!=null&&c.data){const{result:_,error:v}=c.data;if(v)x.Warning(v);else if(_){if(_.status=="installed")return!0;if(confirm(`\u68C0\u6D4B\u5230\u4F60\u5C1A\u672A\u5B89\u88C5 ${u} \u63D2\u4EF6,\u662F\u5426\u5B89\u88C5\uFF1F`)){o=x.Loading("\u6B63\u5728\u5B89\u88C5\u4E2D...");const r=yield rt.installApp(s||e);if(o.Close(),r)return!0;x.Error("\u5B89\u88C5\u5931\u8D25\u6216\u8D85\u65F6\uFF0C\u8BF7\u68C0\u67E5\u8F6F\u4EF6\u6E90\u6216\u7A0D\u5019\u91CD\u8BD5")}}else x.Warning("\u68C0\u67E5\u63D2\u4EF6\u72B6\u6001\u5931\u8D25")}return!1}catch(c){return o.Close(),x.Warning(c),!1}}),installAndGo:(e,u,s,o)=>L(void 0,null,function*(){(yield rt.checkAndInstallApp(e,u,o))&&(location.href=s)})};const _c={class:"width-50 responsive"},pc={class:"chart"},vc={class:"info"},hc={class:"width-50 responsive"},Fc=P({__name:"index",setup(e){const{$gettext:u}=K,s=qt.stampForm,o=mt({cpuUsage:0,cpuTemperature:0,memAvailablePercentage:0,uptime:0,localtime:""}),c=mt({firmwareVersion:"",kernelVersion:"",model:""});mt({root:[],loaded:[]});const _={interfaceconfig:[{text:"\u7F51\u53E3\u914D\u7F6E",onClick:()=>{it({title:"\u7F51\u53E3\u914D\u7F6E",src:"/cgi-bin/luci/admin/quickstart/interfaceconfig"})}}],system:[{text:"\u7CFB\u7EDF\u76D1\u63A7",onClick:()=>{rt.installAndGo("app-meta-netdata","NetData","/cgi-bin/luci/admin/status/netdata")}},{text:"\u5907\u4EFD\u5347\u7EA7",onClick:()=>{it({title:"\u5907\u4EFD\u5347\u7EA7",src:"/cgi-bin/luci/admin/system/flash"})}},{text:"\u63D2\u4EF6\u5907\u4EFD",onClick:()=>{it({title:"\u63D2\u4EF6\u5907\u4EFD",src:"/cgi-bin/luci/admin/store/pages/maintance"})}}],disk:[{text:"RAID\u7BA1\u7406",onClick:()=>{it({title:"RAID\u7BA1\u7406",src:"/cgi-bin/luci/admin/nas/raid"})}},{text:"S.M.A.R.T.",onClick:()=>{it({title:"S.M.A.R.T.",src:"/cgi-bin/luci/admin/nas/smart"})}},{text:"\u78C1\u76D8\u7BA1\u7406",onClick:()=>{it({title:"\u78C1\u76D8\u7BA1\u7406",src:"/cgi-bin/luci/admin/system/diskman"})}},{text:"\u6302\u8F7D\u70B9",onClick:()=>{it({title:"\u6302\u8F7D\u70B9",src:"/cgi-bin/luci/admin/system/mounts"})}}]},v=()=>L(this,null,function*(){var $,m,f,g,h;const C=yield M.System.Status.GET();console.log("getSystemStatus",C.data.result),C.data.result&&(o.uptime=($=C.data.result)==null?void 0:$.uptime,o.localtime=(m=C.data.result)==null?void 0:m.localtime,o.cpuUsage=((f=C.data.result)==null?void 0:f.cpuUsage)||0,o.memAvailablePercentage=100-((g=C.data.result)==null?void 0:g.memAvailablePercentage)||0,o.cpuTemperature=(h=C.data.result)==null?void 0:h.cpuTemperature,F.cpu&&F.cpu.setValue(o.cpuUsage),F.men&&F.men.setValue(o.memAvailablePercentage),F.temperature&&F.temperature.setValue(o.cpuTemperature),window.setInterval(()=>{o.uptime&&(o.uptime=o.uptime+1),o.localtime&&(o.localtime=String(me(me(o.localtime).unix()*1e3+1e3).format("YYYY-MM-DD HH:mm:ss")))},1e3))}),r=()=>L(this,null,function*(){var $,m,f;const C=yield M.System.Version.GET();console.log("getSystemVersion",C),C.data.result&&(c.firmwareVersion=($=C.data.result)==null?void 0:$.firmwareVersion,c.kernelVersion=(m=C.data.result)==null?void 0:m.kernelVersion,c.model=(f=C.data.result)==null?void 0:f.model)});Be();const d=b(null),a=b(null),i=b(null),F={cpu:null,men:null,temperature:null};return nt(()=>{d.value&&a.value&&i.value&&(F.cpu=Ut({el:d.value,value:o.cpuUsage,name:"CPU\u4F7F\u7528\u7387",labelColor:"rgba(0, 0, 0, 0.80)",numberColor:"#32CFA4",labelFontSize:10,numberFontSize:14,radius:"100%",progressBackgroundColor:"rgba(0, 0, 0, 0.04)",progressColor:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"#8ADE86"},{offset:1,color:"#4BCAE7"}],global:!1}}),F.men=Ut({el:a.value,value:o.memAvailablePercentage,name:"\u5185\u5B58\u4F7F\u7528\u7387",labelColor:"rgba(0, 0, 0, 0.80)",numberColor:"#F66631",labelFontSize:10,numberFontSize:14,radius:"100%",progressBackgroundColor:"rgba(0, 0, 0, 0.04)",progressColor:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"#E5B56E"},{offset:1,color:"#FD4812E5"}],global:!1}}),F.temperature=Ut({el:i.value,value:o.cpuTemperature,name:"CPU\u6E29\u5EA6",labelColor:"rgba(0, 0, 0, 0.80)",numberColor:"#32CFA4",labelFontSize:10,numberFontSize:14,radius:"100%",progressBackgroundColor:"rgba(0, 0, 0, 0.04)",unit:"\xB0C",progressColor:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"#8ADE86"},{offset:1,color:"#4BCAE7"}],global:!1}}))}),v(),r(),(C,$)=>(n(),q(ft,null,{default:T(()=>[t("div",_c,[A(Z,{title:y(u)("\u7F51\u7EDC\u63A5\u53E3\u72B6\u6001"),span:24,"more-actions":_.interfaceconfig,padding:"0 10px 8px 10px"},{default:T(()=>[A(rc)]),_:1},8,["title","more-actions"]),A(Z,{title:y(u)("\u7CFB\u7EDF\u4FE1\u606F"),padding:"0 10px 8px 10px",span:24,"more-actions":_.system},{default:T(()=>[t("div",pc,[t("div",{class:"gauge",ref_key:"temperature",ref:i},null,512),t("div",{class:"gauge",ref_key:"cpu",ref:d},null,512),t("div",{class:"gauge",ref_key:"men",ref:a},null,512)]),t("div",vc,[t("div",null,[t("span",null,p(y(u)("\u8BBE\u5907\u578B\u53F7"))+"\uFF1A",1),t("span",null,p(c.model),1)]),t("div",null,[t("span",null,p(y(u)("\u56FA\u4EF6\u7248\u672C"))+"\uFF1A",1),t("span",null,p(c.firmwareVersion),1)]),t("div",null,[t("span",null,p(y(u)("\u5185\u6838\u7248\u672C"))+"\uFF1A",1),t("span",null,p(c.kernelVersion),1)]),t("div",null,[t("span",null,p(y(u)("\u5DF2\u542F\u52A8"))+"\uFF1A",1),t("span",null,p(y(s)(o.uptime)),1)]),t("div",null,[t("span",null,p(y(u)("\u7CFB\u7EDF\u65F6\u95F4"))+"\uFF1A",1),t("span",null,p(o.localtime),1)])])]),_:1},8,["title","more-actions"])]),t("div",hc,[A(Z,{title:y(u)("\u78C1\u76D8\u4FE1\u606F"),padding:"0 10px 8px 10px",helpLink:"https://www.linkease.com/rd/8myYAEVA/",span:24,"more-actions":_.disk},{default:T(()=>[A(Rt,{title:y(u)("\u7CFB\u7EDF\u6839\u76EE\u5F55"),type:"systemRoot"},null,8,["title"]),A(Rt,{title:y(u)("\u5DF2\u6302\u8F7D\u78C1\u76D8"),smartWarning:!0,type:"notSystemRoot"},null,8,["title"]),A(Rt,{title:y(u)("RAID\u8BBE\u5907"),type:"raid"},null,8,["title"])]),_:1},8,["title","more-actions"])])]),_:1}))}});var mc=I(Fc,[["__scopeId","data-v-f8f7bdcc"],["__file","/projects/github/linkease/istorex/web/src/pages/next-nas/components/widget/Network/index.vue"]]),fc="/luci-static/istorex/setting.svg?v=9ffe8a9b";const gc={class:"app"},Ec={class:"setting"},Cc=["src"],bc=["src"],yc=P({__name:"app",props:{app:{type:null,required:!0}},setup(e){const u=e,s=c=>M.ApiStore.getStoreAppIcon(`/static-icon/openwrt-app-meta/app-meta-${c}/logo.png`),o=()=>{switch(K.defaultLanguage){case"zh-cn":case"zh-CN":case"zh-tw":return u.app.title}return u.app.title_en||u.app.title};return(c,_)=>(n(),l("div",gc,[c.app.isWebUrl()?(n(),l("div",{key:0,onClick:_[1]||(_[1]=v=>c.app.openWebUrl())},[t("span",Ec,[t("img",{src:fc,alt:"",onClick:_[0]||(_[0]=v=>{v.stopPropagation(),c.app.openApp()})})]),t("div",null,[t("img",{class:"app-icon",src:s(c.app.name),alt:"\u56FE\u6807\u51FA\u8D70\u5566"},null,8,Cc),t("span",null,p(o()),1)])])):(n(),l("div",{key:1,onClick:_[2]||(_[2]=v=>c.app.openApp())},[t("div",null,[t("img",{class:"app-icon",src:s(c.app.name),alt:"\u56FE\u6807\u51FA\u8D70\u5566"},null,8,bc),t("span",null,p(o()),1)])]))]))}});var Dc=I(yc,[["__scopeId","data-v-7732860e"],["__file","/projects/github/linkease/istorex/web/src/pages/next-nas/components/widget/AppStore/app.vue"]]);const $c=e=>(j("data-v-09cf09ac"),e=e(),H(),e),kc={class:"app-store"},wc=$c(()=>t("span",null,"APP Store",-1)),xc=P({__name:"index",setup(e){const{$gettext:u}=K,s=Xe(),o=U(()=>s.localApps.filter(_=>_.name!="istorex"));return(()=>L(this,null,function*(){yield s.getApp()}))(),(_,v)=>(n(),q(ft,{title:y(u)("\u5E94\u7528\u4E2D\u5FC3")},{default:T(()=>[t("div",kc,[t("div",{class:"store",onClick:v[0]||(v[0]=r=>y(Qe).Open())},[t("div",null,[t("div",null,[t("span",null,p(y(u)("\u5E94\u7528\u5546\u5E97")),1),wc])])]),(n(!0),l(N,null,J(o.value,r=>(n(),q(Dc,{app:r},null,8,["app"]))),256)),E(' <div style="flex: 1"></div> ')])]),_:1},8,["title"]))}});var Bc=I(xc,[["__scopeId","data-v-09cf09ac"],["__file","/projects/github/linkease/istorex/web/src/pages/next-nas/components/widget/AppStore/index.vue"]]),Ac="/luci-static/istorex/copy.png?v=7ec874a7";const _t=e=>(j("data-v-57132a64"),e=e(),H(),e),Sc={class:"actioner-container"},Ic=_t(()=>t("div",{class:"actioner-container_header"},[t("span",null,"\u57DF\u540D\u914D\u7F6E\u5411\u5BFC")],-1)),Vc={class:"actioner-container_body"},Pc={class:"label-item"},Mc=_t(()=>t("span",null,"DDNSTO",-1)),Tc=_t(()=>t("p",{class:"label_info"},"DDNSTO \u662F\u4E00\u4E2A\u4E0D\u9700\u8981\u516C\u7F51IP\u4E5F\u53EF\u4EE5\u5728\u5916\u7F51\u8BBF\u95EE\u7684\u7A7F\u900F\u57DF\u540D\u670D\u52A1\uFF0C\u4E00\u4E2A\u6D4F\u89C8\u5668\u641E\u5B9A\u5185\u7F51\u7A7F\u900F\uFF0C\u8FDC\u7A0B\u8BBF\u95EEOpenwrt\u3001\u8FDC\u7A0B\u7EC8\u7AEF\u3001\u8FDC\u7A0B\u684C\u9762...",-1)),Lc={class:"label-item"},Nc=_t(()=>t("span",null,"\u963F\u91CC\u4E91",-1)),zc=_t(()=>t("p",{class:"label_info"}," \u4E3A\u62E5\u6709\u52A8\u6001IP\u7684\u4E3B\u673A\u914D\u7F6E\u4E00\u4E2A\u56FA\u5B9A\u7684\u53EF\u8BBF\u95EE\u57DF\u540D ",-1)),qc={class:"label-item"},jc=_t(()=>t("span",null,"Dnspod",-1)),Hc=_t(()=>t("p",{class:"label_info"}," \u4E3A\u62E5\u6709\u52A8\u6001IP\u7684\u4E3B\u673A\u914D\u7F6E\u4E00\u4E2A\u56FA\u5B9A\u7684\u53EF\u8BBF\u95EE\u57DF\u540D ",-1)),Oc={class:"label-item"},Uc=_t(()=>t("span",null,"\u82B1\u751F\u58F3",-1)),Rc=_t(()=>t("p",{class:"label_info"}," \u4E3A\u62E5\u6709\u52A8\u6001IP\u7684\u4E3B\u673A\u914D\u7F6E\u4E00\u4E2A\u56FA\u5B9A\u7684\u53EF\u8BBF\u95EE\u57DF\u540D ",-1)),Gc=P({__name:"setup-index",props:{onSetup:{type:Function,required:!0},active:{type:String,default:"ddnsto"}},emits:["update:active"],setup(e,{emit:u}){const s=e,o=u,c=()=>{s.onSetup()},_=b(s.active),v=()=>{switch(o("update:active",_.value),_.value){case"ddnsto":s.onSetup("ddnsto");break;case"ali":s.onSetup("ddns-ali");break;case"dnspod":s.onSetup("ddns-dnspod");break;case"oray":s.onSetup("ddns-oray");break}};return(r,d)=>(n(),l("div",Sc,[Ic,t("div",Vc,[t("div",Pc,[t("label",null,[z(t("input",{type:"radio","onUpdate:modelValue":d[0]||(d[0]=a=>_.value=a),value:"ddnsto"},null,512),[[lt,_.value]]),Mc]),Tc]),t("div",Lc,[t("label",null,[z(t("input",{type:"radio","onUpdate:modelValue":d[1]||(d[1]=a=>_.value=a),value:"ali"},null,512),[[lt,_.value]]),Nc]),zc]),t("div",qc,[t("label",null,[z(t("input",{type:"radio","onUpdate:modelValue":d[2]||(d[2]=a=>_.value=a),value:"dnspod"},null,512),[[lt,_.value]]),jc]),Hc]),t("div",Oc,[t("label",null,[z(t("input",{type:"radio","onUpdate:modelValue":d[3]||(d[3]=a=>_.value=a),value:"oray"},null,512),[[lt,_.value]]),Uc]),Rc])]),t("div",{class:"actioner-container_footer"},[t("div",{class:"close",onClick:c},"\u53D6\u6D88"),t("div",{class:"next",onClick:v},"\u4E0B\u4E00\u6B65")])]))}});var Wc=I(Gc,[["__scopeId","data-v-57132a64"],["__file","/projects/github/linkease/istorex/web/src/components/action-domain/setup-index.vue"]]);const Nt=e=>(j("data-v-7b3444af"),e=e(),H(),e),Zc={class:"actioner-container"},Xc={class:"actioner-container_body"},Qc=Nt(()=>t("svg",{t:"1642063181211",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"5062",width:"128",height:"128","data-v-cda444e0":""},[t("path",{d:"M512 85.333333c235.648 0 426.666667 191.018667 426.666667 426.666667s-191.018667 426.666667-426.666667 426.666667S85.333333 747.648 85.333333 512 276.352 85.333333 512 85.333333z m-74.965333 550.4L346.453333 545.152a42.666667 42.666667 0 1 0-60.330666 60.330667l120.704 120.704a42.666667 42.666667 0 0 0 60.330666 0l301.653334-301.696a42.666667 42.666667 0 1 0-60.288-60.330667l-271.530667 271.488z",fill:"#52C41A","p-id":"5063","data-v-cda444e0":""})],-1)),Yc=Nt(()=>t("div",{class:"body-title"},"\u6DFB\u52A0\u6210\u529F",-1)),Jc=Nt(()=>t("p",{class:"body-tips"},"\u8BF7\u7A0D\u7B491\u5206\u949F\u751F\u6548\u540E\u518D\u4F7F\u7528\u3002",-1)),Kc={class:"body-info"},t1=Nt(()=>t("span",null,"\u8BBF\u95EE\u5730\u5740\uFF1A",-1)),e1=["href"],u1=Nt(()=>t("div",null,[t("span",null,"\u53EF\u524D\u5F80"),t("a",{href:"/cgi-bin/luci/admin/services/ddns",target:"_blank"},"\u670D\u52A1-\u52A8\u6001DNS"),t("span",null,"\u67E5\u770B\u66F4\u591A\u8BE6\u60C5")],-1)),s1=P({__name:"setup-ddns-success",props:{target:{type:String,required:!0},onSetup:{type:Function,required:!0}},setup(e){const u=()=>{location.reload()};return(s,o)=>(n(),l("div",Zc,[t("div",Xc,[Qc,Yc,Jc,t("div",Kc,[t1,t("a",{href:e.target,target:"_blank",rel:"noopener noreferrer"},p(e.target),9,e1)]),u1]),t("div",{class:"actioner-container_footer"},[t("div",{class:"close",onClick:u},"\u5173\u95ED")])]))}});var n1=I(s1,[["__scopeId","data-v-7b3444af"],["__file","/projects/github/linkease/istorex/web/src/components/action-domain/setup-ddns-success.vue"]]);const Le=e=>(j("data-v-a346ef58"),e=e(),H(),e),o1={class:"actioner-container"},a1=Le(()=>t("div",{class:"actioner-container_header"},[t("span",null,"\u57DF\u540D\u914D\u7F6E\u5411\u5BFC")],-1)),i1=Le(()=>t("div",{class:"actioner-container_body ddnsto-login"},[t("iframe",{src:"https://www.kooldns.cn/bind/#/auth?send=1&source=openwrt&callback=*"})],-1)),l1=P({__name:"setup-ddnsto-login",props:{onSetup:{type:Function,required:!0},onDdnstoConfig:{type:Function,required:!0}},setup(e){const u=e,s=()=>{u.onSetup()},o=c=>{if(c.data.auth=="ddnsto"){const _=c.data.sign,v=c.data.token;_&&v&&(removeEventListener("message",o),u.onDdnstoConfig(_,v),u.onSetup("ddnsto-run"))}};return nt(()=>{window.addEventListener("message",o)}),wt(()=>{removeEventListener("message",o)}),(c,_)=>(n(),l("div",o1,[a1,i1,t("div",{class:"actioner-container_footer"},[t("div",{class:"close",onClick:s},"\u53D6\u6D88")])]))}});var c1=I(l1,[["__scopeId","data-v-a346ef58"],["__file","/projects/github/linkease/istorex/web/src/components/action-ddnsto/setup-ddnsto-login.vue"]]);const d1=e=>(j("data-v-72698722"),e=e(),H(),e),r1={class:"actioner-container"},_1=d1(()=>t("div",{class:"actioner-container_header"},[t("span",null,"\u57DF\u540D\u914D\u7F6E\u5411\u5BFC")],-1)),p1={class:"actioner-container_body ddnsto-bind"},v1=["src"],h1=P({__name:"setup-ddnsto-bind",props:{onSetup:{type:Function,required:!0},config:{type:Object,required:!0},domain:{type:String,required:!0}},emits:["update:domain"],setup(e,{emit:u}){const s=e,o=u,c=U(()=>{const{domain:r,token:d,sign:a,routerId:i,netaddr:F}=s.config,C=encodeURIComponent(r),$=encodeURIComponent(F);return`https://www.kooldns.cn/bind/#/domain?domain=${C}&sign=${a}&token=${d}&routerId=${i}&netaddr=${$}`}),_=r=>{if(r.data){const{auth:d,url:a}=r.data;d==="ddnsto"&&a&&v(a)}},v=r=>L(this,null,function*(){var d;try{const a=yield M.Guide.DdnstoAddress.POST({address:r});a!=null&&a.data&&(((d=a==null?void 0:a.data)==null?void 0:d.success)||0)==0&&(o("update:domain",r),s.onSetup("ddnsto-save"))}catch(a){}});return nt(()=>{window.addEventListener("message",_)}),wt(()=>{removeEventListener("message",_)}),(r,d)=>(n(),l("div",r1,[_1,t("div",p1,[t("iframe",{src:c.value},null,8,v1)])]))}});var F1=I(h1,[["__scopeId","data-v-72698722"],["__file","/projects/github/linkease/istorex/web/src/components/action-ddnsto/setup-ddnsto-bind.vue"]]);const zt=e=>(j("data-v-823ef73c"),e=e(),H(),e),m1={class:"actioner-container"},f1={class:"actioner-container_body"},g1=zt(()=>t("svg",{t:"1642063181211",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"5062",width:"128",height:"128","data-v-cda444e0":""},[t("path",{d:"M512 85.333333c235.648 0 426.666667 191.018667 426.666667 426.666667s-191.018667 426.666667-426.666667 426.666667S85.333333 747.648 85.333333 512 276.352 85.333333 512 85.333333z m-74.965333 550.4L346.453333 545.152a42.666667 42.666667 0 1 0-60.330666 60.330667l120.704 120.704a42.666667 42.666667 0 0 0 60.330666 0l301.653334-301.696a42.666667 42.666667 0 1 0-60.288-60.330667l-271.530667 271.488z",fill:"#52C41A","p-id":"5063","data-v-cda444e0":""})],-1)),E1=zt(()=>t("div",{class:"body-title"},"\u6DFB\u52A0\u6210\u529F",-1)),C1=zt(()=>t("p",{class:"body-tips"},"\u8BF7\u7A0D\u7B491\u5206\u949F\u751F\u6548\u540E\u518D\u4F7F\u7528\u3002",-1)),b1={class:"body-info"},y1=zt(()=>t("span",null,"\u8BBF\u95EE\u5730\u5740\uFF1A",-1)),D1=["href"],$1=zt(()=>t("div",null,[t("span",null,"\u53EF\u524D\u5F80"),t("a",{href:"https://www.ddnsto.com/app/#/devices",target:"_blank"},"DDNSTO\u63A7\u5236\u53F0"),t("span",null,"\u67E5\u770B\u66F4\u591A\u8BE6\u60C5")],-1)),k1=P({__name:"setup-ddnsto-save",props:{onSetup:{type:Function,required:!0},target:{type:String,required:!0}},setup(e){const u=()=>{location.reload()};return(s,o)=>(n(),l("div",m1,[t("div",f1,[g1,E1,C1,t("div",b1,[y1,t("a",{href:e.target,target:"_blank",rel:"noopener noreferrer"},p(e.target),9,D1)]),$1]),t("div",{class:"actioner-container_footer"},[t("div",{class:"close",onClick:u},"\u5173\u95ED")])]))}});var w1=I(k1,[["__scopeId","data-v-823ef73c"],["__file","/projects/github/linkease/istorex/web/src/components/action-ddnsto/setup-ddnsto-save.vue"]]);const x1=e=>(j("data-v-0c962674"),e=e(),H(),e),B1={class:"actioner-container"},A1=x1(()=>t("div",{class:"actioner-container_header"},[t("span",null,"\u57DF\u540D\u914D\u7F6E\u5411\u5BFC")],-1)),S1={class:"actioner-container_body"},I1={class:"actioner-container_footer"},V1=P({__name:"setup-ddnsto-install",props:{onSetup:{type:Function,required:!0}},setup(e){const u=e,s=()=>{u.onSetup()},o=()=>L(this,null,function*(){if(v.value)return;v.value=!0;const d=x.Loading("\u5B89\u88C5\u4E2D...");try{if(yield rt.installApp("app-meta-ddnsto",30)){u.onSetup("ddnsto-login");return}else c.value="\u5B89\u88C5\u5931\u8D25"}catch(a){c.value=a}finally{d.Close()}v.value=!1}),c=b("\u6B63\u5728\u68C0\u6D4B\u4E2D..."),_=b(!1),v=b(!1);return(()=>L(this,null,function*(){try{const d=yield M.App.Check.POST({name:"ddnsto"});if(d!=null&&d.data){const{result:a,error:i}=d.data;if(i){c.value=i;return}if(a){if(a.status=="installed"){u.onSetup("ddnsto-login");return}a.status=="uninstalled"&&(c.value="\u9700\u8981\u5B89\u88C5DDNSTO\u63D2\u4EF6\uFF0C\u70B9\u51FB\u201C\u786E\u5B9A\u201D\u5F00\u59CB\u5B89\u88C5")}}}catch(d){c.value=d}_.value=!0}))(),(d,a)=>(n(),l("div",B1,[A1,t("div",S1,[t("span",null,p(c.value),1)]),t("div",I1,[_.value?(n(),l(N,{key:0},[t("div",{class:"close",onClick:s},"\u53D6\u6D88"),t("div",{class:"next",onClick:o},"\u786E\u5B9A")],64)):E("v-if",!0)])]))}});var P1=I(V1,[["__scopeId","data-v-0c962674"],["__file","/projects/github/linkease/istorex/web/src/components/action-ddnsto/setup-ddnsto-install.vue"]]);const M1=e=>(j("data-v-13e28b36"),e=e(),H(),e),T1={class:"actioner-container"},L1=M1(()=>t("div",{class:"actioner-container_header"},[t("span",null,"\u57DF\u540D\u914D\u7F6E\u5411\u5BFC")],-1)),N1={class:"actioner-container_body"},z1=P({__name:"setup-ddnsto-run",props:{onSetup:{type:Function,required:!0},token:{type:String,required:!0},onDdnstoLocalConfig:{type:Function,required:!0}},setup(e){const u=e,s=b("\u6B63\u5728\u68C0\u6D4B\u63D2\u4EF6\u662F\u5426\u5DF2\u542F\u52A8...");(d=>L(this,null,function*(){var a;try{const i=yield M.Guide.Ddnsto.POST({token:u.token});i!=null&&i.data&&(i.data.error&&(s.value=i.data.error),(((a=i==null?void 0:i.data)==null?void 0:a.success)||0)==0&&_())}catch(i){s.value=i}}))(u.token);const c=b(),_=()=>{const d=()=>L(this,null,function*(){if((yield v())===!0){r();return}c.value=window.setTimeout(d,2e3)});d()},v=()=>L(this,null,function*(){try{const d=yield M.App.Check.POST({name:"ddnsto",checkRunning:!0});if(d!=null&&d.data){d.data.error&&(s.value=d.data.error);const a=d.data.result;if((a==null?void 0:a.status)=="running")return!0}}catch(d){s.value=d}return!1});wt(()=>{c.value&&clearInterval(c.value)});const r=()=>L(this,null,function*(){var d;try{const a=yield M.Guide.DdntoConfig.GET();if(a!=null&&a.data&&(a.data.error&&(s.value=a.data.error),(((d=a==null?void 0:a.data)==null?void 0:d.success)||0)==0&&a.data.result)){const i=a.data.result;u.onDdnstoLocalConfig(i.netAddr,i.deviceId),u.onSetup("ddnsto-bind")}}catch(a){s.value=a}});return(d,a)=>(n(),l("div",T1,[L1,t("div",N1,p(s.value),1)]))}});var q1=I(z1,[["__scopeId","data-v-13e28b36"],["__file","/projects/github/linkease/istorex/web/src/components/action-ddnsto/setup-ddnsto-run.vue"]]);const j1={class:"action-main"},H1=P({__name:"index",props:{Close:{type:Function,required:!0},url:{type:String,required:!0}},setup(e){const u=e,s=b("ddnsto-install"),o=d=>{d!=null?s.value=d:c()},c=()=>{u.Close&&u.Close()},_=mt({sign:"",token:"",domain:u.url,netaddr:"",routerId:""}),v=(d,a)=>{_.sign=d,_.token=a},r=(d,a)=>{_.netaddr=d,_.routerId=a};return(d,a)=>(n(),q(at,{type:1},{default:T(()=>[t("div",j1,[s.value=="ddnsto-install"?(n(),q(P1,{key:0,onSetup:o})):s.value=="ddnsto-login"?(n(),q(c1,{key:1,onSetup:o,onDdnstoConfig:v})):s.value=="ddnsto-run"?(n(),q(q1,{key:2,onSetup:o,token:_.token,onDdnstoLocalConfig:r},null,8,["token"])):s.value=="ddnsto-bind"?(n(),q(F1,{key:3,onSetup:o,config:{token:_.token,sign:_.sign,domain:_.domain,netaddr:_.netaddr,routerId:_.routerId},domain:_.domain,"onUpdate:domain":a[0]||(a[0]=i=>_.domain=i)},null,8,["config","domain"])):s.value=="ddnsto-save"?(n(),q(w1,{key:4,onSetup:o,target:_.domain},null,8,["target"])):E("v-if",!0)])]),_:1}))}});var O1=I(H1,[["__scopeId","data-v-14fdd8da"],["__file","/projects/github/linkease/istorex/web/src/components/action-ddnsto/index.vue"]]);const U1=e=>{const u=document.createElement("div");document.body.appendChild(u);const s=ot(O1,ht(vt({},e),{Close:()=>{o()}}));s.mount(u);const o=()=>{s.unmount(),u.remove()};return{Close:o}};const R1={class:"action"},G1={class:"action-header"},W1=["innerHTML"],Z1={class:"action-footer"},X1=P({__name:"index",props:{Close:Function,next:{type:Function},clear:{type:Function},continuer:{type:Function},nextTitle:{type:String,default:"\u786E\u5B9A"},clearTitle:{type:String,default:"\u8FD4\u56DE"},continuerTitle:{type:String,default:"\u7EE7\u7EED\u4FDD\u5B58"},title:{type:String,default:"\u63D0\u793A"},content:{type:String}},setup(e){const u=e,s=()=>{u.next&&u.next(),u.Close&&u.Close()},o=()=>{u.clear&&u.clear(),u.Close&&u.Close()},c=()=>{u.continuer&&u.continuer(),u.Close&&u.Close()};return(_,v)=>(n(),q(at,{Close:e.Close,type:1},{default:T(()=>[t("div",R1,[t("div",G1,p(e.title),1),t("div",{class:"action-body",innerHTML:e.content},null,8,W1),t("div",Z1,[e.clear?(n(),l("div",{key:0,class:"clear",onClick:o},p(e.clearTitle),1)):E("v-if",!0),t("div",{class:"next",onClick:s},p(e.nextTitle),1),e.continuer?(n(),l("div",{key:1,class:"next",onClick:c},p(e.continuerTitle),1)):E("v-if",!0)])])]),_:1},8,["Close"]))}});var Q1=I(X1,[["__scopeId","data-v-4d454108"],["__file","/projects/github/linkease/istorex/web/src/components/action-confirm/index.vue"]]);const be=e=>{const u=document.createElement("div");document.body.appendChild(u);const s=ot(Q1,ht(vt({},e),{Close:()=>{o()}}));s.mount(u);const o=()=>{s.unmount(),u.remove()};return{Close:o}};const X=e=>(j("data-v-62c1c50e"),e=e(),H(),e),Y1={class:"actioner-container"},J1=X(()=>t("div",{class:"actioner-container_header"},[t("span",null,"\u57DF\u540D\u914D\u7F6E\u5411\u5BFC")],-1)),K1={key:0,class:"title_info"},td=X(()=>t("p",null,"\u963F\u91CC\u4E91",-1)),ed=X(()=>t("span",null," \u4E3A\u62E5\u6709\u52A8\u6001IP\u7684\u4E3B\u673A\u914D\u7F6E\u4E00\u4E2A\u56FA\u5B9A\u7684\u53EF\u8BBF\u95EE\u57DF\u540D ",-1)),ud=X(()=>t("a",{href:"https://doc.linkease.com/zh/guide/istoreos/basic/domain.html#%E9%98%BF%E9%87%8C%E4%BA%91",target:"_blank"},"\u67E5\u770B\u6559\u7A0B>>",-1)),sd=[td,ed,ud],nd={key:1,class:"title_info"},od=X(()=>t("p",null,"dnspod",-1)),ad=X(()=>t("span",null," \u4E3A\u62E5\u6709\u52A8\u6001IP\u7684\u4E3B\u673A\u914D\u7F6E\u4E00\u4E2A\u56FA\u5B9A\u7684\u53EF\u8BBF\u95EE\u57DF\u540D ",-1)),id=X(()=>t("a",{href:"https://doc.linkease.com/zh/guide/istoreos/basic/domain.html#dnspod",target:"_blank"},"\u67E5\u770B\u6559\u7A0B>>",-1)),ld=[od,ad,id],cd={key:2,class:"title_info"},dd=X(()=>t("p",null,"\u82B1\u751F\u58F3",-1)),rd=X(()=>t("span",null," \u4E3A\u62E5\u6709\u52A8\u6001IP\u7684\u4E3B\u673A\u914D\u7F6E\u4E00\u4E2A\u56FA\u5B9A\u7684\u53EF\u8BBF\u95EE\u57DF\u540D ",-1)),_d=X(()=>t("a",{href:"https://doc.linkease.com/zh/guide/istoreos/basic/domain.html#%E8%8A%B1%E7%94%9F%E5%A3%B3",target:"_blank"},"\u67E5\u770B\u6559\u7A0B>>",-1)),pd=[dd,rd,_d],vd={class:"label-item"},hd=X(()=>t("div",{class:"label-item_key"},[t("span",null,"IP\u5730\u5740\u7248\u672C\uFF1A")],-1)),Fd={class:"label-item_value"},md=X(()=>t("option",{value:"ipv4"},"IPv4\u5730\u5740",-1)),fd=X(()=>t("option",{value:"ipv6"},"IPv6\u5730\u5740",-1)),gd=[md,fd],Ed=jt('<div class="label_tips" data-v-62c1c50e><svg width="14px" height="14px" viewBox="0 0 14 14" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" data-v-62c1c50e><g id="icon_alert" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" data-v-62c1c50e><g id="Icon/Warning" data-v-62c1c50e><rect id="\u77E9\u5F62" fill="#000000" fill-rule="nonzero" opacity="0" x="0" y="0" width="14" height="14" data-v-62c1c50e></rect><path d="M7,0.875 C3.61757813,0.875 0.875,3.61757813 0.875,7 C0.875,10.3824219 3.61757813,13.125 7,13.125 C10.3824219,13.125 13.125,10.3824219 13.125,7 C13.125,3.61757813 10.3824219,0.875 7,0.875 Z M6.5625,4.046875 C6.5625,3.98671875 6.61171875,3.9375 6.671875,3.9375 L7.328125,3.9375 C7.38828125,3.9375 7.4375,3.98671875 7.4375,4.046875 L7.4375,7.765625 C7.4375,7.82578125 7.38828125,7.875 7.328125,7.875 L6.671875,7.875 C6.61171875,7.875 6.5625,7.82578125 6.5625,7.765625 L6.5625,4.046875 Z M7,10.0625 C6.63769531,10.0625 6.34375,9.76855469 6.34375,9.40625 C6.34375,9.04394531 6.63769531,8.75 7,8.75 C7.36230469,8.75 7.65625,9.04394531 7.65625,9.40625 C7.65625,9.76855469 7.36230469,10.0625 7,10.0625 Z" id="\u5F62\u72B6" fill="#FAAD14" data-v-62c1c50e></path></g></g></svg><span class="info" data-v-62c1c50e>\u8BBE\u5B9A\u54EA\u4E00\u4E2A IP \u5730\u5740\uFF08IPv4 \u6216 IPv6\uFF09\u4F1A\u88AB\u53D1\u9001\u7ED9 DDNS \u63D0\u4F9B\u5546</span></div>',1),Cd={class:"label-item"},bd=X(()=>t("div",{class:"label-item_key"},[t("span",null,"\u57DF\u540D\uFF1A")],-1)),yd={class:"label-item_value"},Dd={class:"label-item"},$d=X(()=>t("div",{class:"label-item_key"},[t("span",null,"\u7528\u6237\u540D\uFF1A")],-1)),kd={class:"label-item_value"},wd={class:"label-item"},xd=X(()=>t("div",{class:"label-item_key"},[t("span",null,"\u5BC6\u7801\uFF1A")],-1)),Bd={class:"label-item_value"},Ad={class:"actioner-container_footer"},Sd=["disabled"],Id=P({__name:"setup-ddns",props:{name:{type:String,default:"ali"},onSetup:{type:Function,required:!0},target:{type:String,required:!0}},emits:["update:target"],setup(e,{emit:u}){const s=e,o=u,c=b("ipv4"),_=b(s.name),v=b(""),r=b(""),d=b(""),a=b(!1),i=()=>{s.onSetup("index")},F=()=>{a.value=!0;const f=x.Loading("\u68C0\u6D4B\u4E2D...");M.Network.CheckPublickNet.POST({ipVersion:c.value}).then(g=>{var h,w;if(g!=null&&g.data){if((h=g==null?void 0:g.data)!=null&&h.error){x.Warning(g==null?void 0:g.data.error);return}if((((w=g==null?void 0:g.data)==null?void 0:w.success)||0)==0){const S=g.data.result;S&&S.address?m():C();return}}throw"\u672A\u77E5\u9519\u8BEF"}).catch(g=>{x.Error(g)}).finally(()=>{f.Close(),a.value=!1})},C=()=>{be({title:"\u6E29\u99A8\u63D0\u793A",nextTitle:"\u4F7F\u7528DDNSTO",continuerTitle:"\u7EE7\u7EED\u4FDD\u5B58",content:"\u68C0\u6D4B\u5230\u60A8\u7684wan\u53E3\u6CA1\u6709\u516C\u7F51IP\u6216\u8005IPv6\u5730\u5740\uFF0C\u53EF\u4EE5\u4F7F\u7528DDNSTO\u914D\u7F6E\u8FDC\u7A0B\u57DF\u540D\u8BBF\u95EE",next(){$()},continuer(){m()},clear(){}})},$=()=>{s.onSetup("ddnsto")},m=()=>{a.value=!0;const f=x.Loading("\u914D\u7F6E\u4E2D...");M.Guide.PostDdns.POST({ipVersion:c.value,serviceName:_.value,domain:v.value,userName:r.value,password:d.value}).then(g=>{if(g!=null&&g.data){const{error:h,scope:w,success:S}=g.data;if(h=="-100"&&w=="guide.ddns"){be({title:"\u6E29\u99A8\u63D0\u793A",content:"\u68C0\u6D4B\u5230\u4F60\u6709\u672A\u4FDD\u5B58\u7684\u914D\u7F6E\uFF0C\u53EF\u524D\u5F80\u9875\u9762\u53F3\u4E0A\u89D2\u70B9\u51FB\u67E5\u770B\uFF0C\u4FDD\u5B58\u5E76\u5E94\u7528\u6216\u8005\u6062\u590D\u914D\u7F6E\u540E\u7EE7\u7EED",next(){}});return}if(h){x.Warning(h);return}if((S||0)==0){o("update:target",v.value),s.onSetup("ddns-success");return}}throw"\u672A\u77E5\u9519\u8BEF"}).catch(g=>{x.Error(g)}).finally(()=>{f.Close(),a.value=!1})};return(f,g)=>(n(),l("div",Y1,[t("form",{class:"actioner-dns",onSubmit:ct(F,["prevent"])},[J1,t("div",{class:Xt(["actioner-container_body",e.name])},[e.name=="ali"?(n(),l("div",K1,[...sd])):e.name=="dnspod"?(n(),l("div",nd,[...ld])):e.name=="oray"?(n(),l("div",cd,[...pd])):E("v-if",!0),t("div",vd,[hd,t("div",Fd,[z(t("select",{name:"",id:"","onUpdate:modelValue":g[0]||(g[0]=h=>c.value=h)},[...gd],512),[[gt,c.value]])]),Ed]),t("div",Cd,[bd,t("div",yd,[z(t("input",{type:"text",placeholder:"myhost.example.com","onUpdate:modelValue":g[1]||(g[1]=h=>v.value=h),required:""},null,512),[[Y,v.value,void 0,{trim:!0}]])])]),t("div",Dd,[$d,t("div",kd,[z(t("input",{type:"text","onUpdate:modelValue":g[2]||(g[2]=h=>r.value=h),placeholder:"\u8BF7\u8F93\u5165\u7528\u6237\u540D",required:""},null,512),[[Y,r.value,void 0,{trim:!0}]])])]),t("div",wd,[xd,t("div",Bd,[z(t("input",{type:"password","onUpdate:modelValue":g[3]||(g[3]=h=>d.value=h),placeholder:"\u8BF7\u8F93\u5165\u5BC6\u7801",required:""},null,512),[[Y,d.value,void 0,{trim:!0}]])])])],2),t("div",Ad,[t("div",{class:"close",onClick:i,type:"button"},"\u8FD4\u56DE"),t("button",{class:"next save",type:"submit",disabled:a.value}," \u4FDD\u5B58 ",8,Sd)])],32)]))}});var Gt=I(Id,[["__scopeId","data-v-62c1c50e"],["__file","/projects/github/linkease/istorex/web/src/components/action-domain/setup-ddns.vue"]]);const Vd={class:"action-main"},Pd=P({__name:"index",props:{Close:{type:Function,required:!0},url:{type:String,required:!0}},setup(e){const u=e,s=b(""),o=b("index"),c=d=>{if(d!=null){if(d=="ddnsto"){_();return}o.value=d}else v()},_=()=>{v(),U1({url:u.url})},v=()=>{u.Close&&u.Close()},r=b("ddnsto");return(d,a)=>(n(),q(at,{Close:e.Close,type:1},{default:T(()=>[t("div",Vd,[o.value=="index"?(n(),q(Wc,{key:0,onSetup:c,active:r.value,"onUpdate:active":a[0]||(a[0]=i=>r.value=i)},null,8,["active"])):o.value=="ddns-ali"?(n(),q(Gt,{key:1,onSetup:c,target:s.value,"onUpdate:target":a[1]||(a[1]=i=>s.value=i),name:"ali"},null,8,["target"])):o.value=="ddns-dnspod"?(n(),q(Gt,{key:2,onSetup:c,target:s.value,"onUpdate:target":a[2]||(a[2]=i=>s.value=i),name:"dnspod"},null,8,["target"])):o.value=="ddns-oray"?(n(),q(Gt,{key:3,onSetup:c,target:s.value,"onUpdate:target":a[3]||(a[3]=i=>s.value=i),name:"oray"},null,8,["target"])):o.value=="ddns-success"?(n(),q(n1,{key:4,onSetup:c,target:s.value},null,8,["target"])):E("v-if",!0)])]),_:1},8,["Close"]))}});var Md=I(Pd,[["__scopeId","data-v-60d05d1e"],["__file","/projects/github/linkease/istorex/web/src/components/action-domain/index.vue"]]);const Wt=e=>{const u=document.createElement("div");document.body.appendChild(u);const s=ot(Md,ht(vt({},e),{Close:()=>{o()}}));s.mount(u);const o=()=>{s.unmount(),u.remove()};return{Close:o}};var Td=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var u=document.activeElement,s=[],o=0;o<e.rangeCount;o++)s.push(e.getRangeAt(o));switch(u.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":u.blur();break;default:u=null;break}return e.removeAllRanges(),function(){e.type==="Caret"&&e.removeAllRanges(),e.rangeCount||s.forEach(function(c){e.addRange(c)}),u&&u.focus()}},Ld=Td,ye={"text/plain":"Text","text/html":"Url",default:"Text"},Nd="Copy to clipboard: #{key}, Enter";function zd(e){var u=(/mac os x/i.test(navigator.userAgent)?"\u2318":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,u)}function qd(e,u){var s,o,c,_,v,r,d=!1;u||(u={}),s=u.debug||!1;try{c=Ld(),_=document.createRange(),v=document.getSelection(),r=document.createElement("span"),r.textContent=e,r.ariaHidden="true",r.style.all="unset",r.style.position="fixed",r.style.top=0,r.style.clip="rect(0, 0, 0, 0)",r.style.whiteSpace="pre",r.style.webkitUserSelect="text",r.style.MozUserSelect="text",r.style.msUserSelect="text",r.style.userSelect="text",r.addEventListener("copy",function(i){if(i.stopPropagation(),u.format)if(i.preventDefault(),typeof i.clipboardData=="undefined"){s&&console.warn("unable to use e.clipboardData"),s&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var F=ye[u.format]||ye.default;window.clipboardData.setData(F,e)}else i.clipboardData.clearData(),i.clipboardData.setData(u.format,e);u.onCopy&&(i.preventDefault(),u.onCopy(i.clipboardData))}),document.body.appendChild(r),_.selectNodeContents(r),v.addRange(_);var a=document.execCommand("copy");if(!a)throw new Error("copy command was unsuccessful");d=!0}catch(i){s&&console.error("unable to copy using execCommand: ",i),s&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(u.format||"text",e),u.onCopy&&u.onCopy(window.clipboardData),d=!0}catch(F){s&&console.error("unable to copy using clipboardData: ",F),s&&console.error("falling back to prompt"),o=zd("message"in u?u.message:Nd),window.prompt(o,e)}}finally{v&&(typeof v.removeRange=="function"?v.removeRange(_):v.removeAllRanges()),r&&document.body.removeChild(r),c()}return d}var jd=qd;const Yt=e=>(j("data-v-436d2906"),e=e(),H(),e),Hd={class:"button",style:{"margin-bottom":"8px"}},Od={href:"https://www.kooldns.cn/app/#/devices",target:"_blank"},Ud={class:"row"},Rd={class:"text"},Gd=Yt(()=>t("span",null,"DDNSTO\uFF1A",-1)),Wd={key:0},Zd=["href","title"],Xd={key:0,class:"row"},Qd={class:"text"},Yd=Yt(()=>t("span",null,"muddns_ipv4\uFF1A",-1)),Jd={key:0,class:"configure"},Kd=["href"],tr={key:0,class:"button"},er={key:1,class:"row"},ur={class:"text"},sr=Yt(()=>t("span",null,"muddns_ipv6\uFF1A",-1)),nr={key:0,class:"configure"},or=["href"],ar={key:0,class:"button"},ir=P({__name:"ddns",setup(e){const{$gettext:u}=K,s=b({});let o=!1,c;const _=a=>{jd(a),x.Message("\u590D\u5236\u6210\u529F")};nt(()=>{o=!0,c=window.setTimeout(d,1100)}),wt(()=>{c!==void 0&&window.clearTimeout(c),o=!1});const v=U(()=>{const a=s.value.ipv4Domain;return!a||a=="Stopped"||a=="Disabled"?a:`http://${a}`}),r=U(()=>{const a=s.value.ipv6Domain;return!a||a=="Stopped"||a=="Disabled"?a:`http://${a}`}),d=function(){!o||M.Guide.Ddns.GET().then(a=>{var i;a!=null&&a.data&&(((i=a==null?void 0:a.data)==null?void 0:i.success)||0)==0&&a.data.result&&(s.value=a.data.result)}).then(()=>{})};return(a,i)=>(n(),q(Z,{title:y(u)("\u8FDC\u7A0B\u57DF\u540D"),padding:"0 10px 8px 10px",helpLink:"https://www.linkease.com/rd/3yFiX5-X/",span:24,action:{text:y(u)("\u5FEB\u901F\u914D\u7F6E"),onClick:()=>{y(Wt)({url:s.value.ddnstoDomain})}}},{default:T(()=>{var F,C,$,m,f;return[t("div",Hd,[t("a",Od,p(y(u)("\u524D\u5F80\u63A7\u5236\u53F0")),1)]),t("div",Ud,[t("div",Rd,[Gd,(F=s.value)!=null&&F.ddnstoDomain?(n(),l("span",Wd,[t("a",{class:"configure",href:(C=s.value)==null?void 0:C.ddnstoDomain,target:"_blank",rel:"noopener noreferrer",title:($=s.value)==null?void 0:$.ddnstoDomain},p((m=s.value)==null?void 0:m.ddnstoDomain),9,Zd),t("img",{src:Ac,onClick:i[0]||(i[0]=g=>{var h;return _((h=s.value)==null?void 0:h.ddnstoDomain)})})])):(n(),l("span",{key:1,onClick:i[1]||(i[1]=g=>y(Wt)({url:s.value.ddnstoDomain})),style:{color:"#06f",cursor:"pointer"},class:"configure"},p(y(u)("\u7ACB\u5373\u914D\u7F6E\uFF0C\u83B7\u5F97\u514D\u8D39\u5916\u7F51\u57DF\u540D")),1))]),(f=s.value)!=null&&f.ddnstoDomain?(n(),l("span",{key:0,onClick:i[2]||(i[2]=g=>y(Wt)({url:s.value.ddnstoDomain})),style:{color:"#06f",cursor:"pointer","font-size":"12px"}},"\u8BBF\u95EE\u5931\u8D25\uFF1F\u91CD\u65B0\u914D\u7F6E")):E("v-if",!0)]),v.value?(n(),l("div",Xd,[t("div",Qd,[Yd,v.value==="Stopped"||v.value==="Disabled"?(n(),l("span",Jd,p(v.value),1)):(n(),l("a",{key:1,target:"_blank",rel:"noopener noreferrer",href:v.value,class:"configure"},p(v.value),9,Kd))]),v.value?(n(),l("div",tr,[t("span",{onClick:i[3]||(i[3]=g=>y(it)({title:"muddns_ipv4",src:"/cgi-bin/luci/admin/services/ddns"}))},p(y(u)("\u7F16\u8F91")),1)])):E("v-if",!0)])):E("v-if",!0),r.value?(n(),l("div",er,[t("div",ur,[sr,r.value==="Stopped"||r.value==="Disabled"?(n(),l("span",nr,p(r.value),1)):(n(),l("a",{key:1,target:"_blank",rel:"noopener noreferrer",href:r.value,class:"configure"},p(r.value),9,or))]),r.value?(n(),l("div",ar,[t("span",{onClick:i[4]||(i[4]=g=>y(it)({title:"muddns_ipv4",src:"/cgi-bin/luci/admin/services/ddns"}))},p(y(u)("\u7F16\u8F91")),1)])):E("v-if",!0)])):E("v-if",!0)]}),_:1},8,["title","action"]))}});var lr=I(ir,[["__scopeId","data-v-436d2906"],["__file","/projects/github/linkease/istorex/web/src/pages/next-nas/components/widget/Service/ddns.vue"]]);const cr={},dr={width:"128px",height:"128px",viewBox:"0 0 128 128",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},rr=t("g",{id:"icon_yellow",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},[t("g",{id:"Icon/Warning"},[t("rect",{id:"\u77E9\u5F62",fill:"#000000","fill-rule":"nonzero",opacity:"0",x:"0",y:"0",width:"128",height:"128"}),t("path",{d:"M64,8 C33.075,8 8,33.075 8,64 C8,94.925 33.075,120 64,120 C94.925,120 120,94.925 120,64 C120,33.075 94.925,8 64,8 Z M60,37 C60,36.45 60.45,36 61,36 L67,36 C67.55,36 68,36.45 68,37 L68,71 C68,71.55 67.55,72 67,72 L61,72 C60.45,72 60,71.55 60,71 L60,37 Z M64,92 C60.6875,92 58,89.3125 58,86 C58,82.6875 60.6875,80 64,80 C67.3125,80 70,82.6875 70,86 C70,89.3125 67.3125,92 64,92 Z",id:"\u5F62\u72B6",fill:"#FAAD14"})])],-1),_r=[rr];function pr(e,u){return n(),l("svg",dr,[..._r])}var vr=I(cr,[["render",pr],["__file","/projects/github/linkease/istorex/web/src/components/svg/tipsyellow.vue"]]);const Q=e=>(j("data-v-1410f37a"),e=e(),H(),e),hr={key:0,class:"action"},Fr=Q(()=>t("h2",{class:"title"},"Docker\u8FC1\u79FB\u5411\u5BFC",-1)),mr=Q(()=>t("p",{class:"desc"}," \u5F53\u7CFB\u7EDF\u6839\u76EE\u5F55\u7A7A\u95F4\u4E0D\u8DB3\u65F6\uFF0C\u53EF\u5C06docker\u6839\u76EE\u5F55\u8FC1\u79FB\u5230\u5916\u7F6E\u786C\u76D8\uFF0C\u4EE5\u4FDD\u8BC1\u7CFB\u7EDF\u7684\u6B63\u5E38\u8FD0\u884C: ",-1)),fr={key:1,class:"action"},gr=Q(()=>t("h2",{class:"title"},"Docker\u8FC1\u79FB\u5411\u5BFC",-1)),Er=Q(()=>t("p",{class:"desc"}," \u5F53\u7CFB\u7EDF\u6839\u76EE\u5F55\u7A7A\u95F4\u4E0D\u8DB3\u65F6\uFF0C\u53EF\u5C06docker\u6839\u76EE\u5F55\u8FC1\u79FB\u5230\u5916\u7F6E\u786C\u76D8\uFF0C\u4EE5\u4FDD\u8BC1\u7CFB\u7EDF\u7684\u6B63\u5E38\u8FD0\u884C: ",-1)),Cr={class:"roots"},br=Q(()=>t("span",{class:"roots_tit"},"Docker\u6839\u76EE\u5F55\uFF1A",-1)),yr={class:"root"},Dr={class:"move"},$r=Q(()=>t("span",{class:"roots_tit"},"\u8FC1\u79FB\u5230\uFF1A",-1)),kr={key:0},wr={class:"select-editable"},xr=Q(()=>t("option",{selected:"",value:null},"\u8BF7\u9009\u62E9\u8FC1\u79FB\u5730\u5740",-1)),Br=["value"],Ar=Q(()=>t("option",{value:"useInput"},"- -\u81EA\u5B9A\u4E49- -",-1)),Sr={key:1,class:"tips"},Ir={class:"tips_content"},Vr=Q(()=>t("span",{class:"tip"},"\u68C0\u6D4B\u5230\u60A8\u8FD8\u6CA1\u6709\u6302\u8F7D\u5916\u7F6E\u786C\u76D8\u6216\u5206\u533A\u5C0F\u4E8E8GB\uFF0C\u9700\u8981\u60A8\u63A5\u4E0A\u786C\u76D8\u5E76\u683C\u5F0F\u5316\u6216\u624B\u52A8\u6302\u8F7D\u786C\u76D8\u540E\uFF0C\u518D\u6267\u884CDocker\u8FC1\u79FB\u5411\u5BFC\uFF0C\u5C06Docker\u8FC1\u79FB\u5230\u76EE\u6807\u786C\u76D8\u3002",-1)),Pr={key:0,class:"btns"},Mr={key:1,class:"btns"},Tr={key:2,class:"action docker_success"},Lr=Q(()=>t("h2",{class:"title"},"Docker\u8FC1\u79FB\u5411\u5BFC",-1)),Nr={class:"finished"},zr=Q(()=>t("p",{class:"successed"},"\u8FC1\u79FB\u6210\u529F\uFF01",-1)),qr={key:3,class:"action docker_download"},jr=Q(()=>t("h2",{class:"title"},"Docker\u8FC1\u79FB\u5411\u5BFC",-1)),Hr={class:"finished"},Or=Q(()=>t("p",{class:"successed"},"\u8BE5\u76EE\u6807\u8DEF\u5F84\u4E0D\u4E3A\u7A7A",-1)),Ur={class:"docker_moves"},Rr={class:"moves change"},Gr=Q(()=>t("label",{for:"move"},"\u66F4\u6362\u76EE\u5F55\uFF08\u4E0D\u8986\u76D6\u76EE\u6807\u8DEF\u5F84\uFF0C\u4EC5\u5C06docker\u76EE\u5F55\u4FEE\u6539\u4E3A\u76EE\u6807\u8DEF\u5F84\uFF09",-1)),Wr={class:"moves"},Zr=Q(()=>t("label",{for:"cover"},"\u8986\u76D6\u8FC1\u79FB\uFF08\u8986\u76D6\u76EE\u6807\u8DEF\u5F84\uFF0C\u7EE7\u7EED\u8FC1\u79FB\u4F1A\u6E05\u7A7A\u8BE5\u76EE\u6807\u8DEF\u5F84\u4E0B\u7684\u6587\u4EF6\uFF09",-1)),Xr={class:"btns"},Qr=P({__name:"index",props:{rootPath:{type:String,required:!0},Close:Function},setup(e){const u=b(),s=b(),o=b(0),c=b("null"),_=b(""),v=b(),r=b(!1),d=b(""),a=e;(()=>{M.Nas.Disk.Status.GET().then(h=>{h!=null&&h.data.result&&(v.value=h==null?void 0:h.data.result)}),M.Guide.DockerStatus.GET().then(h=>{var w;if((w=h==null?void 0:h.data)!=null&&w.result){const S=h.data.result;u.value=S}}),M.Guide.DockerPartitionList.GET().then(h=>{var w;if((w=h==null?void 0:h.data)!=null&&w.result){const S=h.data.result;s.value=S}})})();const F=h=>{let w=c.value;if(w=="useInput"&&(w=_.value),w==null||w=="null"||w=="")return;const S=x.Loading("\u6B63\u5728\u8FC1\u79FB\u4E2D...");M.Guide.DockerTransfer.POST({path:w,force:h,overwriteDir:!!d.value}).then(k=>{var D;if(k!=null&&k.data){if((k.data.success||0)==0){if((D=k.data.result)!=null&&D.emptyPathWarning){r.value=!0,o.value=2;return}o.value=1;return}else if(k.data.error)throw k.data.error}throw"\u672A\u77E5\u9519\u8BEF"}).catch(k=>{x.Error(k)}).finally(()=>S.Close())},C=()=>{r.value=!1,F(!1)},$=h=>{h.preventDefault(),a.Close&&a.Close()},m=h=>{h.preventDefault(),location.reload()},f=h=>{h.preventDefault(),o.value=0},g=h=>{h.preventDefault(),F(!0)};return(h,w)=>(n(),q(at,{Close:e.Close,type:1},{default:T(()=>{var S,k,D,B,G,V;return[o.value==-1?(n(),l("div",hr,[Fr,mr,t("div",{class:"btns"},[t("button",{class:"cbi-button cbi-button-remove app-btn app-back",type:"button",onClick:$}," \u53D6\u6D88 ")])])):o.value==0?(n(),l("div",fr,[gr,Er,t("div",Cr,[br,t("span",yr,p((S=u.value)==null?void 0:S.path),1)]),t("div",Dr,[$r,(D=(k=s.value)==null?void 0:k.partitionList)!=null&&D.length?(n(),l("div",kr,[t("form",{onSubmit:ct(C,["prevent"])},[t("label",null,[t("div",wr,[z(t("select",{"onUpdate:modelValue":w[0]||(w[0]=O=>c.value=O)},[xr,(n(!0),l(N,null,J((B=s.value)==null?void 0:B.partitionList,(O,st)=>(n(),l("option",{value:O,key:st},p(O),9,Br))),128)),Ar],512),[[gt,c.value,void 0,{trim:!0}]]),c.value=="useInput"?z((n(),l("input",{key:0,type:"text","onUpdate:modelValue":w[1]||(w[1]=O=>_.value=O),required:"",placeholder:"\u8BF7\u8F93\u5165\u8FC1\u79FB\u5730\u5740"},null,512)),[[Y,_.value,void 0,{trim:!0}]]):E("v-if",!0)])])],32)])):s.value?(n(),l("div",Sr,[t("div",Ir,[A(dt),Vr])])):E("v-if",!0)]),(V=(G=s.value)==null?void 0:G.partitionList)!=null&&V.length?(n(),l("div",Pr,[t("button",{class:"cbi-button cbi-button-apply",onClick:C}," \u786E\u5B9A "),t("button",{class:"cbi-button cbi-button-remove app-btn app-back",type:"button",onClick:$}," \u53D6\u6D88 ")])):(n(),l("div",Mr,[t("button",{class:"cbi-button cbi-button-apply",onClick:$}," \u786E\u5B9A ")]))])):o.value==1?(n(),l("div",Tr,[Lr,t("div",Nr,[A(Qt)]),zr,t("div",{class:"btns"},[t("button",{class:"cbi-button cbi-button-apply",onClick:m}," \u786E\u5B9A ")])])):o.value==2?(n(),l("div",qr,[jr,t("div",Hr,[A(vr)]),Or,t("div",Ur,[t("div",Rr,[z(t("input",{type:"radio",id:"move",name:"moves","onUpdate:modelValue":w[2]||(w[2]=O=>d.value=O),value:""},null,512),[[lt,d.value]]),Gr]),t("div",Wr,[z(t("input",{type:"radio",id:"cover",name:"moves","onUpdate:modelValue":w[3]||(w[3]=O=>d.value=O),value:"true"},null,512),[[lt,d.value]]),Zr])]),t("div",Xr,[r.value?(n(),l("button",{key:0,class:"cbi-button cbi-button-apply",onClick:g}," \u786E\u5B9A ")):E("v-if",!0),t("button",{class:"cbi-button cbi-button-apply",onClick:f}," \u8FD4\u56DE "),r.value?E("v-if",!0):(n(),l("button",{key:1,class:"cbi-button cbi-button-remove app-btn app-back",type:"button",onClick:m}," \u53D6\u6D88 "))])])):E("v-if",!0)]}),_:1},8,["Close"]))}});var Yr=I(Qr,[["__scopeId","data-v-1410f37a"],["__file","/projects/github/linkease/istorex/web/src/components/action-docker/index.vue"]]);const De=()=>{const e=document.createElement("div");document.body.appendChild(e);const u=ot(Yr,{Close:()=>{s()}});u.mount(e);const s=()=>{u.unmount(),e.remove()};return{Close:s}};const Jr=e=>(j("data-v-89499dbe"),e=e(),H(),e),Kr={class:"button"},t5={class:"row"},e5={class:"text"},u5={key:0,class:"docker-item-value"},s5={class:"configure"},n5={key:1,class:"docker-item-value"},o5={class:"input-switch"},a5=["value","disabled"],i5=Jr(()=>t("em",null,null,-1)),l5=[i5],c5={key:0,class:"row"},d5={class:"text"},r5={style:{width:"100%"}},_5={class:"configure"},p5={key:0},v5={class:"tooltip-trigger"},h5={class:"docker_tip"},F5={class:"tooltip-text tooltip-top"},m5={class:"docker_dir_tip"},f5=P({__name:"docker",setup(e){const{$gettext:u}=K,s=b(!1),o=b(),c=mt({enable:!1,disabled:!1}),_=()=>L(this,null,function*(){const a=x.Loading(c.enable?"Docker\u5F00\u542F\u4E2D...":"Docker\u5173\u95ED\u4E2D...");c.disabled=!0;try{const i=yield M.Guide.DockerSwitch.POST({enable:c.enable});if(i!=null&&i.data){const{success:F,error:C}=i.data;if(C)throw c.enable=!c.enable,C;(F||0)==0&&d()}}catch(i){x.Warning(`${i}`)}finally{c.disabled=!1}a.Close()}),v=()=>{window.open("/cgi-bin/luci/admin/docker/overview","_blank")},r=()=>{De()},d=()=>{M.Guide.DockerStatus.GET().then(a=>{var i;if((i=a==null?void 0:a.data)!=null&&i.result){const F=a.data.result;o.value=F,F.status==="running"&&(c.enable=!0)}}).finally(()=>{s.value=!0})};return setTimeout(d,1100),(a,i)=>{var F;return n(),q(Z,{title:"Docker",padding:"0 10px 8px 10px",helpLink:"https://www.linkease.com/rd/2Q28MDtf/",moreActions:[{show:((F=o.value)==null?void 0:F.status)==="running",text:"\u67E5\u770BDocker\u4FE1\u606F",onClick:r}],span:24},{default:T(()=>{var C,$,m,f;return[t("div",Kr,[t("span",{onClick:i[0]||(i[0]=g=>y(De)({setup:0}))},p(y(u)("\u8FC1\u79FB\u5411\u5BFC")),1),t("span",{onClick:v},p(y(u)("\u9AD8\u7EA7\u914D\u7F6E")),1)]),t("div",t5,[t("div",e5,[t("span",null,p(y(u)("\u5F53\u524D\u72B6\u6001")),1)]),(C=o.value)!=null&&C.status?(n(),l(N,{key:0},[(($=o.value)==null?void 0:$.status)==="not installed"?(n(),l("div",u5,[t("span",s5,p(y(u)("\u672A\u5B89\u88C5")),1)])):(n(),l("div",n5,[t("label",o5,[z(t("input",{type:"checkbox",hidden:"",value:!c.enable,"onUpdate:modelValue":i[1]||(i[1]=g=>c.enable=g),disabled:c.disabled,onChange:_},null,40,a5),[[we,c.enable]]),t("span",{class:Xt(c.enable?"enable":"close")},[...l5],2)])]))],64)):E("v-if",!0)]),c.enable?(n(),l("div",c5,[t("div",d5,[t("span",null,"Docker "+p(y(u)("\u6839\u76EE\u5F55"))+"\uFF1A",1),t("div",r5,[t("span",_5,p((m=o.value)==null?void 0:m.path),1),(f=o.value)!=null&&f.errorInfo?(n(),l("span",p5,[t("span",v5,[t("span",h5,[A(dt)]),t("div",null,[t("div",F5,[t("span",m5,p(o.value.errorInfo),1)])])])])):E("v-if",!0)])])])):E("v-if",!0)]}),_:1},8,["moreActions"])}}});var g5=I(f5,[["__scopeId","data-v-89499dbe"],["__file","/projects/github/linkease/istorex/web/src/pages/next-nas/components/widget/Service/docker.vue"]]);const E5=e=>(j("data-v-9fd17230"),e=e(),H(),e),C5={class:"select-editable"},b5=["value"],y5=E5(()=>t("option",{value:"useInput"},"- -\u81EA\u5B9A\u4E49- -",-1)),D5=["placeholder"],$5=P({__name:"index",props:{modelValue:{type:String,required:!0},title:{type:String,default:""},options:{type:Array,default:[]}},emits:["update:modelValue"],setup(e,{emit:u}){const s=e,o=b(""),c=b(""),_=u,v=U({get:()=>s.modelValue.valueOf(),set:i=>_("update:modelValue",i)}),r=i=>{if(i===o.value||o.value==="useInput"&&i===c.value){v.value=s.options[0].key;return}i===""||s.options.some(F=>F.key===i)?o.value=i:(c.value=i,o.value="useInput")};Ye(()=>s.modelValue,i=>{r(i)}),nt(()=>{const i=v.value;r(i)});const d=i=>{o.value==="useInput"?v.value=c.value:v.value=o.value},a=i=>{v.value=c.value};return(i,F)=>(n(),l("label",null,[t("div",C5,[z(t("select",{"onUpdate:modelValue":F[0]||(F[0]=C=>o.value=C),autocomplete:"off",onChange:d},[(n(!0),l(N,null,J(e.options,(C,$)=>(n(),l("option",{value:C.key,key:$},p(C.value||C.key),9,b5))),128)),y5],544),[[gt,o.value,void 0,{trim:!0}]]),o.value=="useInput"?z((n(),l("input",{key:0,type:"text","onUpdate:modelValue":F[1]||(F[1]=C=>c.value=C),required:"",placeholder:"\u8BF7\u8F93\u5165"+e.title,onChange:a},null,40,D5)),[[Y,c.value,void 0,{trim:!0}]]):E("v-if",!0)])]))}});var kt=I($5,[["__scopeId","data-v-9fd17230"],["__file","/projects/github/linkease/istorex/web/src/components/editable-select/index.vue"]]);const k5={},w5={width:"14px",height:"14px",viewBox:"0 0 14 14",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},x5=t("path",{d:"M7,0.875 C3.61757813,0.875 0.875,3.61757813 0.875,7 C0.875,10.3824219 3.61757813,13.125 7,13.125 C10.3824219,13.125 13.125,10.3824219 13.125,7 C13.125,3.61757813 10.3824219,0.875 7,0.875 Z M6.5625,4.046875 C6.5625,3.98671875 6.61171875,3.9375 6.671875,3.9375 L7.328125,3.9375 C7.38828125,3.9375 7.4375,3.98671875 7.4375,4.046875 L7.4375,7.765625 C7.4375,7.82578125 7.38828125,7.875 7.328125,7.875 L6.671875,7.875 C6.61171875,7.875 6.5625,7.82578125 6.5625,7.765625 L6.5625,4.046875 Z M7,10.0625 C6.63769531,10.0625 6.34375,9.76855469 6.34375,9.40625 C6.34375,9.04394531 6.63769531,8.75 7,8.75 C7.36230469,8.75 7.65625,9.04394531 7.65625,9.40625 C7.65625,9.76855469 7.36230469,10.0625 7,10.0625 Z",id:"\u5F62\u72B6","fill-opacity":"0.65"},null,-1),B5=[x5];function A5(e,u){return n(),l("svg",w5,[...B5])}var bt=I(k5,[["render",A5],["__file","/projects/github/linkease/istorex/web/src/components/svg/tips.vue"]]);const R=e=>(j("data-v-b7384fbc"),e=e(),H(),e),S5={key:0,class:"action"},I5=R(()=>t("h2",{class:"title"},"\u4E0B\u8F7D\u670D\u52A1\u914D\u7F6E\u5411\u5BFC",-1)),V5={class:"load_service input_row"},P5=R(()=>t("div",{class:"left"},[t("span",null,"\u4E0B\u8F7D\u670D\u52A1\uFF1A")],-1)),M5={class:"radios"},T5=R(()=>t("label",{for:"Aria2"},"Aria2",-1)),L5={class:"radios"},N5=R(()=>t("label",{for:"qB"},"qBittorrent",-1)),z5={class:"radios"},q5=R(()=>t("label",{for:"Tr"},"Transmission",-1)),j5={class:"input_row"},H5={class:"left"},O5={class:"tooltip-trigger"},U5=R(()=>t("div",null,[t("div",{class:"tooltip-text tooltip-top"},[t("span",{class:"dowload_dir_tip"},"\u7528\u4E8E\u653E\u7F6E\u914D\u7F6E\u6587\u4EF6\u7684\u76EE\u5F55\u3002\u4F8B\u5982\uFF1A/mnt/sda1/Configs/aria2\uFF1B\u8BF7\u52FF\u4F7F\u7528 /tmp \u6216 /var \uFF0C\u4EE5\u514D\u91CD\u542F\u4EE5\u540E\u4EFB\u52A1\u4E22\u5931")])],-1)),R5=R(()=>t("span",null,"\u914D\u7F6E\u76EE\u5F55\uFF1A",-1)),G5={class:"myinput_wrap"},W5={class:"input_row"},Z5={class:"left"},X5={class:"tooltip-trigger"},Q5=R(()=>t("div",null,[t("div",{class:"tooltip-text tooltip-top"},[t("span",{class:"dowload_dir_tip"},"\u7528\u4E8E\u653E\u7F6E\u4E0B\u8F7D\u6587\u4EF6\u7684\u76EE\u5F55\u3002\u4F8B\u5982\uFF1A/mnt/sda1/download")])],-1)),Y5=R(()=>t("span",null,"\u4E0B\u8F7D\u76EE\u5F55\uFF1A",-1)),J5={class:"myinput_wrap"},K5={class:"input_row"},t6={class:"left"},e6={class:"tooltip-trigger"},u6=R(()=>t("div",null,[t("div",{class:"tooltip-text tooltip-bottom"},[t("span",{class:"dowload_rpc_tip"},"\u7528\u4E8E\u8FDC\u7A0B\u8BBF\u95EE\u7684\u4EE4\u724C\u3002")])],-1)),s6=R(()=>t("span",null,"RPC \u4EE4\u724C\uFF1A",-1)),n6={class:"input_row"},o6=R(()=>t("div",{class:""},[t("span",null,"\u9644\u52A0\u7684 BT Tracker\uFF1A")],-1)),a6={class:"radios"},i6=R(()=>t("label",{for:"default"},"\u9ED8\u8BA4",-1)),l6={class:"radios"},c6=R(()=>t("label",{for:"add"},"\u81EA\u5DF1\u6DFB\u52A0",-1)),d6={class:"input_row"},r6=R(()=>t("div",{class:"left"},null,-1)),_6={class:"myinput_wrap Tracker_input"},p6={class:"input_row"},v6={class:"left"},h6={class:"tooltip-trigger"},F6=R(()=>t("div",null,[t("div",{class:"tooltip-text tooltip-top"},[t("span",{class:"dowload_dir_tip"},"\u7528\u4E8E\u653E\u7F6E\u914D\u7F6E\u6587\u4EF6\u7684\u76EE\u5F55\u3002\u4F8B\u5982\uFF1A/mnt/sda1/Configs/qb\uFF1B\u8BF7\u52FF\u4F7F\u7528 /tmp \u6216 /var \uFF0C\u4EE5\u514D\u91CD\u542F\u4EE5\u540E\u4EFB\u52A1\u4E22\u5931")])],-1)),m6=R(()=>t("span",null,"\u914D\u7F6E\u76EE\u5F55\uFF1A",-1)),f6={class:"myinput_wrap"},g6={class:"input_row"},E6={class:"left"},C6={class:"tooltip-trigger"},b6=R(()=>t("div",null,[t("div",{class:"tooltip-text tooltip-top"},[t("span",{class:"dowload_dir_tip"},"\u7528\u4E8E\u653E\u7F6E\u4E0B\u8F7D\u6587\u4EF6\u7684\u76EE\u5F55\u3002\u4F8B\u5982\uFF1A/mnt/sda1/download")])],-1)),y6=R(()=>t("span",null,"\u4E0B\u8F7D\u76EE\u5F55\uFF1A",-1)),D6={class:"myinput_wrap"},$6={class:"input_row"},k6={class:"left"},w6={class:"tooltip-trigger"},x6=R(()=>t("div",null,[t("div",{class:"tooltip-text tooltip-top"},[t("span",{class:"dowload_dir_tip"},"\u7528\u4E8E\u653E\u7F6E\u914D\u7F6E\u6587\u4EF6\u7684\u76EE\u5F55\u3002\u4F8B\u5982\uFF1A/mnt/sda1/Configs/tr\uFF1B\u8BF7\u52FF\u4F7F\u7528 /tmp \u6216 /var \uFF0C\u4EE5\u514D\u91CD\u542F\u4EE5\u540E\u4EFB\u52A1\u4E22\u5931")])],-1)),B6=R(()=>t("span",null,"\u914D\u7F6E\u76EE\u5F55\uFF1A",-1)),A6={class:"myinput_wrap"},S6={class:"input_row"},I6={class:"left"},V6={class:"tooltip-trigger"},P6=R(()=>t("div",null,[t("div",{class:"tooltip-text tooltip-top"},[t("span",{class:"dowload_dir_tip"},"\u7528\u4E8E\u653E\u7F6E\u4E0B\u8F7D\u6587\u4EF6\u7684\u76EE\u5F55\u3002\u4F8B\u5982\uFF1A/mnt/sda1/download")])],-1)),M6=R(()=>t("span",null,"\u4E0B\u8F7D\u76EE\u5F55\uFF1A",-1)),T6={class:"myinput_wrap"},L6={class:"btns"},N6={class:"action"},z6={class:"title"},q6={class:"finished"},j6=R(()=>t("p",{class:"successed"},"\u914D\u7F6E\u6210\u529F\uFF01",-1)),H6=P({__name:"index",props:{services:{type:Object,required:!0},partitionList:{type:Array,required:!0},defaultTab:{type:String,required:!1},Close:Function},setup(e){const u=b(""),s=b(""),o=b(""),c=b(""),_=b("default"),v=b("Aria2"),r=b(""),d=b(""),a=b(""),i=b(""),F=b([]),C=b([]),$=e,m=b(0);nt(()=>{var V,O,st,At,St,It,Vt,Pt,Mt,Tt;switch($.defaultTab){case"aria2":v.value="Aria2";break;case"qbittorrent":v.value="qBittorrent";break;case"transmission":v.value="Transmission";break}F.value=$.partitionList.map(pt=>({key:pt})),C.value=$.partitionList.filter(pt=>pt.startsWith("/mnt/")).map(pt=>pt.replace(/(\/mnt\/[^/]+).*/,"$1")),o.value=((V=$.services.aria2)==null?void 0:V.configPath)||"";const k=((O=$.services.aria2)==null?void 0:O.downloadPath)||((st=$.services.qbittorrent)==null?void 0:st.downloadPath)||((At=$.services.transmission)==null?void 0:At.downloadPath);k&&(c.value=k);const D=(St=$.services.aria2)==null?void 0:St.rpcToken;D&&(u.value=D),r.value=((It=$.services.qbittorrent)==null?void 0:It.configPath)||"";const B=((Vt=$.services.qbittorrent)==null?void 0:Vt.downloadPath)||k||((Pt=$.services.transmission)==null?void 0:Pt.downloadPath);B&&(d.value=B),a.value=((Mt=$.services.transmission)==null?void 0:Mt.configPath)||"";const G=((Tt=$.services.transmission)==null?void 0:Tt.downloadPath)||k||B;G&&(i.value=G)});const f=()=>{let k=o.value,D=c.value;k==null||k==""||D==null||D==""||L(this,null,function*(){if(yield rt.checkAndInstallApp("app-meta-aria2","Aria2")){const G=x.Loading("\u914D\u7F6E\u4E2D...");M.Guide.Aria2Init.POST({configPath:k,downloadPath:D,rpcToken:u.value,btTracker:_.value=="add"?s.value:""}).then(V=>{var O;if(V!=null&&V.data){if((V.data.success||0)==0){m.value=1;return}else if((O=V.data)!=null&&O.error)throw V.data.error}throw"\u672A\u77E5\u9519\u8BEF"}).catch(V=>x.Error(V)).finally(()=>G.Close())}})},g=()=>{let k=r.value,D=d.value;k==null||k==""||D==null||D==""||L(this,null,function*(){if(yield rt.checkAndInstallApp("app-meta-qbittorrent","qBittorrent")){const G=x.Loading("\u914D\u7F6E\u4E2D...");M.Guide.qbitorrentInit.POST({configPath:k,downloadPath:D}).then(V=>{var O;if(V!=null&&V.data){if((V.data.success||0)==0){m.value=1;return}else if((O=V.data)!=null&&O.error)throw V.data.error}throw"\u672A\u77E5\u9519\u8BEF"}).catch(V=>x.Error(V)).finally(()=>G.Close())}})},h=()=>{let k=a.value,D=i.value;k==null||k==""||D==null||D==""||L(this,null,function*(){if(yield rt.checkAndInstallApp("app-meta-transmission","Transmission")){const G=x.Loading("\u914D\u7F6E\u4E2D...");M.Guide.transmissionInit.POST({configPath:k,downloadPath:D}).then(V=>{var O;if(V!=null&&V.data){if((V.data.success||0)==0){m.value=1;return}else if((O=V.data)!=null&&O.error)throw V.data.error}throw"\u672A\u77E5\u9519\u8BEF"}).catch(V=>x.Error(V)).finally(()=>G.Close())}})},w=k=>{k.preventDefault(),$.Close&&$.Close()},S=k=>{k.preventDefault(),location.reload()};return(k,D)=>(n(),q(at,{Close:e.Close,type:1},{default:T(()=>[m.value==0?(n(),l("div",S5,[I5,t("ul",null,[t("li",null,[t("div",V5,[P5,t("div",M5,[z(t("input",{type:"radio",value:"Aria2","onUpdate:modelValue":D[0]||(D[0]=B=>v.value=B),name:"download",id:"Aria2"},null,512),[[lt,v.value]]),T5]),t("div",L5,[z(t("input",{type:"radio",value:"qBittorrent","onUpdate:modelValue":D[1]||(D[1]=B=>v.value=B),name:"download",id:"qB"},null,512),[[lt,v.value]]),N5]),t("div",z5,[z(t("input",{type:"radio",value:"Transmission","onUpdate:modelValue":D[2]||(D[2]=B=>v.value=B),name:"download",id:"Tr"},null,512),[[lt,v.value]]),q5])])])]),E(" Aria2\u914D\u7F6E "),v.value=="Aria2"?(n(),l("form",{key:0,onSubmit:ct(f,["prevent"])},[t("ul",null,[t("li",null,[t("div",j5,[t("div",H5,[t("span",O5,[A(bt),U5]),R5]),t("div",G5,[A(kt,{modelValue:o.value,"onUpdate:modelValue":D[3]||(D[3]=B=>o.value=B),modelModifiers:{trim:!0},title:"\u914D\u7F6E\u76EE\u5F55",options:C.value.concat("/root").map(B=>({key:B+"/Configs/aria2"}))},null,8,["modelValue","options"])])])]),t("li",null,[t("div",W5,[t("div",Z5,[t("span",X5,[A(bt),Q5]),Y5]),t("div",J5,[A(kt,{modelValue:c.value,"onUpdate:modelValue":D[4]||(D[4]=B=>c.value=B),modelModifiers:{trim:!0},title:"\u4E0B\u8F7D\u76EE\u5F55",options:F.value},null,8,["modelValue","options"])])])]),t("li",null,[t("div",K5,[t("div",t6,[t("span",e6,[A(bt),u6]),s6]),z(t("input",{type:"text",class:"RPC_input",placeholder:"\u8BF7\u8F93\u5165RPC\u4EE4\u724C","onUpdate:modelValue":D[5]||(D[5]=B=>u.value=B)},null,512),[[Y,u.value,void 0,{trim:!0}]])])]),t("li",null,[t("div",n6,[o6,t("div",a6,[z(t("input",{type:"radio",value:"default",name:"BT",id:"default","onUpdate:modelValue":D[6]||(D[6]=B=>_.value=B)},null,512),[[lt,_.value]]),i6]),t("div",l6,[z(t("input",{type:"radio",value:"add",name:"BT",id:"add","onUpdate:modelValue":D[7]||(D[7]=B=>_.value=B)},null,512),[[lt,_.value]]),c6])])]),t("li",null,[t("div",d6,[r6,t("div",_6,[_.value=="add"?z((n(),l("textarea",{key:0,"onUpdate:modelValue":D[8]||(D[8]=B=>s.value=B),rows:"4",placeholder:"\u8BF7\u8F93\u5165BT Tracker\u670D\u52A1\u5668\u5730\u5740\uFF0C\u591A\u4E2A\u5730\u5740\u4F7F\u7528\u6362\u884C\u6216\u8005\u82F1\u6587\u9017\u53F7\u5206\u9694"},null,512)),[[Y,s.value,void 0,{trim:!0}]]):E("v-if",!0)])])])])],32)):E("v-if",!0),E(" qBittorrent\u914D\u7F6E "),v.value=="qBittorrent"?(n(),l("form",{key:1,onSubmit:ct(g,["prevent"])},[t("ul",null,[t("li",null,[t("div",p6,[t("div",v6,[t("span",h6,[A(bt),F6]),m6]),t("div",f6,[A(kt,{modelValue:r.value,"onUpdate:modelValue":D[9]||(D[9]=B=>r.value=B),modelModifiers:{trim:!0},title:"\u914D\u7F6E\u76EE\u5F55",options:C.value.concat("/root").map(B=>({key:B+"/Configs/qb"}))},null,8,["modelValue","options"])])])]),t("li",null,[t("div",g6,[t("div",E6,[t("span",C6,[A(bt),b6]),y6]),t("div",D6,[A(kt,{modelValue:d.value,"onUpdate:modelValue":D[10]||(D[10]=B=>d.value=B),modelModifiers:{trim:!0},title:"\u4E0B\u8F7D\u76EE\u5F55",options:F.value},null,8,["modelValue","options"])])])])])],32)):E("v-if",!0),E(" transmission\u914D\u7F6E "),v.value=="Transmission"?(n(),l("form",{key:2,onSubmit:ct(h,["prevent"])},[t("ul",null,[t("li",null,[t("div",$6,[t("div",k6,[t("span",w6,[A(bt),x6]),B6]),t("div",A6,[A(kt,{modelValue:a.value,"onUpdate:modelValue":D[11]||(D[11]=B=>a.value=B),modelModifiers:{trim:!0},title:"\u914D\u7F6E\u76EE\u5F55",options:C.value.concat("/root").map(B=>({key:B+"/Configs/transmission"}))},null,8,["modelValue","options"])])])]),t("li",null,[t("div",S6,[t("div",I6,[t("span",V6,[A(bt),P6]),M6]),t("div",T6,[A(kt,{modelValue:i.value,"onUpdate:modelValue":D[12]||(D[12]=B=>i.value=B),modelModifiers:{trim:!0},title:"\u4E0B\u8F7D\u76EE\u5F55",options:F.value},null,8,["modelValue","options"])])])])])],32)):E("v-if",!0),t("div",L6,[E(" Aria2\u542F\u52A8 "),v.value=="Aria2"?(n(),l("button",{key:0,class:"cbi-button cbi-button-apply",onClick:f}," \u542F\u7528 ")):E("v-if",!0),E(" qBittorrent\u542F\u52A8 "),v.value=="qBittorrent"?(n(),l("button",{key:1,class:"cbi-button cbi-button-apply",onClick:g}," \u542F\u7528 ")):E("v-if",!0),E(" transmission\u542F\u52A8 "),v.value=="Transmission"?(n(),l("button",{key:2,class:"cbi-button cbi-button-apply",onClick:h}," \u542F\u7528 ")):E("v-if",!0),t("button",{class:"cbi-button cbi-button-remove app-btn app-back",onClick:w}," \u53D6\u6D88 ")])])):m.value==1?(n(),l(N,{key:1},[E(" \u4E0B\u8F7D\u670D\u52A1\u914D\u7F6E\u5411\u5BFC "),t("div",N6,[t("h2",z6,p(v.value)+"\u4E0B\u8F7D\u670D\u52A1\u914D\u7F6E\u5411\u5BFC",1),t("div",q6,[A(Qt)]),j6,t("div",{class:"btns"},[t("button",{class:"cbi-button cbi-button-apply",onClick:S}," \u786E\u5B9A ")])])],2112)):E("v-if",!0)]),_:1},8,["Close"]))}});var O6=I(H6,[["__scopeId","data-v-b7384fbc"],["__file","/projects/github/linkease/istorex/web/src/components/action-download/index.vue"]]);const U6=e=>{const u=document.createElement("div");document.body.appendChild(u);const s=ot(O6,ht(vt({},e),{Close:()=>{o()}}));s.mount(u);const o=()=>{s.unmount(),u.remove()};return{Close:o}};const Ot=e=>(j("data-v-9b86bd6e"),e=e(),H(),e),R6={class:"service-item"},G6={class:"name"},W6=Ot(()=>t("span",null,"Aria2",-1)),Z6={class:"button"},X6={class:"info"},Q6=["href"],Y6=["href"],J6=Ot(()=>t("span",null,[W("\u4F7F\u7528"),t("a",{href:"https://doc.linkease.com/zh/guide/linkease_app/tutorial.html#%E8%BF%9C%E7%A8%8B%E4%B8%8B%E8%BD%BD",target:"_blank"},"\u6613\u6709\u4E91APP"),W("\uFF0C\u968F\u65F6\u968F\u5730\u8FDC\u7A0B\u4E0B\u8F7D")],-1)),K6={key:0},t0=["href"],e0={class:"service-item"},u0={class:"name"},s0=Ot(()=>t("span",null,"qBittorrent",-1)),n0={key:0,class:"button"},o0={class:"info"},a0=["href"],i0=["href"],l0={class:"service-item"},c0={class:"name"},d0=Ot(()=>t("span",null,"Transmission",-1)),r0={key:0,class:"button"},_0={class:"info"},p0=["href"],v0=P({__name:"download",setup(e){const{$gettext:u}=K,s=b(),o=b("aria2"),c=b(window.location),_=()=>{M.Guide.DownloadPartition.List.GET().then(a=>{var F,C;let i=[];(C=(F=a==null?void 0:a.data)==null?void 0:F.result)!=null&&C.partitionList&&(i=a.data.result.partitionList),U6({services:s.value,partitionList:i,defaultTab:o.value})})},v=()=>{M.Guide.DownloadService.Status.GET().then(a=>{var i;if((i=a==null?void 0:a.data)!=null&&i.result){const F=a.data.result;s.value=F}})},r=U(()=>{var a,i,F;if(s){let C=(a=s==null?void 0:s.aria2)==null?void 0:a.rpcToken;C&&(C=encodeURIComponent(btoa(C)));const $=encodeURIComponent(window.location.hostname);return`${window.location.origin}${(i=s==null?void 0:s.aria2)==null?void 0:i.webPath}/#!/settings/rpc/set/http/${$}/${(F=s==null?void 0:s.aria2)==null?void 0:F.rpcPort}/jsonrpc/${C}`}}),d=(a,i,F)=>L(this,null,function*(){window.open(F,"_blank")});return setTimeout(v,800),(a,i)=>(n(),q(Z,{title:y(u)("\u4E0B\u8F7D\u670D\u52A1"),padding:"0 10px 8px 10px",helpLink:"https://www.linkease.com/rd/2Q28MDtf/",span:24,action:{text:y(u)("\u5FEB\u901F\u914D\u7F6E"),onClick:_}},{default:T(()=>{var F,C,$,m,f,g,h,w,S,k,D,B,G,V,O,st,At,St,It,Vt,Pt,Mt,Tt,pt,Jt,Kt,te,ee,ue,se,ne,oe,ae,ie,le,ce,de,re,_e,pe;return[t("div",R6,[t("div",G6,[t("span",null,[W6,t("span",null,p(y(u)("\u6682\u65E0\u4E0B\u8F7D")),1)]),t("div",Z6,[t("span",{onClick:i[0]||(i[0]=ve=>d("app-meta-aria2","Aria2","/cgi-bin/luci/admin/services/aria2"))},p(y(u)("\u9AD8\u7EA7\u914D\u7F6E")),1)])]),t("div",X6,[t("span",null,p(y(u)("\u5F53\u524D\u72B6\u6001"))+"\uFF1A"+p(`${((C=(F=s.value)==null?void 0:F.aria2)==null?void 0:C.status)==="running"?y(u)("\u5DF2\u542F\u52A8"):y(u)("\u672A\u542F\u52A8")}`),1),((m=($=s.value)==null?void 0:$.aria2)==null?void 0:m.status)=="running"?(n(),l(N,{key:0},[t("span",null,[W(p(y(u)("\u4E0B\u8F7D\u76EE\u5F55"))+"\uFF1A ",1),t("a",{target:"_blank",href:"/cgi-bin/luci/admin/services/linkease/file/?path=/root"+((g=(f=s.value)==null?void 0:f.aria2)==null?void 0:g.downloadPath)},p((w=(h=s.value)==null?void 0:h.aria2)==null?void 0:w.downloadPath),9,Q6)]),t("span",null,[W(p(y(u)("\u7F51\u7EDC\u5730\u5740"))+"\uFF1A ",1),t("a",{href:`http://${c.value.hostname}${(k=(S=s.value)==null?void 0:S.aria2)==null?void 0:k.webPath}`,target:"_blank",rel:"noopener noreferrer"},p(`http://${c.value.hostname}${(B=(D=s.value)==null?void 0:D.aria2)==null?void 0:B.webPath}`),9,Y6)])],64)):E("v-if",!0),t("div",null,[J6,((V=(G=s.value)==null?void 0:G.aria2)==null?void 0:V.status)==="running"?(n(),l("span",K6,[W(p(y(u)("\u8BA4\u8BC1\u5931\u8D25"))+"\uFF1F ",1),t("a",{href:r.value,target:"_blank",rel:"noopener noreferrer"}," \u70B9\u6B64\u81EA\u52A8\u586B\u5145\u5BC6\u94A5 ",8,t0)])):E("v-if",!0)])])]),t("div",e0,[t("div",u0,[t("span",null,[s0,t("span",null,p(y(u)("\u6682\u65E0\u4E0B\u8F7D")),1)]),((st=(O=s.value)==null?void 0:O.qbittorrent)==null?void 0:st.status)==="running"?(n(),l("div",n0,[t("span",{onClick:i[1]||(i[1]=ve=>d("app-meta-qbittorrent","qBittorrent","/cgi-bin/luci/admin/nas/qBittorrent"))},p(y(u)("\u9AD8\u7EA7\u914D\u7F6E")),1)])):E("v-if",!0)]),t("div",o0,[t("span",null,p(`${y(u)("\u5F53\u524D\u72B6\u6001")}\uFF1A${((St=(At=s.value)==null?void 0:At.qbittorrent)==null?void 0:St.status)==="running"?y(u)("\u5DF2\u542F\u52A8"):y(u)("\u672A\u542F\u52A8")}`),1),((Vt=(It=s.value)==null?void 0:It.qbittorrent)==null?void 0:Vt.status)=="running"?(n(),l(N,{key:0},[t("span",null,[W(p(y(u)("\u4E0B\u8F7D\u76EE\u5F55"))+"\uFF1A ",1),t("a",{target:"_blank",href:"/cgi-bin/luci/admin/services/linkease/file/?path=/root"+((Mt=(Pt=s.value)==null?void 0:Pt.qbittorrent)==null?void 0:Mt.downloadPath)},p((pt=(Tt=s.value)==null?void 0:Tt.qbittorrent)==null?void 0:pt.downloadPath),9,a0)]),t("span",null,[W(p(y(u)("\u7F51\u7EDC\u5730\u5740"))+"\uFF1A ",1),t("a",{href:`http://${c.value.hostname}${(Kt=(Jt=s.value)==null?void 0:Jt.qbittorrent)==null?void 0:Kt.webPath}`,target:"_blank",rel:"noopener noreferrer"},p(`http://${c.value.hostname}${(ee=(te=s.value)==null?void 0:te.qbittorrent)==null?void 0:ee.webPath}`),9,i0)])],64)):E("v-if",!0)])]),t("div",l0,[t("div",c0,[t("span",null,[d0,t("span",null,p(y(u)("\u6682\u65E0\u4E0B\u8F7D")),1)]),((se=(ue=s.value)==null?void 0:ue.transmission)==null?void 0:se.status)==="running"?(n(),l("div",r0,[t("span",{onClick:i[2]||(i[2]=ve=>d("app-meta-transmission","Transmission","/cgi-bin/luci/admin/services/transmission"))},p(y(u)("\u9AD8\u7EA7\u914D\u7F6E")),1)])):E("v-if",!0)]),t("div",_0,[t("span",null,p(`${y(u)("\u5F53\u524D\u72B6\u6001")}\uFF1A${((oe=(ne=s.value)==null?void 0:ne.transmission)==null?void 0:oe.status)==="running"?y(u)("\u5DF2\u542F\u52A8"):y(u)("\u672A\u542F\u52A8")}`),1),((ie=(ae=s.value)==null?void 0:ae.transmission)==null?void 0:ie.status)=="running"?(n(),l(N,{key:0},[t("span",null,p(y(u)("\u4E0B\u8F7D\u76EE\u5F55"))+"\uFF1A "+p("/cgi-bin/luci/admin/services/linkease/file/?path=/root"+((ce=(le=s.value)==null?void 0:le.transmission)==null?void 0:ce.downloadPath)),1),t("span",null,[W(p(y(u)("\u7F51\u7EDC\u5730\u5740"))+"\uFF1Ahttp ",1),t("a",{href:`http://${c.value.hostname}${(re=(de=s.value)==null?void 0:de.transmission)==null?void 0:re.webPath}`,target:"_blank",rel:"noopener noreferrer"},p(`http://${c.value.hostname}${(pe=(_e=s.value)==null?void 0:_e.transmission)==null?void 0:pe.webPath}`),9,p0)])],64)):E("v-if",!0)])])]}),_:1},8,["title","action"]))}});var h0=I(v0,[["__scopeId","data-v-9b86bd6e"],["__file","/projects/github/linkease/istorex/web/src/pages/next-nas/components/widget/Service/download.vue"]]);const F0=P({__name:"index",setup(e){const{$gettext:u}=K;return(s,o)=>(n(),q(ft,{title:y(u)("\u670D\u52A1\u72B6\u6001"),contentStyle:"flex-flow: column"},{default:T(()=>[A(lr),A(g5),A(h0)]),_:1},8,["title"]))}});var m0=I(F0,[["__file","/projects/github/linkease/istorex/web/src/pages/next-nas/components/widget/Service/index.vue"]]),f0="/luci-static/istorex/file.png?v=055a0ac9",g0="/luci-static/istorex/user.png?v=fa675eea",E0="/luci-static/istorex/setting.png?v=bf214b33",C0="/luci-static/istorex/file-manage.png?v=3297497e",b0="/luci-static/istorex/sync.png?v=8384453e",y0="/luci-static/istorex/photo.png?v=3178eb60",D0="/luci-static/istorex/network.png?v=3314b340",$0="/luci-static/istorex/nas.png?v=902703f1";const Ne=e=>(j("data-v-2603aa22"),e=e(),H(),e),k0={class:"container"},w0={key:0,class:"desc"},x0=Ne(()=>t("a",{href:"https://www.linkease.com/",target:"_blank"},"\u6613\u6709\u4E91\u2122 \uFE0F",-1)),B0={key:1,class:"desc"},A0=Ne(()=>t("span",null,[W(" \u76F8\u518C\u5907\u4EFD\u529F\u80FD\u7531 "),t("a",{href:"https://www.linkease.com/",target:"_blank"},"\u6613\u6709\u4E91\u2122 \uFE0F"),W(" \u63D0\u4F9B ")],-1)),S0=["href"],I0=P({__name:"install-photobackup",setup(e){const u=b(""),s=b(""),o=()=>L(this,null,function*(){const v=x.Loading("\u5B89\u88C5\u4E2D...");try{if(yield rt.installApp("app-meta-ddnsto",30)){s.value="installed",x.Success("\u5B89\u88C5\u6210\u529F"),_();return}else x.Success("\u5B89\u88C5\u5931\u8D25")}finally{v.Close()}}),c=U(()=>`http://${location.hostname}:${u.value}`),_=()=>{M.Nas.Linkease.Enable.POST().then(v=>{var r,d;(r=v==null?void 0:v.data)!=null&&r.result&&(u.value=((d=v.data.result)==null?void 0:d.port)||"")})};return nt(()=>L(this,null,function*(){const v=yield M.App.Check.POST({name:"linkease"});if(v!=null&&v.data){const{result:r,error:d}=v.data;r!=null&&r.status&&(s.value=r==null?void 0:r.status,r.status==="installed"&&_())}})),(v,r)=>(n(),q(Se,{title:"\u63D0\u793A",width:"572px"},{default:T(()=>[t("div",k0,[s.value==="uninstalled"?(n(),l("p",w0,[W(" \u76F8\u518C\u5907\u4EFD\u529F\u80FD\u7531 "),x0,W(" \u63D0\u4F9B\uFF0C\u53EF\u4EE5\u5C06\u624B\u673A\u76F8\u518C\u5907\u4EFD\u81F3\u672C\u8BBE\u5907\u4F7F\u7528\u524D\u9700\u8981\u5B89\u88C5\u6613\u6709\u4E91 ")])):E("v-if",!0),s.value==="installed"?(n(),l("p",B0,[A0,t("span",null,"\u8BBF\u95EE\u94FE\u63A5\uFF1A"+p(c.value),1)])):E("v-if",!0),s.value==="uninstalled"?(n(),l("button",{key:2,class:"btn",onClick:o}," \u7ACB\u5373\u5B89\u88C5 ")):E("v-if",!0),s.value==="installed"?(n(),l("a",{key:3,class:"btn",target:"_blank",href:c.value},"\u7ACB\u5373\u8BBF\u95EE",8,S0)):E("v-if",!0)])]),_:1}))}});var V0=I(I0,[["__scopeId","data-v-2603aa22"],["__file","/projects/github/linkease/istorex/web/src/pages/next-nas/components/widget/Combination/dialog/install-photobackup.vue"]]);const ze=e=>(j("data-v-54d0f62c"),e=e(),H(),e),P0={class:"container"},M0={key:0,class:"desc"},T0=ze(()=>t("a",{href:"https://www.linkease.com/",target:"_blank"},"\u6613\u6709\u4E91\u2122 \uFE0F",-1)),L0={key:1,class:"desc"},N0=ze(()=>t("span",null,[W(" \u6587\u4EF6\u540C\u6B65\u529F\u80FD\u7531 "),t("a",{href:"https://www.linkease.com/",target:"_blank"},"\u6613\u6709\u4E91\u2122 \uFE0F"),W(" \u63D0\u4F9B ")],-1)),z0=["href"],q0=P({__name:"file-sync",setup(e){const u=b(""),s=b(""),o=()=>L(this,null,function*(){const v=x.Loading("\u5B89\u88C5\u4E2D...");try{if(yield rt.installApp("app-meta-ddnsto",30)){s.value="installed",x.Success("\u5B89\u88C5\u6210\u529F"),_();return}else x.Success("\u5B89\u88C5\u5931\u8D25")}finally{v.Close()}}),c=U(()=>`http://${location.hostname}:${u.value}`),_=()=>{M.Nas.Linkease.Enable.POST().then(v=>{var r,d;(r=v==null?void 0:v.data)!=null&&r.result&&(u.value=((d=v.data.result)==null?void 0:d.port)||"")})};return nt(()=>L(this,null,function*(){const v=yield M.App.Check.POST({name:"linkease"});if(v!=null&&v.data){const{result:r,error:d}=v.data;r!=null&&r.status&&(s.value=r==null?void 0:r.status,r.status==="installed"&&_())}})),(v,r)=>(n(),q(Se,{title:"\u63D0\u793A",width:"572px"},{default:T(()=>[t("div",P0,[s.value==="uninstalled"?(n(),l("p",M0,[W(" \u6587\u4EF6\u540C\u6B65\u529F\u80FD\u7531 "),T0,W(" \u63D0\u4F9B\uFF0C\u53EF\u4EE5\u540C\u65F6\u76F8\u4E92\u5907\u4EFD\u591A\u53F0\u8BBE\u5907\u6587\u4EF6\u4F7F\u7528\u524D\u9700\u8981\u5B89\u88C5\u6613\u6709\u4E91 ")])):E("v-if",!0),s.value==="installed"?(n(),l("p",L0,[N0,t("span",null,"\u8BBF\u95EE\u94FE\u63A5\uFF1A"+p(c.value),1)])):E("v-if",!0),s.value==="uninstalled"?(n(),l("button",{key:2,class:"btn",onClick:o}," \u7ACB\u5373\u5B89\u88C5 ")):E("v-if",!0),s.value==="installed"?(n(),l("a",{key:3,class:"btn",target:"_blank",href:c.value},"\u7ACB\u5373\u8BBF\u95EE",8,z0)):E("v-if",!0)])]),_:1}))}});var j0=I(q0,[["__scopeId","data-v-54d0f62c"],["__file","/projects/github/linkease/istorex/web/src/pages/next-nas/components/widget/Combination/dialog/file-sync.vue"]]);class H0 extends Je{Open(u){u==="sync"&&this.openWindow(j0),u==="backup"&&this.openWindow(V0)}}const $e=new H0;const Bt=e=>(j("data-v-711c5bfb"),e=e(),H(),e),O0={class:"width-60 responsive"},U0={class:"card-content"},R0=Bt(()=>t("div",null,[t("img",{src:f0,alt:"\u5171\u4EAB\u6587\u4EF6"})],-1)),G0=Bt(()=>t("div",null,[t("img",{src:g0,alt:"\u5171\u4EAB\u7528\u6237"})],-1)),W0={class:"card-content"},Z0=Bt(()=>t("div",null,[t("img",{src:E0,alt:"\u5171\u4EAB\u8BBE\u7F6E"})],-1)),X0={class:"card-content"},Q0=Bt(()=>t("div",null,[t("img",{src:C0,alt:"\u6587\u4EF6\u7BA1\u7406"})],-1)),Y0=Bt(()=>t("div",null,[t("img",{src:b0,alt:"\u6587\u4EF6\u540C\u6B65"})],-1)),J0=Bt(()=>t("div",null,[t("img",{src:y0,alt:"\u76F8\u518C\u5907\u4EFD"})],-1)),K0={class:"width-40 responsive"},t2={class:"card-content"},e2=["alt"],u2={class:"card-content"},s2=["alt"],n2=P({__name:"index",setup(e){const{$gettext:u}=K,s=()=>{xe.OpenGuideWindow()},o=b(window.innerWidth<668),c=()=>{window.open("/cgi-bin/luci/admin/services/linkease/file","_blank")},_=()=>{o.value=window.innerWidth<668};nt(()=>{window.addEventListener("resize",_)}),Ke(()=>{window.removeEventListener("resize",_)});const v=()=>{x.Message("\u6682\u672A\u5F00\u653E")};return(r,d)=>(n(),l("div",null,[t("div",O0,[A(ft,{title:y(u)("\u5171\u4EAB\u529F\u80FD"),height:"140px"},{default:T(()=>[A(Z,{span:8,onClick:d[0]||(d[0]=a=>y(lu).Open())},{default:T(()=>[t("div",U0,[R0,t("span",null,p(y(u)("\u5171\u4EAB\u6587\u4EF6")),1)])]),_:1}),A(Z,{span:8},{default:T(()=>[t("div",{class:"card-content",onClick:d[1]||(d[1]=a=>y(cu).Open())},[G0,t("span",null,p(y(u)("\u5171\u4EAB\u7528\u6237")),1)])]),_:1}),A(Z,{span:8,onClick:d[2]||(d[2]=a=>v())},{default:T(()=>[t("div",W0,[Z0,t("span",null,p(y(u)("\u5171\u4EAB\u8BBE\u7F6E")),1)])]),_:1})]),_:1},8,["title"]),A(ft,{title:y(u)("\u5176\u4ED6\u529F\u80FD"),height:"140px"},{default:T(()=>[A(Z,{span:8,onClick:c},{default:T(()=>[t("div",X0,[Q0,t("span",null,p(y(u)("\u6587\u4EF6\u7BA1\u7406")),1)])]),_:1}),A(Z,{span:8},{default:T(()=>[t("div",{class:"card-content",onClick:d[3]||(d[3]=a=>y($e).Open("sync"))},[Y0,t("span",null,p(y(u)("\u6587\u4EF6\u540C\u6B65")),1)])]),_:1}),A(Z,{span:8},{default:T(()=>[t("div",{class:"card-content",onClick:d[4]||(d[4]=a=>y($e).Open("backup"))},[J0,t("span",null,p(y(u)("\u76F8\u518C\u5907\u4EFD")),1)])]),_:1})]),_:1},8,["title"])]),t("div",K0,[A(ft,{height:o.value?"":"288px",title:y(u)("\u5411\u5BFC\u529F\u80FD")},{default:T(()=>[A(Z,{span:12,onClick:d[5]||(d[5]=a=>y(it)({title:y(u)("\u7F51\u7EDC\u5411\u5BFC"),src:"/cgi-bin/luci/admin/quickstart/network"}))},{default:T(()=>[t("div",t2,[t("div",null,[t("img",{src:D0,alt:y(u)("\u7F51\u7EDC\u5411\u5BFC")},null,8,e2)]),t("span",null,p(y(u)("\u7F51\u7EDC\u5411\u5BFC")),1)])]),_:1}),A(Z,{span:12,onClick:d[6]||(d[6]=a=>s())},{default:T(()=>[t("div",u2,[t("div",null,[t("img",{src:$0,alt:y(u)("NAS\u5411\u5BFC")},null,8,s2)]),t("span",null,p(y(u)("NAS\u5411\u5BFC")),1)])]),_:1})]),_:1},8,["height","title"])])]))}});var o2=I(n2,[["__scopeId","data-v-711c5bfb"],["__file","/projects/github/linkease/istorex/web/src/pages/next-nas/components/widget/Combination/index.vue"]]);const a2=P({__name:"index",setup(e){const u=Ae(),s=U(()=>u.portitemStyle.portitem),o=U(()=>u.portitemStyle.show),c=U(()=>({bottom:`calc(100% - ${u.portitemStyle.top}px)`,left:`${u.portitemStyle.left}px`})),_=d=>{switch(d){case"full":return"\u5168\u53CC\u5DE5";case"half":return"\u534A\u53CC\u5DE5"}},v=d=>{u.portitemStyle.show=!0},r=d=>{u.portitemStyle.show=!1};return(d,a)=>o.value?(n(),l("div",{key:0,class:"disk-item-tooltip",style:et(c.value),onMouseenter:v,onMouseleave:r},[t("div",null,p(_(s.value.duplex)),1),t("div",null,"\u540D\u79F0\uFF1A"+p(s.value.name||"--"),1),t("div",null,"MAC\uFF1A"+p(s.value.macAddress||"--"),1),E(' <div>\u5173\u8054\u7F51\u6865\uFF1A{{ portitem.master || "--" }}</div> '),t("div",null,"\u63A5\u6536\uFF1A"+p(s.value.rx_packets||"--"),1),t("div",null,"\u53D1\u9001\uFF1A"+p(s.value.tx_packets||"--"),1)],36)):E("v-if",!0)}});var i2=I(a2,[["__scopeId","data-v-5915e0e6"],["__file","/projects/github/linkease/istorex/web/src/components/tooltip/index.vue"]]);const l2={class:"next-main",style:{}},c2={class:"content"},d2=P({__name:"index",setup(e){return(u,s)=>(n(),l("div",l2,[A(Zu),t("div",c2,[t("div",null,[A(Ju),A(Qo),A(Va),A(mc)]),t("div",null,[A(o2),A(Bc),A(m0)])]),A(i2)]))}});var h2=I(d2,[["__scopeId","data-v-57bf2066"],["__file","/projects/github/linkease/istorex/web/src/pages/next-nas/index.vue"]]);export{h2 as default};
