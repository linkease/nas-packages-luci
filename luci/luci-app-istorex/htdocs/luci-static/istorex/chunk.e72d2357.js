var _=(y,d,a)=>new Promise((u,n)=>{var s=o=>{try{c(a.next(o))}catch(e){n(e)}},f=o=>{try{c(a.throw(o))}catch(e){n(e)}},c=o=>o.done?u(o.value):Promise.resolve(o.value).then(s,f);c((a=a.apply(y,d)).next())});import{_ as x,d as E,r as g,x as F,M as w,o as m,c as p,f as i,h as b,F as k,e as L,t as h,g as B,w as D,N as G,s as T,i as v,T as S}from"./index.js?v=bd1b282f";const I=i("div",{class:"label-name"},[i("span",null,"\u9009\u62E9\u8F6F\u4EF6\u6E90 ")],-1),C={class:"label-value"},N={class:"label-flex"},V=["value"],M={class:"label-btns"},j=["disabled"],q={key:0,class:"label-msg"},A=E({__name:"index",setup(y){return _(this,null,function*(){let d,a;const u=g(!1),n=g(""),s=F({softsourceListIfo:[],softSource:{},currSoftSource:{}}),f=()=>_(this,null,function*(){var o,e,r;try{const t=yield v.Guide.SoftSourceList.GET();if((o=t==null?void 0:t.data)!=null&&o.result){const l=(e=t==null?void 0:t.data)==null?void 0:e.result;s.softsourceListIfo=l.softSourceList||[]}}catch(t){console.log(t)}try{const t=yield v.Guide.GetSoftSource.GET();if((r=t==null?void 0:t.data)!=null&&r.result){const l=t.data.result;s.softSource=l.softSource,s.currSoftSource=l.softSource}}catch(t){console.log(t)}});[d,a]=w(()=>f()),yield d,a();const c=()=>_(this,null,function*(){const o=S.Loading("\u6B63\u5728\u5207\u6362\u4E2D...");u.value=!0;try{const e=yield v.Guide.SoftSource.POST({softSourceIdentity:s.softSource.identity});if(e!=null&&e.data){const{result:r,error:t,success:l}=e.data;t&&S.Warning(t),(e.data.success||0)==0&&(S.Success("\u5207\u6362\u6210\u529F"),yield f())}}catch(e){S.Error(`${e}`)}finally{u.value=!1,o.Close()}});return(o,e)=>(m(),p("form",{class:"form-container",onSubmit:B(c,["prevent"])},[I,i("div",C,[b(` <select v-model="opkg.softSource.identity">
                <option value="">\u8BF7\u9009\u62E9\u8F6F\u4EF6\u6E90</option>
                <option v-for="item in opkg.softsourceListIfo" :value="item.identity">
                    {{ item.name }}
                </option>
            </select> `),(m(!0),p(k,null,L(s.softsourceListIfo,r=>(m(),p("label",N,[D(i("input",{type:"radio",value:r.identity,"onUpdate:modelValue":e[0]||(e[0]=t=>s.softSource.identity=t)},null,8,V),[[G,s.softSource.identity,void 0,{trim:!0}]]),T(" "+h(r.name),1)]))),256))]),i("div",M,[i("button",{class:"sumbit",disabled:u.value},"\u4FDD\u5B58",8,j)]),n.value?(m(),p("div",q,[i("span",null,h(n.value),1)])):b("v-if",!0)],32))})}});var R=x(A,[["__file","/projects/github/linkease/istorex/web/src/pages/router/setting/opkg/index.vue"]]);export{R as default};
