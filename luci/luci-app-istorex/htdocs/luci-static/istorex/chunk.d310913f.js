var g=Object.defineProperty;var B=Object.getOwnPropertySymbols;var w=Object.prototype.hasOwnProperty,A=Object.prototype.propertyIsEnumerable;var x=(i,u,s)=>u in i?g(i,u,{enumerable:!0,configurable:!0,writable:!0,value:s}):i[u]=s,y=(i,u)=>{for(var s in u||(u={}))w.call(u,s)&&x(i,s,u[s]);if(B)for(var s of B(u))A.call(u,s)&&x(i,s,u[s]);return i};var b=(i,u,s)=>new Promise((d,t)=>{var p=o=>{try{c(s.next(o))}catch(l){t(l)}},h=o=>{try{c(s.throw(o))}catch(l){t(l)}},c=o=>o.done?d(o.value):Promise.resolve(o.value).then(p,h);c((s=s.apply(i,u)).next())});import{_ as T,d as U,r as E,x as q,M as G,o as f,c as _,f as e,w as r,j as D,F as C,N as V,s as M,h as I,t as H,g as N,i as P,T as F}from"./index.js?v=bd1b282f";import{i as v}from"./chunk.65c296e1.js";const L=e("div",{class:"label-name"},[e("span",null,"\u5185\u7F51\u5730\u5740")],-1),j={class:"label-value"},R=e("div",{class:"label-name"},[e("span",null,"\u5B50\u7F51\u63A9\u7801")],-1),O={class:"label-value"},$=e("div",{class:"label-name"},[e("span",null,"DHCP\u670D\u52A1")],-1),z={class:"label-value"},J={class:"label-flex"},K=e("div",{class:"label-name"},[e("span",null,"IP\u6C60\u8D77\u59CB\u5730\u5740")],-1),Q={class:"label-value"},W=e("div",{class:"label-name"},[e("span",null,"IP\u6C60\u7ED3\u675F\u5730\u5740")],-1),X={class:"label-value"},Y={class:"label-btns"},Z=["disabled"],ee={key:2,class:"label-msg"},ae=U({__name:"index",setup(i){return b(this,null,function*(){let u,s;const d=E(""),t=q({lanIp:"",netMask:"255.255.255.0",enableDhcp:!1,dhcpStart:"",dhcpEnd:""}),p=E(!1),h=E(!1),c=()=>b(this,null,function*(){p.value=!0;const l=yield P.Guide.GetLan.GET();if(l.data){const{result:a}=l.data;a&&(t.lanIp=a.lanIp,t.netMask=a.netMask,h.value=a.enableDhcp||!1,t.dhcpStart=a.dhcpStart,t.dhcpEnd=a.dhcpEnd,a.lanIp,location.hostname)}p.value=!1});[u,s]=G(()=>c()),yield u,s();const o=()=>b(this,null,function*(){const l=y({},t);if(!v.isValidIP(l.lanIp)){F.Error("IPv4\u5730\u5740\u683C\u5F0F\u9519\u8BEF");return}if(!v.isValidMask(l.netMask)){F.Error("IPv4\u5B50\u7F51\u63A9\u7801\u683C\u5F0F\u9519\u8BEF");return}if(l.enableDhcp&&!v.isValidIP(l.dhcpStart)||!v.isValidIP(l.dhcpEnd)||!v.isValidMaskRange(l.lanIp,l.netMask,l.dhcpStart,l.dhcpEnd)){F.Error("DHCP\u7684IP\u6C60\u683C\u5F0F\u9519\u8BEF\u6216\u8D85\u51FA\u5B50\u7F51\u8303\u56F4");return}const a=F.Loading("\u6B63\u5728\u914D\u7F6E,\u8BF7\u7A0D\u7B49\u2026");let n=!1;try{const m=yield P.Guide.LanIp.POST(l);if(m.data){const{result:te,success:S,error:k}=m.data;if(k){d.value=k;return}(S||0)==0&&(n=!0)}}catch(m){d.value=m}finally{a.Close()}n&&(d.value=`\u66F4\u65B0\u6210\u529F,\u8BF7\u8FDB\u5165 ${l.lanIp} \u8DEF\u7531\u5668\u5730\u5740`)});return(l,a)=>(f(),_("form",{class:"form-container",onSubmit:N(o,["prevent"])},[L,e("div",j,[r(e("input",{type:"text",placeholder:"192.168.100.1","onUpdate:modelValue":a[0]||(a[0]=n=>t.lanIp=n),required:""},null,512),[[D,t.lanIp,void 0,{trim:!0}]])]),R,e("div",O,[r(e("input",{type:"text",placeholder:"255.255.255.0","onUpdate:modelValue":a[1]||(a[1]=n=>t.netMask=n),required:""},null,512),[[D,t.netMask,void 0,{trim:!0}]])]),h.value?(f(),_(C,{key:0},[$,e("div",z,[e("div",J,[e("label",null,[r(e("input",{type:"radio",value:!1,"onUpdate:modelValue":a[2]||(a[2]=n=>t.enableDhcp=n)},null,512),[[V,t.enableDhcp]]),M("\u4FDD\u6301DHCP")]),e("label",null,[r(e("input",{type:"radio",value:!0,"onUpdate:modelValue":a[3]||(a[3]=n=>t.enableDhcp=n)},null,512),[[V,t.enableDhcp]]),M("\u4FEE\u6539DHCP")])])])],64)):I("v-if",!0),t.enableDhcp?(f(),_(C,{key:1},[K,e("div",Q,[r(e("input",{type:"text",placeholder:"192.168.100.100","onUpdate:modelValue":a[4]||(a[4]=n=>t.dhcpStart=n),required:""},null,512),[[D,t.dhcpStart,void 0,{trim:!0}]])]),W,e("div",X,[r(e("input",{type:"text",placeholder:"192.168.100.100","onUpdate:modelValue":a[5]||(a[5]=n=>t.dhcpEnd=n),required:""},null,512),[[D,t.dhcpEnd,void 0,{trim:!0}]])])],64)):I("v-if",!0),e("div",Y,[e("button",{class:"sumbit",disabled:p.value},"\u4FDD\u5B58",8,Z)]),d.value?(f(),_("div",ee,[e("span",null,H(d.value),1)])):I("v-if",!0)],32))})}});var ne=T(ae,[["__file","/projects/github/linkease/istorex/web/src/pages/router/network/intranet/index.vue"]]);export{ne as default};
