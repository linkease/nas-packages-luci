var be=Object.defineProperty,ye=Object.defineProperties;var Be=Object.getOwnPropertyDescriptors;var de=Object.getOwnPropertySymbols;var $e=Object.prototype.hasOwnProperty,Ce=Object.prototype.propertyIsEnumerable;var _e=(n,t,u)=>t in n?be(n,t,{enumerable:!0,configurable:!0,writable:!0,value:u}):n[t]=u,pe=(n,t)=>{for(var u in t||(t={}))$e.call(t,u)&&_e(n,u,t[u]);if(de)for(var u of de(t))Ce.call(t,u)&&_e(n,u,t[u]);return n},ve=(n,t)=>ye(n,Be(t));var k=(n,t,u)=>new Promise((h,i)=>{var F=c=>{try{r(u.next(c))}catch(s){i(s)}},m=c=>{try{r(u.throw(c))}catch(s){i(s)}},r=c=>c.done?h(c.value):Promise.resolve(c.value).then(F,m);r((u=u.apply(n,t)).next())});import{_ as W,o as _,c as v,r as w,a as V,b as ge,d as P,F as b,e as Y,f as e,w as E,v as Ie,g as M,h as S,i as C,t as I,j as g,k as Se,T as $,l as Ae,m as xe,u as f,n as R,p as Z,q as ee,s as J,x as U,y as K,z as O,A as Q,B as De,C as Pe,D as q,E as Ne,G as he,H as j,S as Ue}from"./index.js?v=9df63d42";const Ve={},We={class:""};function Le(n,t){return _(),v("div",We)}var Te=W(Ve,[["render",Le]]),B=(n=>(n.wifi="wifi",n.wifiStatus="wifiStatus",n.status="status",n.network="network",n.networkLoad="networkLoad",n.networkPppoe="networkPppoe",n.networkDhcp="networkDhcp",n.networkDns="networkDns",n))(B||{});const H=w(!1),A=w(),Fe=w([]),me=Symbol("ifaces"),Ge=V(()=>Fe.value),fe=Symbol("network"),we=w(),Me=V(()=>we.value),qe=Symbol("ports"),N=w([]),He=V(()=>N.value),ke=Symbol("isWan"),Oe=V(()=>{for(let n=0;n<N.value.length;n++)if(N.value[n].linkState!=="DOWN"){for(let t=0;t<N.value[n].interfaceNames.length;t++)if(N.value[n].interfaceNames[t]==="wan")return!0}return!1}),ze=()=>{H.value=!1},je=()=>{A.value="wifi"},Re=n=>{Fe.value=n,A.value="wifiStatus"},Je=(n,t)=>{N.value=t,we.value=n,A.value="network"},x=()=>{A.value="networkLoad"},X=()=>{ze(),ge.push({path:"/router/network"})},Ke=()=>{A.value="networkDns"},Qe=()=>{A.value="networkDhcp"},Xe=()=>{A.value="networkPppoe"},Ye=e("div",{class:"form-item"},[e("div",{class:"form-item_desc"}," \u8BBE\u5B9A\u552F\u4E00\u7684\u540D\u79F0\u6216SSID\uFF08Service Set Identifier\uFF09\u65B9\u4FBF\u8FA8\u8BC6\u60A8\u7684\u65E0\u7EBF\u7F51\u7EDC ")],-1),Ze={class:"form-item"},et={class:"form-item_title"},tt={class:"form-item_conn"},st=["placeholder","onInput","onUpdate:modelValue","disabled"],ut={class:"form-item"},at={class:"form-item_title"},nt={class:"form-item_conn"},ot=["type","placeholder","onInput","onUpdate:modelValue","disabled"],lt=["src"],it={class:"form-item"},ct=["value"],rt=e("span",null,"\u540C\u6B65\u8BBE\u5B9A WIFI \u540D\u79F0\u53CA\u5BC6\u7801",-1),dt=e("div",{class:"",style:{height:"36px"}},null,-1),_t={class:"form-item"},pt={class:"form-item_actions"},vt=["disabled"],ht="/luci-static/istorex/icon/eye-close.png",Dt="/luci-static/istorex/icon/eye-on.png",Ft=P({__name:"wifi",setup(n){const t=w(!1),u=w([]),h=w(!0),i=w(!1),F=w(!1);(()=>k(this,null,function*(){F.value=!0;try{const{data:a}=yield C.Wireless.List.GET(),{error:d,result:o}=a;if(d)throw d;o!=null&&o.ifaces&&(u.value=o.ifaces.filter(p=>!p.isGuest).map(p=>ve(pe({},p),{hidden:p.hidden||!1,disabled:p.disabled||!1,isGuest:p.isGuest||!1,channel:p.channel||0,txpower:p.txpower||0})))}catch(a){console.log(a)}finally{F.value=!1}}))();const r=a=>{var d;return a.band==="2g"?"2.4G":(d=a.band)==null?void 0:d.toUpperCase()},c=(a,d)=>{var o;if(!!h.value&&d.band==="2g")for(let p=0;p<u.value.length;p++){const D=u.value[p];D.band!=="2g"&&!D.isGuest&&(u.value[p].ssid=`${d.ssid}_${(o=D.band)==null?void 0:o.toUpperCase()}`)}},s=(a,d)=>{if(!!h.value&&d.band==="2g")for(let o=0;o<u.value.length;o++){const p=u.value[o];p.band!=="2g"&&!p.isGuest&&(u.value[o].key=d.key)}},l=()=>k(this,null,function*(){if(t.value)return;t.value=!0;const a=$.Loading("\u914D\u7F6E\u4E2D...");try{const d={};for(let p=0;p<u.value.length;p++){const D=u.value[p];D.ifaceName&&(D.hidden=!1,D.disabled=!1,D.encryption="psk2",d[D.ifaceName]=D)}const{data:o}=yield C.Wireless.Setup.POST(d);if(o!=null&&o.error)throw o.error;Re(u.value)}catch(d){$.Error(`${d}`)}finally{a.Close(),t.value=!1}});return(a,d)=>F.value?S("",!0):(_(),v("form",{key:0,onSubmit:M(l,["prevent"])},[Ye,(_(!0),v(b,null,Y(u.value,(o,p)=>(_(),v(b,{key:p},[e("div",Ze,[e("div",et,[e("span",null,I(r(o))+"Hz \u65E0\u7EBF\u540D\u79F0\uFF08SSID\uFF09",1)]),e("div",tt,[E(e("input",{type:"text",placeholder:`\u8BF7\u8F93\u5165 ${r(o)} WIFI \u540D\u79F0`,onInput:D=>c(D,o),"onUpdate:modelValue":D=>o.ssid=D,disabled:t.value,required:""},null,40,st),[[g,o.ssid,void 0,{trim:!0}]])])]),e("div",ut,[e("div",at,[e("span",null,I(r(o))+"Hz \u65E0\u7EBF\u5BC6\u7801",1)]),e("div",nt,[E(e("input",{type:i.value?"text":"password",placeholder:`\u8BF7\u8F93\u5165 ${r(o)} WIFI \u5BC6\u7801`,onInput:D=>s(D,o),"onUpdate:modelValue":D=>o.key=D,disabled:t.value,required:""},null,40,ot),[[Se,o.key,void 0,{trim:!0}]]),e("img",{class:"seeIcon",src:i.value?ht:Dt,onClick:d[0]||(d[0]=D=>i.value=!i.value)},null,8,lt)])])],64))),128)),e("div",it,[e("label",null,[E(e("input",{type:"checkbox","onUpdate:modelValue":d[1]||(d[1]=o=>h.value=o),value:!h.value},null,8,ct),[[Ie,h.value]]),rt])]),dt,e("div",_t,[e("div",pt,[e("button",{class:"submit",disabled:t.value},"\u4FDD\u5B58\u914D\u7F6E",8,vt)])])],32))}});const z=n=>(Z("data-v-ad70734a"),n=n(),ee(),n),mt=z(()=>e("div",{class:"",style:{height:"36px"}},null,-1)),ft=z(()=>e("div",{class:"form-item"},[e("div",{class:"form-item_desc"}," \u8BF7\u5C06 WiFi \u94FE\u63A5\u5230\u65B0\u7684\u65E0\u7EBFSSID ")],-1)),wt={class:"form-item"},kt={class:"form-item_title"},Et={class:"form-item_conn"},bt=["placeholder","onUpdate:modelValue"],yt={class:"form-item"},Bt={class:"form-item_title"},$t={class:"form-item_conn"},Ct=["type","placeholder","value"],gt=["src"],It=z(()=>e("div",{class:"",style:{height:"36px"}},null,-1)),St={class:"form-item"},At={key:0,class:"form-item_msg",style:{"text-align":"center"}},xt=z(()=>e("div",{class:"form-item_msg",style:{"text-align":"center"}}," WiFi \u94FE\u63A5\u6210\u529F ",-1)),Pt="/luci-static/istorex/icon/eye-close.png",Nt="/luci-static/istorex/icon/eye-on.png",Ut=P({__name:"wifiStatus",setup(n){const t=R(me),u=w(!1),h=s=>{var l;return s.band==="2g"?"2.4G":(l=s.band)==null?void 0:l.toUpperCase()},i=w(!1),F=()=>k(this,null,function*(){if(!i.value)try{const{data:s}=yield C.Wireless.List.GET(),{error:l,result:a}=s;if(l)throw l;i.value=!0}catch(s){console.log(s)}finally{}}),m=()=>k(this,null,function*(){x()});let r;const c=()=>{r&&clearInterval(r)};return Ae(()=>{setTimeout(()=>{F(),r=setInterval(()=>{F()},1e3)},3e3)}),xe(()=>{c()}),(s,l)=>(_(),v("form",{onSubmit:M(()=>{},["prevent"])},[mt,ft,(_(!0),v(b,null,Y(f(t),(a,d)=>(_(),v(b,{key:d},[e("div",wt,[e("div",kt,[e("span",null,I(h(a))+"Hz \u65E0\u7EBF\u540D\u79F0\uFF08SSID\uFF09",1)]),e("div",Et,[E(e("input",{type:"text",placeholder:`\u8BF7\u8F93\u5165 ${h(a)} WIFI \u540D\u79F0`,"onUpdate:modelValue":o=>a.ssid=o,disabled:"",required:""},null,8,bt),[[g,a.ssid,void 0,{trim:!0}]])])]),e("div",yt,[e("div",Bt,[e("span",null,I(h(a))+"Hz \u65E0\u7EBF\u5BC6\u7801",1)]),e("div",$t,[e("input",{type:u.value?"text":"password",placeholder:`\u8BF7\u8F93\u5165 ${h(a)} WIFI \u5BC6\u7801`,value:a.key,disabled:"",required:""},null,8,Ct),e("img",{class:"seeIcon",src:u.value?Pt:Nt,onClick:l[0]||(l[0]=o=>u.value=!u.value)},null,8,gt)])])],64))),128)),It,e("div",St,[i.value?(_(),v(b,{key:1},[xt,e("div",{class:"form-item_actions"},[e("button",{class:"submit",type:"button",onClick:m},"\u4E0B\u4E00\u6B65")])],64)):(_(),v("div",At," \u7B49\u5F85 WiFi \u94FE\u63A5\u4E2D... "))])],32))}});var Vt=W(Ut,[["__scopeId","data-v-ad70734a"]]);const y=n=>(Z("data-v-74bd9bc4"),n=n(),ee(),n),Wt={class:"network"},Lt={class:"text-container"},Tt={class:"text-container_item"},Gt=y(()=>e("div",{class:"text-container_item_title"},[e("span",null,"\u8054\u7F51\u72B6\u6001:")],-1)),Mt={class:"text-container_item_value"},qt={key:0},Ht={key:1},Ot={key:2},zt={key:3},jt={key:4},Rt={class:"text-container_item"},Jt=y(()=>e("div",{class:"text-container_item_title"},[e("span",null,"\u8FDE\u63A5\u65B9\u5F0F:")],-1)),Kt={class:"text-container_item_value"},Qt={class:"text-container_item"},Xt=y(()=>e("div",{class:"text-container_item_title"},[e("span",null,"\u8054\u7F51\u65B9\u5F0F:")],-1)),Yt={class:"text-container_item_value"},Zt={class:"text-container_item"},es=y(()=>e("div",{class:"text-container_item_title"},[e("span",null,"IPv4\u5730\u5740:")],-1)),ts={class:"text-container_item_value"},ss={key:0,class:"text-container_item"},us=y(()=>e("div",{class:"text-container_item_title"},[e("span",null,"IPv6\u5730\u5740:")],-1)),as={class:"text-container_item_value"},ns={class:"text-container_item"},os=y(()=>e("div",{class:"text-container_item_title"},[e("span",null,"DNS:")],-1)),ls={class:"text-container_item_value"},is={style:{width:"100%",display:"block"}},cs={class:"text-container_item"},rs=y(()=>e("div",{class:"text-container_item_title"},[e("span")],-1)),ds={class:"text-container_item_value"},_s={key:0,class:"manual-desc"},ps=y(()=>e("span",null,"\u65E0\u6CD5\u68C0\u6D4B\u5230\u7F51\u7EDC,\u53EF\u4EE5\u5230",-1)),vs=y(()=>e("span",null,"\u627E\u5230\u66F4\u591A\u914D\u7F6E",-1)),hs={key:1,class:"manual-desc"},Ds=y(()=>e("span",null,"\u65E0\u6CD5\u8FDE\u63A5\u7F51\u7EDC\uFF0C\u68C0\u6D4B\u5230\u60A8\u7684 WAN \u53E3\u7F51\u7EBF\u672A\u63A5\u5165\uFF0C\u8BF7\u63A5\u5165\u540E\u91CD\u8BD5",-1)),Fs=[Ds],ms=y(()=>e("div",{class:"manual-label"},[e("span",null,"\u4F7F\u7528\u4EE5\u4E0B\u65B9\u5F0F\u914D\u7F6E\u60A8\u7684\u7F51\u7EDC:")],-1)),fs=y(()=>e("span",null,"\u66F4\u591A\u8054\u7F51\u65B9\u5F0F\u8BF7\u524D\u5F80",-1)),ws=y(()=>e("span",null,"\u8F6F\u4EF6\u6E90\u9519\u8BEF,\u53EF\u4EE5\u5230",-1)),ks=y(()=>e("span",null,"\u627E\u5230\u66F4\u591A\u914D\u7F6E",-1)),Es=y(()=>e("div",{class:"manual-label"},[e("span",null,"\u4F7F\u7528\u4EE5\u4E0B\u65B9\u5F0F\u914D\u7F6E\u60A8\u7684\u7F51\u7EDC:")],-1)),bs=y(()=>e("span",null,"\u66F4\u591A\u8054\u7F51\u65B9\u5F0F\u8BF7\u524D\u5F80",-1)),ys={key:2,class:"network-actions"},Bs=y(()=>e("div",{class:"manual-desc"},[e("span",null,"\u65E0\u6CD5\u8FDE\u63A5\u7F51\u7EDC\uFF0CDNS \u9519\u8BEF\uFF0C\u8BF7\u624B\u52A8\u8BBE\u7F6E DNS")],-1)),$s={key:4,class:"network-actions"},Cs=P({__name:"network",setup(n){const t=d=>d.toUpperCase(),u=d=>{switch(d){case"pppoe":return"\u62E8\u53F7\u4E0A\u7F51";case"static":return"\u9759\u6001\u7F51\u7EDC";case"dhcp":return"DHCP"}},h=d=>{switch(d){case"manual":return"\u624B\u52A8\u914D\u7F6E";case"auto":return"\u81EA\u52A8\u83B7\u53D6";default:return""}},i=R(fe);console.log(i==null?void 0:i.value);const F=R(ke),m=()=>{X()},r=()=>{Ke()},c=()=>{Xe()},s=()=>{Qe()},l=()=>{x()},a=()=>{X()};return(d,o)=>{var p,D,L,T,G,te,se,ue,ae,ne,oe,le,ie,ce,re;return _(),v("div",Wt,[e("div",Lt,[e("div",Tt,[Gt,e("div",Mt,[((p=f(i))==null?void 0:p.networkInfo)=="netSuccess"?(_(),v("span",qt," \u5DF2\u8054\u7F51 ")):((D=f(i))==null?void 0:D.networkInfo)=="dnsFailed"?(_(),v("span",Ht," DNS\u9519\u8BEF,\u8BF7\u624B\u52A8\u8BBE\u7F6EDNS ")):((L=f(i))==null?void 0:L.networkInfo)=="softSourceFailed"?(_(),v("span",Ot," \u8F6F\u4EF6\u6E90\u89E3\u6790\u9519\u8BEF ")):((T=f(i))==null?void 0:T.networkInfo)=="netFailed"?(_(),v("span",zt," \u672A\u8054\u7F51 ")):(_(),v("span",jt," \u68C0\u6D4B\u4E2D "))])]),e("div",Rt,[Jt,e("div",Kt,I(t(((G=f(i))==null?void 0:G.defaultInterface)||"")),1)]),e("div",Qt,[Xt,e("div",Yt,I(u(((te=f(i))==null?void 0:te.proto)||"")),1)]),e("div",Zt,[es,e("div",ts,I((se=f(i))==null?void 0:se.ipv4addr),1)]),(ue=f(i))!=null&&ue.ipv6addr?(_(),v("div",ss,[us,e("div",as,I(f(i).ipv6addr),1)])):S("",!0),e("div",ns,[os,e("div",ls,[e("p",null,I(h((ae=f(i))==null?void 0:ae.dnsProto)),1),e("p",is,I((oe=(ne=f(i))==null?void 0:ne.dnsList)==null?void 0:oe.join(", ")),1)])]),e("div",cs,[rs,e("div",ds,[((le=f(i))==null?void 0:le.networkInfo)=="netFailed"?(_(),v(b,{key:0},[f(F)?(_(),v("div",_s,[ps,J(),e("a",{onClick:m},"\u7F51\u7EDC\u914D\u7F6E"),vs])):(_(),v("div",hs,Fs)),e("div",{class:"network-actions"},[e("button",{onClick:l,class:"reload"},"\u91CD\u8BD5")]),f(F)?(_(),v(b,{key:2},[ms,e("div",{class:"manual-links"},[e("li",null,[e("a",{onClick:c},"\u5BBD\u5E26\u62E8\u53F7(PPPOE)")]),e("li",null,[e("a",{onClick:s},"\u8FDE\u63A5\u5230\u73B0\u6709\u8DEF\u7531\u5668(DHCP)")]),e("li",null,[fs,e("a",{onClick:m},"\u7F51\u7EDC\u914D\u7F6E")])])],64)):S("",!0)],64)):((ie=f(i))==null?void 0:ie.networkInfo)=="softSourceFailed"?(_(),v(b,{key:1},[e("div",{class:"manual-desc"},[ws,J(),e("a",{onClick:m},"\u7F51\u7EDC\u914D\u7F6E"),ks]),e("div",{class:"network-actions"},[e("button",{onClick:l,class:"reload"},"\u91CD\u8BD5")]),f(F)?(_(),v(b,{key:0},[Es,e("div",{class:"manual-links"},[e("li",null,[e("a",{onClick:c},"\u5BBD\u5E26\u62E8\u53F7(PPPOE)")]),e("li",null,[e("a",{onClick:s},"\u8FDE\u63A5\u5230\u73B0\u6709\u8DEF\u7531\u5668(DHCP)")]),e("li",null,[bs,e("a",{onClick:m},"\u7F51\u7EDC\u914D\u7F6E")])])],64)):S("",!0)],64)):((ce=f(i))==null?void 0:ce.networkInfo)=="netSuccess"?(_(),v("div",ys,[e("button",{class:"close",onClick:a},"\u5173\u95ED")])):((re=f(i))==null?void 0:re.networkInfo)=="dnsFailed"?(_(),v(b,{key:3},[Bs,e("div",{class:"network-actions"},[e("button",{class:"close",onClick:r},"DNS\u914D\u7F6E"),e("button",{onClick:l,class:"reload"},"\u91CD\u8BD5")])],64)):(_(),v("div",$s,[e("button",{onClick:l,class:"reload"},"\u91CD\u8BD5")]))])])])])}}});var gs=W(Cs,[["__scopeId","data-v-74bd9bc4"]]);const Ee=n=>(Z("data-v-40eea281"),n=n(),ee(),n),Is={class:"network"},Ss=Ee(()=>e("div",{class:"network-desc"}," \u8FDE\u63A5\u7F51\u7EDC\u8D85\u65F6 ",-1)),As=Ee(()=>e("br",null,null,-1)),xs=P({__name:"networkLoad",setup(n){const t=w(),u=w(!0),h=w(!1),i=o=>k(this,null,function*(){yield new Promise(p=>{setTimeout(()=>{p()},o)})});let F=0;const m=()=>k(this,null,function*(){F<5?(yield i(3e3),yield l(),F++):h.value=!0}),r=w([]),c=()=>k(this,null,function*(){const{data:o}=yield C.Network.PortList.GET(),{result:p,error:D}=o;if(D)throw D;r.value=(p==null?void 0:p.ports)||[]}),s=()=>k(this,null,function*(){var o,p;try{const{data:D}=yield C.Network.Status.SetupFinish();if(D.result)switch(t.value=D.result,((o=t.value)==null?void 0:o.networkInfo)==="netFailed"&&(yield c()),(p=t.value)==null?void 0:p.networkInfo){case"netFailed":case"netSuccess":case"dnsFailed":case"softSourceFailed":Je(t.value,r.value);break;default:yield m()}else yield m()}catch(D){}}),l=()=>k(this,null,function*(){try{$.Clear()}catch(p){}u.value=!0;const o=$.Loading("\u6B63\u5728\u68C0\u6D4B\u7F51\u7EDC");try{yield s()}catch(p){}finally{o.Close(),u.value=!1}});l();const a=()=>k(this,null,function*(){h.value=!1,F=0,yield l()}),d=()=>{X()};return(o,p)=>(_(),v("div",Is,[h.value?(_(),v(b,{key:0},[Ss,e("div",{class:"network-actions"},[e("button",{onClick:a,class:"reload"},"\u91CD\u8BD5"),J(),As,e("button",{class:"close",onClick:d},"\u624B\u52A8\u914D\u7F6E")])],64)):S("",!0)]))}});var Ps=W(xs,[["__scopeId","data-v-40eea281"]]);const Ns=e("div",{class:"label-name"},[e("span",null,"DNS\u9009\u9879")],-1),Us={class:"label-value"},Vs=e("option",{value:"auto"},"\u4F7F\u7528\u8FD0\u8425\u5546\u63D0\u4F9B\u7684DNS",-1),Ws=e("option",{value:"manual"},"\u81EA\u5B9A\u4E49DNS",-1),Ls=[Vs,Ws],Ts=e("div",{class:"label-name"},[e("span",null,"DNS\u670D\u52A1\u5668\u5730\u5740")],-1),Gs={class:"label-value"},Ms=e("div",{class:"label-name"}," \u5907\u7528DNS\u670D\u52A1\u5668\u5730\u5740 ",-1),qs={class:"label-value"},Hs={class:"label-btns"},Os=["disabled"],zs=["disabled"],js=P({__name:"networkDns",setup(n){const t=U({interfaceName:"",dnsProto:"auto",manualDnsIp:[]}),u=U({dns1:"",dns2:""}),h=w(!1);(()=>k(this,null,function*(){h.value=!0;try{const r=yield C.Guide.DnsConfig.GET();if(r!=null&&r.data){const{result:c}=r.data;if(c){t.dnsProto=c.dnsProto,t.manualDnsIp=c.manualDnsIp||[];for(let s=0;s<t.manualDnsIp.length;s++){s==0?u.dns1=t.manualDnsIp[s]:s==1&&(u.dns2=t.manualDnsIp[s]);break}}}}catch(r){$.Error(`${r}`)}h.value=!1}))();const F=()=>k(this,null,function*(){let r={};switch(t.dnsProto){case"auto":break;case"manual":r.manualDnsIp=[],t.manualDnsIp!=null&&t.manualDnsIp.length>0?r.manualDnsIp=t.manualDnsIp:(r.manualDnsIp.push(u.dns1),u.dns2&&r.manualDnsIp.push(u.dns2));break}r.dnsProto=t.dnsProto,r.interfaceName=t.interfaceName;const c=$.Loading("\u914D\u7F6E\u4E2D...");try{const s=yield C.Guide.DnsConfig.POST(r);if(s!=null&&s.data){const{success:l,error:a}=s==null?void 0:s.data;if(a)throw a;(l==null||l==0)&&x()}}catch(s){$.Error(`${s}`)}c.Close()}),m=()=>{x()};return(r,c)=>(_(),v("form",{class:"form-container",onSubmit:M(F,["prevent"])},[Ns,e("div",Us,[E(e("select",{"onUpdate:modelValue":c[0]||(c[0]=s=>t.dnsProto=s)},Ls,512),[[K,t.dnsProto]])]),t.dnsProto=="manual"?(_(),v(b,{key:0},[Ts,e("div",Gs,[E(e("input",{type:"text",placeholder:"\u8BF7\u8F93\u5165 dns \u5730\u5740","onUpdate:modelValue":c[1]||(c[1]=s=>u.dns1=s),required:""},null,512),[[g,u.dns1,void 0,{trim:!0}]])]),Ms,e("div",qs,[E(e("input",{type:"text",placeholder:"\u8BF7\u8F93\u5165\u5907\u7528 dns \u5730\u5740","onUpdate:modelValue":c[2]||(c[2]=s=>u.dns2=s)},null,512),[[g,u.dns2,void 0,{trim:!0}]])])],64)):S("",!0),e("div",Hs,[e("button",{class:"back",type:"button",onClick:m,disabled:h.value},"\u8FD4\u56DE",8,Os),e("button",{class:"sumbit",disabled:h.value},"\u4FDD\u5B58",8,zs)])],32))}}),Rs=e("div",{class:"label-info"}," \u8BF7\u786E\u4FDD\u60A8\u5DF2\u5C06\u8DEF\u7531 WAN \u53E3\u8FDE\u63A5\u5230\u4E0A\u7EA7\u8DEF\u7531\u5C40\u57DF\u7F51\uFF08 LAN \uFF09\u63A5\u53E3 ",-1),Js=e("div",{class:"label-name"},[e("span",null,"WAN \u63A5\u53E3\u914D\u7F6E\u65B9\u5F0F")],-1),Ks={class:"label-value"},Qs=e("option",{value:"dhcp"},"\u81EA\u52A8\u83B7\u53D6 IP \u5730\u5740\uFF08DHCP\uFF09",-1),Xs=e("option",{value:"static"},"\u9759\u6001 IP \u5730\u5740",-1),Ys=[Qs,Xs],Zs=e("div",{class:"label-name"},[e("span",null,"IP\u5730\u5740")],-1),eu={class:"label-value"},tu=e("div",{class:"label-name"},[e("span",null,"\u5B50\u7F51\u63A9\u7801")],-1),su={class:"label-value"},uu=e("div",{class:"label-name"},[e("span",null,"\u7F51\u5173\u5730\u5740")],-1),au={class:"label-value"},nu=e("div",{class:"label-name"},[e("span",null,"DNS \u914D\u7F6E\u65B9\u5F0F")],-1),ou={class:"label-value"},lu=e("option",{value:"auto"},"\u81EA\u52A8\u83B7\u53D6\uFF08DHCP\uFF09",-1),iu=e("option",{value:"manual"},"\u624B\u52A8\u914D\u7F6E",-1),cu=[lu,iu],ru=e("div",{class:"label-name"},[e("span",null,"DNS\u670D\u52A1\u5668")],-1),du={class:"label-value"},_u=["onUpdate:modelValue"],pu=e("div",{class:"label-name"},[e("span",null,"DNS\u670D\u52A1\u5668")],-1),vu={class:"label-value"},hu=e("div",{class:"label-name"}," \u5907\u7528DNS\u670D\u52A1\u5668 ",-1),Du={class:"label-value"},Fu={class:"label-btns"},mu=["disabled"],fu=["disabled"],wu=P({__name:"networkDhcp",setup(n){const t=U({enableLanDhcp:!1,wanProto:"dhcp",dnsProto:"auto",staticIp:"",subnetMask:"",manualDnsIp:[],gateway:""}),u=U({staticIP:""}),h=U({dnsAddr1:"",dnsAddr2:""}),i=w(!1);(()=>k(this,null,function*(){i.value=!0;try{const s=yield Promise.all([C.Guide.ClientModel.GET(),C.Network.Status.SetupFinish()]);if(s[0]){const l=s[0],{result:a,error:d}=l.data;if(a){const{wanProto:o,dnsProto:p,staticIp:D,subnetMask:L,gateway:T,manualDnsIp:G}=a;o&&(t.wanProto=o),p&&(t.dnsProto=p),D&&(t.staticIp=D),L&&(t.subnetMask=L),T&&(t.gateway=T),G&&(t.manualDnsIp=G||[])}if(d)throw d}if(s[1]){const l=s[1],{result:a,error:d}=l.data;if(a&&a.ipv4addr&&(u.staticIP=a.ipv4addr),d)throw d}}catch(s){$.Error(`${s}`)}i.value=!1}))();const m=s=>{s.target.value=="static"&&((t.staticIp==null||t.staticIp=="")&&(t.staticIp=u.staticIP),(t.subnetMask==null||t.subnetMask=="")&&(t.subnetMask="255.255.255.0"))},r=()=>k(this,null,function*(){const s={};switch(t.wanProto){case"dhcp":break;case"static":s.staticIp=t.staticIp,s.subnetMask=t.subnetMask,s.gateway=t.gateway||"";break}switch(t.dnsProto){case"auto":break;case"manual":s.manualDnsIp=[],t.manualDnsIp!=null&&t.manualDnsIp.length>0?s.manualDnsIp=t.manualDnsIp:(s.manualDnsIp.push(h.dnsAddr1),h.dnsAddr2&&s.manualDnsIp.push(h.dnsAddr2));break}s.dnsProto=t.dnsProto,s.wanProto=t.wanProto,i.value=!0;const l=$.Loading("\u4FDD\u5B58\u4E2D...");try{const a=yield C.Guide.ClientModel.POST(s);if(a!=null&&a.data){const{success:d,error:o}=a==null?void 0:a.data;if(o)throw o;(d==null||d==0)&&x()}}catch(a){$.Error(`${a}`)}i.value=!1,l.Close()}),c=()=>{x()};return(s,l)=>(_(),v("form",{class:"form-container",onSubmit:M(r,["prevent"])},[Rs,Js,e("div",Ks,[E(e("select",{"onUpdate:modelValue":l[0]||(l[0]=a=>t.wanProto=a),onInput:m},Ys,544),[[K,t.wanProto]])]),t.wanProto=="static"?(_(),v(b,{key:0},[Zs,e("div",eu,[E(e("input",{type:"text",placeholder:"ip\u5730\u5740","onUpdate:modelValue":l[1]||(l[1]=a=>t.staticIp=a),required:""},null,512),[[g,t.staticIp,void 0,{trim:!0}]])]),tu,e("div",su,[E(e("input",{type:"text",placeholder:"\u5B50\u7F51\u63A9\u7801\u5730\u5740","onUpdate:modelValue":l[2]||(l[2]=a=>t.subnetMask=a),required:""},null,512),[[g,t.subnetMask,void 0,{trim:!0}]])]),uu,e("div",au,[E(e("input",{type:"text",placeholder:"\u7F51\u5173\u5730\u5740","onUpdate:modelValue":l[3]||(l[3]=a=>t.gateway=a),required:""},null,512),[[g,t.gateway,void 0,{trim:!0}]])])],64)):S("",!0),nu,e("div",ou,[E(e("select",{"onUpdate:modelValue":l[4]||(l[4]=a=>t.dnsProto=a)},cu,512),[[K,t.dnsProto]])]),t.dnsProto=="manual"?(_(),v(b,{key:1},[t.manualDnsIp!=null&&t.manualDnsIp.length>0?(_(!0),v(b,{key:0},Y(t.manualDnsIp,(a,d)=>(_(),v(b,null,[ru,e("div",du,[E(e("input",{type:"text",placeholder:"DNS\u670D\u52A1\u5668\u5730\u5740","onUpdate:modelValue":o=>t.manualDnsIp[d]=o},null,8,_u),[[g,t.manualDnsIp[d],void 0,{trim:!0}]])])],64))),256)):(_(),v(b,{key:1},[pu,e("div",vu,[E(e("input",{type:"text",placeholder:"\u4E3BDNS\u670D\u52A1\u5668\u5730\u5740","onUpdate:modelValue":l[5]||(l[5]=a=>h.dnsAddr1=a),required:""},null,512),[[g,h.dnsAddr1,void 0,{trim:!0}]])]),hu,e("div",Du,[E(e("input",{type:"text",placeholder:"\u5907\u7528DNS\u670D\u52A1\u5668\u5730\u5740","onUpdate:modelValue":l[6]||(l[6]=a=>h.dnsAddr2=a)},null,512),[[g,h.dnsAddr2,void 0,{trim:!0}]])])],64))],64)):S("",!0),e("div",Fu,[e("button",{class:"back",type:"button",onClick:c,disabled:i.value},"\u8FD4\u56DE",8,mu),e("button",{class:"sumbit",disabled:i.value},"\u4FDD\u5B58",8,fu)])],32))}}),ku=e("div",{class:"label-info"}," \u8BF7\u786E\u4FDD\u60A8\u5DF2\u5C06\u8DEF\u7531 WAN \u53E3\u8FDE\u63A5\u5230\u5149\u732B ",-1),Eu=e("div",{class:"label-name"},[e("span",null,"\u8D26\u53F7")],-1),bu={class:"label-value"},yu=e("div",{class:"label-name"},[e("span",null,"\u5BC6\u7801")],-1),Bu={class:"label-value"},$u={class:"label-btns"},Cu=["disabled"],gu=["disabled"],Iu=P({__name:"networkPppoe",setup(n){const t=U({account:"",password:""}),u=w(!1),h=w(!1);(()=>k(this,null,function*(){u.value=!0;try{const r=yield C.Guide.Pppoe.GET(),{result:c}=r.data;c&&(t.account=c.account||"",t.password=c.password||"")}catch(r){$.Error(`${r}`)}finally{}u.value=!1,h.value=!0}))();const F=()=>k(this,null,function*(){if(t.account==""){$.Warning("\u8D26\u53F7\u4E0D\u80FD\u4E3A\u7A7A");return}if(t.password==""){$.Warning("\u5BC6\u7801\u4E0D\u80FD\u4E3A\u7A7A");return}u.value=!0;const r=$.Loading("\u4FDD\u5B58\u4E2D...");try{const c=yield C.Guide.Pppoe.POST({account:t.account,password:t.password});if(c.data){const{error:s,success:l}=c.data;if(s)throw s;(l==null||l==0)&&x()}}catch(c){$.Error(`${c}`)}finally{}u.value=!1,r.Close()}),m=()=>{x()};return(r,c)=>(_(),v("form",{class:"form-container",onSubmit:M(F,["prevent"])},[ku,Eu,e("div",bu,[E(e("input",{type:"text",placeholder:"\u5BBD\u5E26\u8D26\u53F7","onUpdate:modelValue":c[0]||(c[0]=s=>t.account=s),required:""},null,512),[[g,t.account,void 0,{trim:!0}]])]),yu,e("div",Bu,[E(e("input",{type:"password",placeholder:"\u5BBD\u5E26\u5BC6\u7801","onUpdate:modelValue":c[1]||(c[1]=s=>t.password=s),required:""},null,512),[[g,t.password,void 0,{trim:!0}]])]),e("div",$u,[e("button",{class:"back",type:"button",onClick:m,disabled:u.value},"\u8FD4\u56DE",8,Cu),e("button",{class:"sumbit",disabled:u.value},"\u4FDD\u5B58",8,gu)])],32))}});const Su=P({__name:"index",setup(n){q(me,Ge),q(fe,Me),q(qe,He),q(ke,Oe);const t=V(()=>{switch(A.value){case B.wifi:return Ft;case B.wifiStatus:return Vt;case B.network:return gs;case B.networkLoad:return Ps;case B.networkDns:return js;case B.networkDhcp:return wu;case B.networkPppoe:return Iu}return Te}),u=V(()=>{switch(A.value){case B.wifi:return"\u65E0\u7EBF\u7F51\u7EDC\u914D\u7F6E";case B.wifiStatus:return"\u65E0\u7EBF\u7F51\u7EDC\u72B6\u6001";case B.network:return"\u7F51\u7EDC\u72B6\u6001";case B.networkLoad:return"\u7F51\u7EDC\u68C0\u6D4B";case B.networkDns:return"DNS\u914D\u7F6E";case B.networkDhcp:return"DHCP\u914D\u7F6E";case B.networkPppoe:return"\u62E8\u53F7\u914D\u7F6E"}return""}),h=()=>k(this,null,function*(){try{const{data:F}=yield C.Guide.Setup.GET(),{result:m}=F;m&&m.need&&(H.value=!0,m.wifi?je():x())}catch(F){console.log(F)}}),i=()=>{H.value=!1};return h(),(F,m)=>f(H)?(_(),O(Pe,{key:0,title:u.value,width:"860px",beforeClose:i},{default:Q(()=>[(_(),O(De(t.value)))]),_:1},8,["title"])):S("",!0)}});var Au=W(Su,[["__scopeId","data-v-4c3853ba"]]);const xu={class:"body"},Pu=P({__name:"index",setup(n){const t=Ne();return(u,h)=>{const i=he("layout-header"),F=he("router-view");return _(),v("div",{id:"main",key:f(t).reloadCount},[e("div",xu,[j(i),j(F,null,{default:Q(({Component:m,route:r})=>[(_(),O(Ue,null,{default:Q(()=>[(_(),O(De(m),{key:r.path}))]),_:2},1024))]),_:1}),j(Au)])])}}});var Vu=W(Pu,[["__scopeId","data-v-6fc68118"]]);export{Vu as default};
